import{u as z,c as b,a as ee,_ as B,b as y,d as o,e as P,w as V,r as H,f as I,g as S,o as m,h as te,t as p,T as re,F,i as j,j as oe,k as ae,l as ne,m as A,v as M,n as k}from"./index-yDoSkrsL.js";const se={setup(){const l=ee(),e=z(),x=b(()=>Array.isArray(e.items)?e.items:e.items&&Array.isArray(e.items.value)?e.items.value:[]),r=b(()=>typeof e.totalPrice=="number"?e.totalPrice:e.totalPrice&&typeof e.totalPrice.value=="number"?e.totalPrice.value:x.value.reduce((d,c)=>{var f;const i=Number(((f=c==null?void 0:c.product)==null?void 0:f.price)??(c==null?void 0:c.price)??0)||0,u=Number((c==null?void 0:c.quantity)??(c==null?void 0:c.qty)??(c==null?void 0:c.count)??1)||0;return d+i*u},0));function g(d){if(typeof e.decrementItem=="function")e.decrementItem(d);else if(typeof e.removeOne=="function")e.removeOne(d);else{const c=x.value.findIndex(i=>{var u;return(((u=i.product)==null?void 0:u.id)??i.id)===d});if(c!==-1){const i=x.value[c],u=Number(i.quantity??i.qty??i.count??1),f=Math.max(0,u-1);i.quantity!==void 0?i.quantity=f:i.qty!==void 0?i.qty=f:i.quantity=f,f===0&&(typeof e.removeFromCart=="function"?e.removeFromCart(d):Array.isArray(e.items)?e.items.splice(c,1):e.items&&Array.isArray(e.items.value)&&e.items.value.splice(c,1))}}}function w(d){if(typeof e.addToCart=="function")e.addToCart(d);else if(typeof e.increase=="function")e.increase(d);else if(Array.isArray(e.items)){const c=e.items.findIndex(i=>{var u,f;return(((u=i.product)==null?void 0:u.id)??i.id)===(d.id??((f=d.product)==null?void 0:f.id))});if(c!==-1){const i=e.items[c];i.quantity=(Number(i.quantity??i.qty??0)||0)+1}else e.items.push({product:d,quantity:1})}else if(e.items&&Array.isArray(e.items.value)){const c=e.items.value,i=c.findIndex(u=>{var f,q;return(((f=u.product)==null?void 0:f.id)??u.id)===(d.id??((q=d.product)==null?void 0:q.id))});if(i!==-1){const u=c[i];u.quantity=(Number(u.quantity??u.qty??0)||0)+1}else c.push({product:d,quantity:1})}}function _(d){if(typeof e.removeFromCart=="function")e.removeFromCart(d);else if(typeof e.remove=="function")e.remove(d);else{const c=Array.isArray(e.items)?e.items:e.items&&Array.isArray(e.items.value)?e.items.value:[],i=c.findIndex(u=>{var f;return(((f=u.product)==null?void 0:f.id)??u.id)===d});i!==-1&&c.splice(i,1)}}function a(){l.push("/checkout")}return{cartItems:x,totalPrice:r,decrement:g,increment:w,remove:_,proceedToCheckout:a}}},le={class:"checkout-header",role:"banner","aria-label":"Encabezado checkout"},ce={class:"container"},de={class:"brand",role:"img","aria-label":"Mi E-Commerce"},ie=["src"],ue={__name:"navBarCheckout",setup(l){let e=null;try{e=new URL("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='2500'%20height='2500'%20viewBox='0%200%20192.756%20192.756'%3e%3cg%20fill-rule='evenodd'%20clip-rule='evenodd'%3e%3cpath%20fill='%23fff'%20d='M0%200h192.756v192.756H0V0z'/%3e%3cpath%20d='M19.551%20114.27v-3.028H6.316V97.779h11.512v-3.026H6.316V81.514h13.235v-3.03H2.834v35.786h16.717zM80.744%20114.27v-3.028H67.675V78.484h-3.477v35.786h16.546zM94.127%20114.27h3.482V78.484h-3.482v35.786zM189.922%20114.27v-3.028h-13.244V97.779h11.527v-3.026h-11.527V81.514h13.244v-3.03h-16.719v35.786h16.719zM113.637%20114.27h3.473v-12.193l4.471.008c7.584%200%2011.951-5.951%2011.951-11.929%200-5.985-4.367-11.671-11.951-11.671h-7.943v35.785h-.001z'/%3e%3cpath%20d='M117.109%2098.863v-17.16h4.426c5.42%200%208.533%203.266%208.533%208.448%200%205.179-3.125%208.712-8.541%208.712h-4.418z'%20fill='%23fff'/%3e%3cpath%20d='M142.301%20112.422c1.459%201.178%204.092%202.355%207.455%202.355%205.781%200%209.537-3.482%209.537-9.367%200-5.104-2.92-8.248-8.021-11.781-3.535-2.467-5.164-4.876-5.164-7.516%200-2.747%201.852-5.164%205.387-5.164%202.129%200%204.262.954%205.273%201.852l.617-3.03c-1.125-.837-3.311-1.792-6.004-1.792-5.715%200-8.693%203.873-8.693%208.357%200%204.099%202.303%207.292%207.352%2010.66%204.035%202.693%205.717%205.217%205.717%208.697%200%203.811-2.58%206-6.061%206-2.588%200-4.861-.928-6.785-2.295l-.61%203.024zM42.5%20110.172c2.443-.023%204.057-.479%205.289-1.213l-.402-2.137c-1.284.67-2.894%201.041-4.777%201.041-5.936%200-9.69-4.545-9.69-11.488%200-6.937%203.796-11.523%209.69-11.523%202.189%200%204.167.757%205.304%201.599l.421-2.315c-1.307-.86-3.255-1.522-5.834-1.557%200%200%20.069%200%200%200-7.319%200-12.236%205.345-12.236%2013.797%200%208.416%204.985%2013.805%2012.236%2013.805.067-.001-.001-.009-.001-.009z'/%3e%3c/g%3e%3c/svg%3e",import.meta.url).href}catch{e=null}return(x,r)=>{const g=H("router-link");return m(),y("header",le,[o("div",ce,[P(g,{to:"/",class:"back","aria-label":"Volver al inicio"},{default:V(()=>r[0]||(r[0]=[o("svg",{class:"icon",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",focusable:"false"},[o("path",{d:"M15 19l-7-7 7-7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),o("span",{class:"back-text"},"Inicio",-1)])),_:1,__:[0]}),o("div",de,[P(g,{to:"/",class:"brand-link","aria-label":"Ir al inicio - Mi E-Commerce"},{default:V(()=>[S(e)?(m(),y("img",{key:0,class:"brand-logo",src:S(e),alt:"Mi E-Commerce"},null,8,ie)):I("",!0),r[1]||(r[1]=o("span",{class:"brand-title"},"Eclipse",-1))]),_:1,__:[1]})]),r[2]||(r[2]=o("div",{class:"right-space","aria-hidden":"true"},null,-1))])])}}},fe=B(ue,[["__scopeId","data-v-8cc650de"]]),pe={name:"Checkout",components:{Cart:se,CheckoutHeader:fe},setup(){const l=z(),e=l.items,x=k(""),r=k(""),g=k(""),w=k(""),_=k(!1),a=k(""),d=k(""),c=k(7.5),i=new URL("../assets/placeholder-product.png",import.meta.url).href,u=b(()=>typeof l.totalPrice=="number"?Number(l.totalPrice||0):Array.isArray(e)?e.reduce((t,s)=>{var h;const v=(s==null?void 0:s.price)??(s==null?void 0:s.unitPrice)??(s==null?void 0:s.amount)??((h=s==null?void 0:s.product)==null?void 0:h.price)??0,n=parseFloat(String(v).replace(",","."))||0,C=Number((s==null?void 0:s.qty)??(s==null?void 0:s.quantity)??(s==null?void 0:s.count)??1)||0;return t+n*C},0):0),f=b(()=>u.value.toFixed(2)),q=b(()=>Number(c.value||0).toFixed(2)),T=b(()=>(u.value+Number(c.value||0)).toFixed(2));function N(t){return(t==null?void 0:t.name)??(t==null?void 0:t.title)??(t==null?void 0:t.productName)??(t==null?void 0:t.label)??((t==null?void 0:t.product)&&t.product.name)??"Producto"}function E(t){return Number((t==null?void 0:t.qty)??(t==null?void 0:t.quantity)??(t==null?void 0:t.count)??(t==null?void 0:t.amount)??1)||0}function D(t){var v;return((Number((t==null?void 0:t.price)??(t==null?void 0:t.unitPrice)??(t==null?void 0:t.amount)??((v=t==null?void 0:t.product)==null?void 0:v.price)??0)||0)*E(t)).toFixed(2)}const O=b(()=>Array.isArray(e)?e.reduce((t,s)=>t+E(s),0):0),R=b(()=>Array.isArray(e)?e.map(t=>{const s=Number((t==null?void 0:t.qty)??(t==null?void 0:t.quantity)??(t==null?void 0:t.count)??(t==null?void 0:t.amount)??1)||0;return{...t,qty:s}}).filter(t=>t.qty>0):[]);function U(t){const s=(t==null?void 0:t.id)??(t==null?void 0:t.productId)??(t==null?void 0:t.sku)??(t.product&&(t.product.id??t.product.sku))??N(t);if(Array.isArray(e)){const v=e.findIndex(n=>((n==null?void 0:n.id)??(n==null?void 0:n.productId)??(n==null?void 0:n.sku)??(n.product&&(n.product.id??n.product.sku))??N(n))===s);if(v!==-1){const n=e[v];if(n.qty!==void 0?n.qty=Number(n.qty||0)+1:n.quantity!==void 0?n.quantity=Number(n.quantity||0)+1:n.count!==void 0?n.count=Number(n.count||0)+1:n.qty=2,typeof l.save=="function")try{l.save()}catch{}return}}if(typeof l.addToCart=="function"){const v=t.product??{...t};l.addToCart(v);return}if(Array.isArray(e)){e.push({...t||{},qty:1});return}alert("No se pudo aumentar la cantidad: revisa los métodos del store (addToCart, increase, updateQuantity).")}function Q(t){const s=(t==null?void 0:t.id)??(t==null?void 0:t.productId)??(t==null?void 0:t.sku)??(t.product&&(t.product.id??t.product.sku))??N(t);if(Array.isArray(e)){const v=e.findIndex(n=>((n==null?void 0:n.id)??(n==null?void 0:n.productId)??(n==null?void 0:n.sku)??(n.product&&(n.product.id??n.product.sku))??N(n))===s);if(v!==-1){const n=e[v],C=Number((n==null?void 0:n.qty)??(n==null?void 0:n.quantity)??(n==null?void 0:n.count)??1),h=Math.max(0,C-1);if(n.qty!==void 0?n.qty=h:n.quantity!==void 0?n.quantity=h:n.count!==void 0?n.count=h:n.quantity=h,h===0&&(typeof l.removeFromCart=="function"?l.removeFromCart(t):typeof l.remove=="function"?l.remove(t):e.splice(v,1)),typeof l.save=="function")try{l.save()}catch{}return}}if(typeof l.decrease=="function"){l.decrease(t);return}if(typeof l.removeOne=="function"){l.removeOne(t);return}alert("No se pudo disminuir la cantidad: revisa los métodos del store (decrease, removeOne, updateQuantity).")}function G(){if(!e||e.length===0||!confirm("¿Deseas vaciar tu carrito? Esta acción no se puede deshacer."))return;if(typeof l.clearCart=="function")try{l.clearCart();return}catch(s){console.warn("clearCart failed:",s)}if(typeof l.clear=="function")try{l.clear();return}catch(s){console.warn("clear failed:",s)}if(typeof l.empty=="function")try{l.empty();return}catch(s){console.warn("empty failed:",s)}const t=async()=>{if(typeof l.save=="function")try{await l.save()}catch(s){console.warn("cartStore.save() failed:",s)}else if(typeof l.sync=="function")try{await l.sync()}catch(s){console.warn("cartStore.sync() failed:",s)}};if(Array.isArray(e)){e.splice(0,e.length),t();return}if(l&&l.items!==void 0)try{if(Array.isArray(l.items)){l.items.splice(0,l.items.length),t();return}if(typeof l.setItems=="function"){l.setItems([]),t();return}}catch(s){console.warn("No se pudo vaciar usando la API del store:",s)}alert("No se pudo vaciar el carrito automáticamente. Revisa los métodos del store (clearCart/clear/empty).")}function L(){const t=document.getElementById("payment-section");t&&t.scrollIntoView({behavior:"smooth",block:"start"})}const J=b(()=>(String(r.value||"").replace(/\s/g,"")+"################").slice(0,16).match(/.{1,4}/g)||["####","####","####","####"]),K=b(()=>g.value||"MM/AA");function W(t){let s=t.target.value.replace(/\D/g,"").slice(0,16);s=s.replace(/(.{4})/g,"$1 ").trim(),r.value=s}function X(t){let s=t.target.value.replace(/\D/g,"").slice(0,4);s.length>=3&&(s=s.slice(0,2)+"/"+s.slice(2)),g.value=s}function Y(t){w.value=t.target.value.replace(/\D/g,"").slice(0,4)}function Z(){if(a.value="",!x.value.trim())return a.value="Por favor ingresa el nombre que aparece en la tarjeta.",!1;if(r.value.replace(/\s/g,"").length!==16)return a.value="Ingresa un número de tarjeta válido de 16 dígitos.",!1;if(!g.value.match(/^\d{2}\/\d{2}$/))return a.value="Formato de expiración inválido (MM/AA).",!1;const[s]=g.value.split("/").map(Number);return s<1||s>12?(a.value="Mes de expiración inválido.",!1):/^\d{3,4}$/.test(w.value)?!e||e.length===0?(a.value="Tu carrito está vacío.",!1):!0:(a.value="CVV inválido.",!1)}async function $(){if(a.value="",d.value="",!!Z()){_.value=!0;try{await new Promise(t=>setTimeout(t,1200)),d.value=`Pago exitoso por S/. ${T.value}. Gracias por tu compra.`,typeof l.clearCart=="function"?l.clearCart():typeof l.clear=="function"&&l.clear(),r.value="",g.value="",w.value="",x.value=""}catch(t){a.value="Ocurrió un error procesando el pago. Intenta nuevamente.",console.error(t)}finally{_.value=!1}}}return{cartItems:e,shippingFee:c,grandTotal:T,cardName:x,cardNumber:r,expiry:g,cvv:w,processing:_,formError:a,successMessage:d,displayCardNumberGroups:J,displayExpiry:K,onCardNumberInput:W,onExpiryInput:X,onCvvInput:Y,handlePayment:$,subtotal:u,subtotalFormatted:f,shippingFeeFormatted:q,productName:N,itemQty:E,lineTotal:D,totalItems:O,increaseItem:U,decreaseItem:Q,clearCartConfirm:G,placeholderImg:i,scrollToPayment:L,visibleCartItems:R}}},me={class:"checkout-container pt-28 max-w-6xl mx-auto p-6"},ve={class:"grid gap-6 lg:grid-cols-2 items-start","aria-live":"polite"},ye={class:"bg-white rounded-2xl shadow-lg p-6 transform transition-all duration-500 hover:shadow-2xl hover:-translate-y-1","aria-label":"Resumen del carrito"},ge={class:"flex items-center justify-between mb-6"},xe={key:"empty",class:"text-sm text-gray-400 italic"},be={key:"items",class:"text-sm font-medium text-purple-600 bg-purple-50 px-3 py-1 rounded-full shadow-sm"},he=["src","alt"],ke={class:"flex-1 min-w-0"},we={class:"text-sm font-semibold text-gray-800 truncate"},_e={class:"text-xs text-gray-500"},Ce={class:"mt-2 flex items-center gap-2"},Ne=["onClick","disabled"],Ie=["onClick","disabled"],qe={class:"mt-2 text-xs text-gray-500"},Ae={class:"text-sm font-bold text-gray-900 whitespace-nowrap"},Me={class:"border-t pt-5 mt-5 space-y-3"},Pe={class:"flex items-center justify-between text-sm"},Ve={class:"font-medium text-gray-700"},Ee={class:"flex items-center justify-between text-sm"},Fe={class:"font-medium text-gray-700"},Te={class:"flex items-center justify-between pt-3 border-t"},Se={class:"text-2xl font-extrabold text-purple-600"},je={class:"mt-6 flex gap-3"},ze=["disabled"],Be={id:"payment-section",class:"bg-white rounded-2xl shadow-lg transform transition-all duration-400 hover:shadow-xl max-w-md mx-auto"},He={class:"card-realistic rounded-xl p-4 relative overflow-hidden","aria-hidden":"true"},De={class:"card-number mt-6 font-mono text-lg flex justify-between w-full"},Oe={class:"card-meta flex items-end justify-between mt-4"},Re={class:"meta-left min-w-0"},Ue={class:"meta-value font-medium truncate"},Qe={class:"meta-right text-right"},Ge={class:"meta-value font-semibold"},Le={class:"form-group"},Je={class:"form-group"},Ke={class:"expiry-cvv grid grid-cols-2 gap-4"},We={key:0,class:"rounded-md bg-red-50 p-3 text-sm text-red-700",role:"alert","aria-live":"assertive"},Xe={key:1,class:"rounded-md bg-green-50 p-3 text-sm text-green-700",role:"status","aria-live":"polite"},Ye={class:"flex items-center gap-3"},Ze=["disabled"],$e={key:0,class:"w-5 h-5 animate-spin",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true"},et={key:1},tt={key:2};function rt(l,e,x,r,g,w){const _=H("CheckoutHeader");return m(),y(F,null,[P(_),o("section",me,[o("div",ve,[o("aside",ye,[o("header",ge,[e[11]||(e[11]=o("h2",{class:"text-xl font-bold text-gray-900 tracking-tight"},"🛒 Tu carrito",-1)),P(re,{name:"fade-scale",mode:"out-in"},{default:V(()=>[!r.cartItems||r.cartItems.length===0?(m(),y("span",xe," Vacío ")):(m(),y("span",be,p(r.totalItems)+" "+p(r.totalItems===1?"item":"items"),1))]),_:1})]),r.visibleCartItems&&r.visibleCartItems.length>0?(m(),te(oe,{key:0,name:"list",tag:"div",class:"space-y-3 mb-6","aria-live":"polite"},{default:V(()=>[(m(!0),y(F,null,j(r.visibleCartItems,a=>(m(),y("div",{key:a.id??a.productId??a.sku??r.productName(a),class:"bg-gray-50 rounded-xl p-3 flex items-center gap-4 shadow-sm hover:shadow-md transition",role:"group"},[o("img",{src:a.image??a.img??a.picture??r.placeholderImg,alt:r.productName(a),class:"w-14 h-14 object-cover rounded-lg border",onError:e[0]||(e[0]=d=>d.target.src=r.placeholderImg)},null,40,he),o("div",ke,[o("p",we,p(r.productName(a)),1),o("p",_e,"x"+p(r.itemQty(a)),1),o("div",Ce,[o("button",{onClick:d=>r.decreaseItem(a),class:"px-2 py-1 rounded-md text-xs border hover:bg-gray-100","aria-label":"Disminuir cantidad",disabled:r.processing},"−",8,Ne),o("button",{onClick:d=>r.increaseItem(a),class:"px-2 py-1 rounded-md text-xs border hover:bg-gray-100","aria-label":"Aumentar cantidad",disabled:r.processing},"+",8,Ie)]),o("div",qe," Precio: S/. "+p(Number(String(a.price??a.unitPrice??a.amount??(a.product&&a.product.price)??0).replace(",",".")).toFixed(2)),1)]),o("p",Ae," S/. "+p((Number(String(a.price??a.unitPrice??a.amount??(a.product&&a.product.price)??0).replace(",","."))*r.itemQty(a)).toFixed(2)),1)]))),128))]),_:1})):I("",!0),o("div",Me,[o("div",Pe,[e[12]||(e[12]=o("span",{class:"text-gray-500"},"Subtotal",-1)),o("span",Ve,"S/. "+p(r.subtotalFormatted),1)]),o("div",Ee,[e[13]||(e[13]=o("span",{class:"text-gray-500"},"Envío",-1)),o("span",Fe,"S/. "+p(r.shippingFeeFormatted),1)]),o("div",Te,[e[14]||(e[14]=o("span",{class:"text-base font-semibold text-gray-900"},"Total",-1)),o("span",Se,"S/. "+p(r.grandTotal),1)])]),o("div",je,[o("button",{type:"button",class:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-semibold bg-gradient-to-br from-purple-600 to-purple-500 text-white shadow-lg hover:brightness-105 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-purple-300 transform transition active:scale-95",onClick:e[1]||(e[1]=(...a)=>r.scrollToPayment&&r.scrollToPayment(...a))}," Ir a pagar "),o("button",{type:"button",onClick:e[2]||(e[2]=(...a)=>r.clearCartConfirm&&r.clearCartConfirm(...a)),class:"px-4 py-3 rounded-lg border border-gray-200 text-gray-700 hover:shadow-sm transition focus:outline-none",disabled:r.processing||!r.visibleCartItems||r.visibleCartItems.length===0}," Vaciar carrito ",8,ze)]),e[15]||(e[15]=o("p",{class:"mt-6 text-xs text-gray-500 text-center leading-relaxed"}," 🔒 Pago 100% seguro · 🚚 Envíos en 24–48h · 🔄 Devoluciones en 14 días ",-1))]),o("main",Be,[e[26]||(e[26]=o("h3",{class:"text-lg font-semibold text-gray-800 mb-2"},"Información de Pago",-1)),o("form",{onSubmit:e[10]||(e[10]=ae((...a)=>r.handlePayment&&r.handlePayment(...a),["prevent"])),class:"space-y-3",novalidate:""},[o("div",He,[e[18]||(e[18]=ne('<div class="card-overlay" aria-hidden="true" data-v-8753e7ed></div><div class="card-top flex items-start justify-between" data-v-8753e7ed><div class="chip" aria-hidden="true" data-v-8753e7ed><span class="chip-lines" data-v-8753e7ed></span></div><div class="card-logos flex items-center gap-3" data-v-8753e7ed><svg class="icon-contactless" viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" fill="none" data-v-8753e7ed><path d="M2 12c0 3.31 2.69 6 6 6" stroke="rgba(255,255,255,0.9)" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" data-v-8753e7ed></path><path d="M5 12c0 1.66 1.34 3 3 3" stroke="rgba(255,255,255,0.95)" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" data-v-8753e7ed></path></svg><div class="mc-ops" aria-hidden="true" data-v-8753e7ed><span class="mc-left" data-v-8753e7ed></span><span class="mc-right" data-v-8753e7ed></span></div></div></div>',2)),o("div",De,[(m(!0),y(F,null,j(r.displayCardNumberGroups,(a,d)=>(m(),y("span",{key:d,class:"tracking-widest"},p(a),1))),128))]),o("div",Oe,[o("div",Re,[e[16]||(e[16]=o("div",{class:"meta-label text-xs opacity-80"},"Titular",-1)),o("div",Ue,p(r.cardName||"NOMBRE EN LA TARJETA"),1)]),o("div",Qe,[e[17]||(e[17]=o("div",{class:"meta-label text-xs opacity-80"},"Vence",-1)),o("div",Ge,p(r.displayExpiry),1)])])]),o("div",Le,[e[19]||(e[19]=o("label",{for:"cardName",class:"block text-sm font-medium text-gray-700"},"Nombre en la tarjeta",-1)),A(o("input",{id:"cardName","onUpdate:modelValue":e[3]||(e[3]=a=>r.cardName=a),type:"text",class:"mt-1 block w-full px-4 py-2 rounded-lg border border-gray-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-300 transition",placeholder:"Juan Pérez",autocomplete:"cc-name",required:""},null,512),[[M,r.cardName]])]),o("div",Je,[e[20]||(e[20]=o("label",{for:"cardNumber",class:"block text-sm font-medium text-gray-700"},"Número de tarjeta",-1)),A(o("input",{id:"cardNumber","onUpdate:modelValue":e[4]||(e[4]=a=>r.cardNumber=a),onInput:e[5]||(e[5]=(...a)=>r.onCardNumberInput&&r.onCardNumberInput(...a)),inputmode:"numeric",maxlength:"19",class:"mt-1 block w-full px-4 py-2 rounded-lg border border-gray-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-300 transition font-mono",placeholder:"#### #### #### ####",autocomplete:"cc-number","aria-describedby":"cardNumberHelp",required:""},null,544),[[M,r.cardNumber]]),e[21]||(e[21]=o("p",{id:"cardNumberHelp",class:"mt-1 text-xs text-gray-400"},"Aceptamos Visa, MasterCard y débito.",-1))]),o("div",Ke,[o("div",null,[e[22]||(e[22]=o("label",{for:"expiry",class:"block text-sm font-medium text-gray-700"},"Expiración (MM/AA)",-1)),A(o("input",{id:"expiry","onUpdate:modelValue":e[6]||(e[6]=a=>r.expiry=a),onInput:e[7]||(e[7]=(...a)=>r.onExpiryInput&&r.onExpiryInput(...a)),inputmode:"numeric",maxlength:"5",class:"mt-1 block w-full px-4 py-2 rounded-lg border border-gray-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-300 transition",placeholder:"MM/AA",autocomplete:"cc-exp",required:""},null,544),[[M,r.expiry]])]),o("div",null,[e[23]||(e[23]=o("label",{for:"cvv",class:"block text-sm font-medium text-gray-700"},"CVV",-1)),A(o("input",{id:"cvv","onUpdate:modelValue":e[8]||(e[8]=a=>r.cvv=a),onInput:e[9]||(e[9]=(...a)=>r.onCvvInput&&r.onCvvInput(...a)),inputmode:"numeric",maxlength:"4",class:"mt-1 block w-full px-4 py-2 rounded-lg border border-gray-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-300 transition",placeholder:"123",autocomplete:"cc-csc",required:""},null,544),[[M,r.cvv]])])]),r.formError?(m(),y("div",We,p(r.formError),1)):I("",!0),r.successMessage?(m(),y("div",Xe,p(r.successMessage),1)):I("",!0),o("div",Ye,[o("button",{type:"submit",disabled:r.processing||!r.visibleCartItems||r.visibleCartItems.length===0,class:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold bg-gradient-to-br from-purple-600 to-purple-500 text-white shadow-lg hover:brightness-105 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-purple-300 transform transition active:scale-95 disabled:opacity-60 disabled:cursor-not-allowed"},[r.processing?(m(),y("svg",$e,e[24]||(e[24]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 100 16v-4l-3 3 3 3v-4a8 8 0 01-8-8z"},null,-1)]))):I("",!0),r.processing?(m(),y("span",tt,"Procesando...")):(m(),y("span",et,"Pagar S/. "+p(r.grandTotal),1))],8,Ze)]),e[25]||(e[25]=o("p",{class:"mt-1 text-xs text-gray-400"},"Esta es una simulación de pago.",-1))],32)])])])],64)}const nt=B(pe,[["render",rt],["__scopeId","data-v-8753e7ed"]]);export{nt as default};
