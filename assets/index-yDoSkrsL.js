const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Checkout-BeiNlsJb.js","assets/Checkout-D-fShR1v.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Vu(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const je={},xi=[],Cn=()=>{},ww=()=>!1,al=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Bu=t=>t.startsWith("onUpdate:"),ct=Object.assign,Uu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},bw=Object.prototype.hasOwnProperty,Ne=(t,e)=>bw.call(t,e),ae=Array.isArray,Ci=t=>mo(t)==="[object Map]",Xi=t=>mo(t)==="[object Set]",xf=t=>mo(t)==="[object Date]",be=t=>typeof t=="function",nt=t=>typeof t=="string",Pn=t=>typeof t=="symbol",ze=t=>t!==null&&typeof t=="object",og=t=>(ze(t)||be(t))&&be(t.then)&&be(t.catch),ag=Object.prototype.toString,mo=t=>ag.call(t),Ew=t=>mo(t).slice(8,-1),lg=t=>mo(t)==="[object Object]",ju=t=>nt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Sr=Vu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ll=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Sw=/-(\w)/g,cn=ll(t=>t.replace(Sw,(e,n)=>n?n.toUpperCase():"")),_w=/\B([A-Z])/g,Ns=ll(t=>t.replace(_w,"-$1").toLowerCase()),cl=ll(t=>t.charAt(0).toUpperCase()+t.slice(1)),Jl=ll(t=>t?`on${cl(t)}`:""),Es=(t,e)=>!Object.is(t,e),ca=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},cg=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Ea=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Tw=t=>{const e=nt(t)?Number(t):NaN;return isNaN(e)?t:e};let Cf;const ul=()=>Cf||(Cf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function zu(t){if(ae(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=nt(s)?Aw(s):zu(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(nt(t)||ze(t))return t}const xw=/;(?![^(]*\))/g,Cw=/:([^]+)/,Iw=/\/\*[^]*?\*\//g;function Aw(t){const e={};return t.replace(Iw,"").split(xw).forEach(n=>{if(n){const s=n.split(Cw);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function rt(t){let e="";if(nt(t))e=t;else if(ae(t))for(let n=0;n<t.length;n++){const s=rt(t[n]);s&&(e+=s+" ")}else if(ze(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const kw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Pw=Vu(kw);function ug(t){return!!t||t===""}function Rw(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=ei(t[s],e[s]);return n}function ei(t,e){if(t===e)return!0;let n=xf(t),s=xf(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Pn(t),s=Pn(e),n||s)return t===e;if(n=ae(t),s=ae(e),n||s)return n&&s?Rw(t,e):!1;if(n=ze(t),s=ze(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!ei(t[o],e[o]))return!1}}return String(t)===String(e)}function Hu(t,e){return t.findIndex(n=>ei(n,e))}const dg=t=>!!(t&&t.__v_isRef===!0),We=t=>nt(t)?t:t==null?"":ae(t)||ze(t)&&(t.toString===ag||!be(t.toString))?dg(t)?We(t.value):JSON.stringify(t,fg,2):String(t),fg=(t,e)=>dg(e)?fg(t,e.value):Ci(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[Zl(s,r)+" =>"]=i,n),{})}:Xi(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Zl(n))}:Pn(e)?Zl(e):ze(e)&&!ae(e)&&!lg(e)?String(e):e,Zl=(t,e="")=>{var n;return Pn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _t;class hg{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=_t,!e&&_t&&(this.index=(_t.scopes||(_t.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=_t;try{return _t=this,e()}finally{_t=n}}}on(){++this._on===1&&(this.prevScope=_t,_t=this)}off(){this._on>0&&--this._on===0&&(_t=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function pg(t){return new hg(t)}function gg(){return _t}function Mw(t,e=!1){_t&&_t.cleanups.push(t)}let He;const ec=new WeakSet;class mg{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,_t&&_t.active&&_t.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ec.has(this)&&(ec.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||yg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,If(this),wg(this);const e=He,n=dn;He=this,dn=!0;try{return this.fn()}finally{bg(this),He=e,dn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Wu(e);this.deps=this.depsTail=void 0,If(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ec.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){jc(this)&&this.run()}get dirty(){return jc(this)}}let vg=0,_r,Tr;function yg(t,e=!1){if(t.flags|=8,e){t.next=Tr,Tr=t;return}t.next=_r,_r=t}function qu(){vg++}function Gu(){if(--vg>0)return;if(Tr){let e=Tr;for(Tr=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;_r;){let e=_r;for(_r=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function wg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function bg(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Wu(s),Ow(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function jc(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Eg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Eg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Fr)||(t.globalVersion=Fr,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!jc(t))))return;t.flags|=2;const e=t.dep,n=He,s=dn;He=t,dn=!0;try{wg(t);const i=t.fn(t._value);(e.version===0||Es(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{He=n,dn=s,bg(t),t.flags&=-3}}function Wu(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Wu(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ow(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let dn=!0;const Sg=[];function Wn(){Sg.push(dn),dn=!1}function Kn(){const t=Sg.pop();dn=t===void 0?!0:t}function If(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=He;He=void 0;try{e()}finally{He=n}}}let Fr=0;class Dw{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ku{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!He||!dn||He===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==He)n=this.activeLink=new Dw(He,this),He.deps?(n.prevDep=He.depsTail,He.depsTail.nextDep=n,He.depsTail=n):He.deps=He.depsTail=n,_g(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=He.depsTail,n.nextDep=void 0,He.depsTail.nextDep=n,He.depsTail=n,He.deps===n&&(He.deps=s)}return n}trigger(e){this.version++,Fr++,this.notify(e)}notify(e){qu();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Gu()}}}function _g(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)_g(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Sa=new WeakMap,Ks=Symbol(""),zc=Symbol(""),$r=Symbol("");function xt(t,e,n){if(dn&&He){let s=Sa.get(t);s||Sa.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new Ku),i.map=s,i.key=n),i.track()}}function $n(t,e,n,s,i,r){const o=Sa.get(t);if(!o){Fr++;return}const a=l=>{l&&l.trigger()};if(qu(),e==="clear")o.forEach(a);else{const l=ae(t),c=l&&ju(n);if(l&&n==="length"){const u=Number(s);o.forEach((d,f)=>{(f==="length"||f===$r||!Pn(f)&&f>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get($r)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Ks)),Ci(t)&&a(o.get(zc)));break;case"delete":l||(a(o.get(Ks)),Ci(t)&&a(o.get(zc)));break;case"set":Ci(t)&&a(o.get(Ks));break}}Gu()}function Nw(t,e){const n=Sa.get(t);return n&&n.get(e)}function mi(t){const e=Ie(t);return e===t?e:(xt(e,"iterate",$r),rn(t)?e:e.map(wt))}function dl(t){return xt(t=Ie(t),"iterate",$r),t}const Lw={__proto__:null,[Symbol.iterator](){return tc(this,Symbol.iterator,wt)},concat(...t){return mi(this).concat(...t.map(e=>ae(e)?mi(e):e))},entries(){return tc(this,"entries",t=>(t[1]=wt(t[1]),t))},every(t,e){return On(this,"every",t,e,void 0,arguments)},filter(t,e){return On(this,"filter",t,e,n=>n.map(wt),arguments)},find(t,e){return On(this,"find",t,e,wt,arguments)},findIndex(t,e){return On(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return On(this,"findLast",t,e,wt,arguments)},findLastIndex(t,e){return On(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return On(this,"forEach",t,e,void 0,arguments)},includes(...t){return nc(this,"includes",t)},indexOf(...t){return nc(this,"indexOf",t)},join(t){return mi(this).join(t)},lastIndexOf(...t){return nc(this,"lastIndexOf",t)},map(t,e){return On(this,"map",t,e,void 0,arguments)},pop(){return cr(this,"pop")},push(...t){return cr(this,"push",t)},reduce(t,...e){return Af(this,"reduce",t,e)},reduceRight(t,...e){return Af(this,"reduceRight",t,e)},shift(){return cr(this,"shift")},some(t,e){return On(this,"some",t,e,void 0,arguments)},splice(...t){return cr(this,"splice",t)},toReversed(){return mi(this).toReversed()},toSorted(t){return mi(this).toSorted(t)},toSpliced(...t){return mi(this).toSpliced(...t)},unshift(...t){return cr(this,"unshift",t)},values(){return tc(this,"values",wt)}};function tc(t,e,n){const s=dl(t),i=s[e]();return s!==t&&!rn(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const Fw=Array.prototype;function On(t,e,n,s,i,r){const o=dl(t),a=o!==t&&!rn(t),l=o[e];if(l!==Fw[e]){const d=l.apply(t,r);return a?wt(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,wt(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const u=l.call(o,c,s);return a&&i?i(u):u}function Af(t,e,n,s){const i=dl(t);let r=n;return i!==t&&(rn(t)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,t)}):r=function(o,a,l){return n.call(this,o,wt(a),l,t)}),i[e](r,...s)}function nc(t,e,n){const s=Ie(t);xt(s,"iterate",$r);const i=s[e](...n);return(i===-1||i===!1)&&Xu(n[0])?(n[0]=Ie(n[0]),s[e](...n)):i}function cr(t,e,n=[]){Wn(),qu();const s=Ie(t)[e].apply(t,n);return Gu(),Kn(),s}const $w=Vu("__proto__,__v_isRef,__isVue"),Tg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Pn));function Vw(t){Pn(t)||(t=String(t));const e=Ie(this);return xt(e,"has",t),e.hasOwnProperty(t)}class xg{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?Yw:kg:r?Ag:Ig).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ae(e);if(!i){let l;if(o&&(l=Lw[n]))return l;if(n==="hasOwnProperty")return Vw}const a=Reflect.get(e,n,tt(e)?e:s);return(Pn(n)?Tg.has(n):$w(n))||(i||xt(e,"get",n),r)?a:tt(a)?o&&ju(n)?a:a.value:ze(a)?i?Pg(a):Hn(a):a}}class Cg extends xg{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const l=ks(r);if(!rn(s)&&!ks(s)&&(r=Ie(r),s=Ie(s)),!ae(e)&&tt(r)&&!tt(s))return l?!1:(r.value=s,!0)}const o=ae(e)&&ju(n)?Number(n)<e.length:Ne(e,n),a=Reflect.set(e,n,s,tt(e)?e:i);return e===Ie(i)&&(o?Es(s,r)&&$n(e,"set",n,s):$n(e,"add",n,s)),a}deleteProperty(e,n){const s=Ne(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&$n(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!Pn(n)||!Tg.has(n))&&xt(e,"has",n),s}ownKeys(e){return xt(e,"iterate",ae(e)?"length":Ks),Reflect.ownKeys(e)}}class Bw extends xg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Uw=new Cg,jw=new Bw,zw=new Cg(!0);const Hc=t=>t,Ho=t=>Reflect.getPrototypeOf(t);function Hw(t,e,n){return function(...s){const i=this.__v_raw,r=Ie(i),o=Ci(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...s),u=n?Hc:e?_a:wt;return!e&&xt(r,"iterate",l?zc:Ks),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function qo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function qw(t,e){const n={get(i){const r=this.__v_raw,o=Ie(r),a=Ie(i);t||(Es(i,a)&&xt(o,"get",i),xt(o,"get",a));const{has:l}=Ho(o),c=e?Hc:t?_a:wt;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&xt(Ie(i),"iterate",Ks),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=Ie(r),a=Ie(i);return t||(Es(i,a)&&xt(o,"has",i),xt(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=Ie(a),c=e?Hc:t?_a:wt;return!t&&xt(l,"iterate",Ks),a.forEach((u,d)=>i.call(r,c(u),c(d),o))}};return ct(n,t?{add:qo("add"),set:qo("set"),delete:qo("delete"),clear:qo("clear")}:{add(i){!e&&!rn(i)&&!ks(i)&&(i=Ie(i));const r=Ie(this);return Ho(r).has.call(r,i)||(r.add(i),$n(r,"add",i,i)),this},set(i,r){!e&&!rn(r)&&!ks(r)&&(r=Ie(r));const o=Ie(this),{has:a,get:l}=Ho(o);let c=a.call(o,i);c||(i=Ie(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?Es(r,u)&&$n(o,"set",i,r):$n(o,"add",i,r),this},delete(i){const r=Ie(this),{has:o,get:a}=Ho(r);let l=o.call(r,i);l||(i=Ie(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&$n(r,"delete",i,void 0),c},clear(){const i=Ie(this),r=i.size!==0,o=i.clear();return r&&$n(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Hw(i,t,e)}),n}function Yu(t,e){const n=qw(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(Ne(n,i)&&i in s?n:s,i,r)}const Gw={get:Yu(!1,!1)},Ww={get:Yu(!1,!0)},Kw={get:Yu(!0,!1)};const Ig=new WeakMap,Ag=new WeakMap,kg=new WeakMap,Yw=new WeakMap;function Qw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xw(t){return t.__v_skip||!Object.isExtensible(t)?0:Qw(Ew(t))}function Hn(t){return ks(t)?t:Qu(t,!1,Uw,Gw,Ig)}function Vr(t){return Qu(t,!1,zw,Ww,Ag)}function Pg(t){return Qu(t,!0,jw,Kw,kg)}function Qu(t,e,n,s,i){if(!ze(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=Xw(t);if(r===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,r===2?s:n);return i.set(t,a),a}function Ss(t){return ks(t)?Ss(t.__v_raw):!!(t&&t.__v_isReactive)}function ks(t){return!!(t&&t.__v_isReadonly)}function rn(t){return!!(t&&t.__v_isShallow)}function Xu(t){return t?!!t.__v_raw:!1}function Ie(t){const e=t&&t.__v_raw;return e?Ie(e):t}function Ju(t){return!Ne(t,"__v_skip")&&Object.isExtensible(t)&&cg(t,"__v_skip",!0),t}const wt=t=>ze(t)?Hn(t):t,_a=t=>ze(t)?Pg(t):t;function tt(t){return t?t.__v_isRef===!0:!1}function J(t){return Rg(t,!1)}function Jw(t){return Rg(t,!0)}function Rg(t,e){return tt(t)?t:new Zw(t,e)}class Zw{constructor(e,n){this.dep=new Ku,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ie(e),this._value=n?e:wt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||rn(e)||ks(e);e=s?e:Ie(e),Es(e,n)&&(this._rawValue=e,this._value=s?e:wt(e),this.dep.trigger())}}function ot(t){return tt(t)?t.value:t}const eb={get:(t,e,n)=>e==="__v_raw"?t:ot(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return tt(i)&&!tt(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Mg(t){return Ss(t)?t:new Proxy(t,eb)}function Og(t){const e=ae(t)?new Array(t.length):{};for(const n in t)e[n]=nb(t,n);return e}class tb{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Nw(Ie(this._object),this._key)}}function nb(t,e,n){const s=t[e];return tt(s)?s:new tb(t,e,n)}class sb{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ku(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&He!==this)return yg(this,!0),!0}get value(){const e=this.dep.track();return Eg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ib(t,e,n=!1){let s,i;return be(t)?s=t:(s=t.get,i=t.set),new sb(s,i,n)}const Go={},Ta=new WeakMap;let js;function rb(t,e=!1,n=js){if(n){let s=Ta.get(n);s||Ta.set(n,s=[]),s.push(t)}}function ob(t,e,n=je){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=n,c=b=>i?b:rn(b)||i===!1||i===0?Vn(b,1):Vn(b);let u,d,f,h,g=!1,v=!1;if(tt(t)?(d=()=>t.value,g=rn(t)):Ss(t)?(d=()=>c(t),g=!0):ae(t)?(v=!0,g=t.some(b=>Ss(b)||rn(b)),d=()=>t.map(b=>{if(tt(b))return b.value;if(Ss(b))return c(b);if(be(b))return l?l(b,2):b()})):be(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Wn();try{f()}finally{Kn()}}const b=js;js=u;try{return l?l(t,3,[h]):t(h)}finally{js=b}}:d=Cn,e&&i){const b=d,E=i===!0?1/0:i;d=()=>Vn(b(),E)}const k=gg(),_=()=>{u.stop(),k&&k.active&&Uu(k.effects,u)};if(r&&e){const b=e;e=(...E)=>{b(...E),_()}}let m=v?new Array(t.length).fill(Go):Go;const p=b=>{if(!(!(u.flags&1)||!u.dirty&&!b))if(e){const E=u.run();if(i||g||(v?E.some((C,x)=>Es(C,m[x])):Es(E,m))){f&&f();const C=js;js=u;try{const x=[E,m===Go?void 0:v&&m[0]===Go?[]:m,h];m=E,l?l(e,3,x):e(...x)}finally{js=C}}}else u.run()};return a&&a(p),u=new mg(d),u.scheduler=o?()=>o(p,!1):p,h=b=>rb(b,!1,u),f=u.onStop=()=>{const b=Ta.get(u);if(b){if(l)l(b,4);else for(const E of b)E();Ta.delete(u)}},e?s?p(!0):m=u.run():o?o(p.bind(null,!0),!0):u.run(),_.pause=u.pause.bind(u),_.resume=u.resume.bind(u),_.stop=_,_}function Vn(t,e=1/0,n){if(e<=0||!ze(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,tt(t))Vn(t.value,e,n);else if(ae(t))for(let s=0;s<t.length;s++)Vn(t[s],e,n);else if(Xi(t)||Ci(t))t.forEach(s=>{Vn(s,e,n)});else if(lg(t)){for(const s in t)Vn(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Vn(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vo(t,e,n,s){try{return s?t(...s):t()}catch(i){fl(i,e,n)}}function fn(t,e,n,s){if(be(t)){const i=vo(t,e,n,s);return i&&og(i)&&i.catch(r=>{fl(r,e,n)}),i}if(ae(t)){const i=[];for(let r=0;r<t.length;r++)i.push(fn(t[r],e,n,s));return i}}function fl(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||je;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(r){Wn(),vo(r,null,10,[t,l,c]),Kn();return}}ab(t,n,i,s,o)}function ab(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const Lt=[];let bn=-1;const Ii=[];let cs=null,wi=0;const Dg=Promise.resolve();let xa=null;function yo(t){const e=xa||Dg;return t?e.then(this?t.bind(this):t):e}function lb(t){let e=bn+1,n=Lt.length;for(;e<n;){const s=e+n>>>1,i=Lt[s],r=Br(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function Zu(t){if(!(t.flags&1)){const e=Br(t),n=Lt[Lt.length-1];!n||!(t.flags&2)&&e>=Br(n)?Lt.push(t):Lt.splice(lb(e),0,t),t.flags|=1,Ng()}}function Ng(){xa||(xa=Dg.then(Fg))}function cb(t){ae(t)?Ii.push(...t):cs&&t.id===-1?cs.splice(wi+1,0,t):t.flags&1||(Ii.push(t),t.flags|=1),Ng()}function kf(t,e,n=bn+1){for(;n<Lt.length;n++){const s=Lt[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Lt.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Lg(t){if(Ii.length){const e=[...new Set(Ii)].sort((n,s)=>Br(n)-Br(s));if(Ii.length=0,cs){cs.push(...e);return}for(cs=e,wi=0;wi<cs.length;wi++){const n=cs[wi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}cs=null,wi=0}}const Br=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Fg(t){try{for(bn=0;bn<Lt.length;bn++){const e=Lt[bn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),vo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;bn<Lt.length;bn++){const e=Lt[bn];e&&(e.flags&=-2)}bn=-1,Lt.length=0,Lg(),xa=null,(Lt.length||Ii.length)&&Fg()}}let $t=null,$g=null;function Ca(t){const e=$t;return $t=t,$g=t&&t.type.__scopeId||null,e}function Pe(t,e=$t,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Bf(-1);const r=Ca(e);let o;try{o=t(...i)}finally{Ca(r),s._d&&Bf(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function tn(t,e){if($t===null)return t;const n=yl($t),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,l=je]=e[i];r&&(be(r)&&(r={mounted:r,updated:r}),r.deep&&Vn(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Vs(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(Wn(),fn(l,n,8,[t.el,a,t,e]),Kn())}}const ub=Symbol("_vte"),Vg=t=>t.__isTeleport,us=Symbol("_leaveCb"),Wo=Symbol("_enterCb");function Bg(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return mn(()=>{t.isMounted=!0}),ui(()=>{t.isUnmounting=!0}),t}const en=[Function,Array],Ug={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:en,onEnter:en,onAfterEnter:en,onEnterCancelled:en,onBeforeLeave:en,onLeave:en,onAfterLeave:en,onLeaveCancelled:en,onBeforeAppear:en,onAppear:en,onAfterAppear:en,onAppearCancelled:en},jg=t=>{const e=t.subTree;return e.component?jg(e.component):e},db={name:"BaseTransition",props:Ug,setup(t,{slots:e}){const n=vl(),s=Bg();return()=>{const i=e.default&&ed(e.default(),!0);if(!i||!i.length)return;const r=zg(i),o=Ie(t),{mode:a}=o;if(s.isLeaving)return sc(r);const l=Pf(r);if(!l)return sc(r);let c=Ur(l,o,s,n,d=>c=d);l.type!==Ft&&ti(l,c);let u=n.subTree&&Pf(n.subTree);if(u&&u.type!==Ft&&!Hs(l,u)&&jg(n).type!==Ft){let d=Ur(u,o,s,n);if(ti(u,d),a==="out-in"&&l.type!==Ft)return s.isLeaving=!0,d.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},sc(r);a==="in-out"&&l.type!==Ft?d.delayLeave=(f,h,g)=>{const v=Hg(s,u);v[String(u.key)]=u,f[us]=()=>{h(),f[us]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{g(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function zg(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Ft){e=n;break}}return e}const fb=db;function Hg(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Ur(t,e,n,s,i){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:g,onLeaveCancelled:v,onBeforeAppear:k,onAppear:_,onAfterAppear:m,onAppearCancelled:p}=e,b=String(t.key),E=Hg(n,t),C=(T,I)=>{T&&fn(T,s,9,I)},x=(T,I)=>{const M=I[1];C(T,I),ae(T)?T.every(D=>D.length<=1)&&M():T.length<=1&&M()},P={mode:o,persisted:a,beforeEnter(T){let I=l;if(!n.isMounted)if(r)I=k||l;else return;T[us]&&T[us](!0);const M=E[b];M&&Hs(t,M)&&M.el[us]&&M.el[us](),C(I,[T])},enter(T){let I=c,M=u,D=d;if(!n.isMounted)if(r)I=_||c,M=m||u,D=p||d;else return;let z=!1;const oe=T[Wo]=re=>{z||(z=!0,re?C(D,[T]):C(M,[T]),P.delayedLeave&&P.delayedLeave(),T[Wo]=void 0)};I?x(I,[T,oe]):oe()},leave(T,I){const M=String(t.key);if(T[Wo]&&T[Wo](!0),n.isUnmounting)return I();C(f,[T]);let D=!1;const z=T[us]=oe=>{D||(D=!0,I(),oe?C(v,[T]):C(g,[T]),T[us]=void 0,E[M]===t&&delete E[M])};E[M]=t,h?x(h,[T,z]):z()},clone(T){const I=Ur(T,e,n,s,i);return i&&i(I),I}};return P}function sc(t){if(hl(t))return t=Yn(t),t.children=null,t}function Pf(t){if(!hl(t))return Vg(t.type)&&t.children?zg(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&be(n.default))return n.default()}}function ti(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ti(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ed(t,e=!1,n){let s=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===et?(o.patchFlag&128&&i++,s=s.concat(ed(o.children,e,a))):(e||o.type!==Ft)&&s.push(a!=null?Yn(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function wo(t,e){return be(t)?ct({name:t.name},e,{setup:t}):t}function hb(){const t=vl();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function qg(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Ia(t,e,n,s,i=!1){if(ae(t)){t.forEach((g,v)=>Ia(g,e&&(ae(e)?e[v]:e),n,s,i));return}if(xr(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Ia(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?yl(s.component):s.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===je?a.refs={}:a.refs,d=a.setupState,f=Ie(d),h=d===je?()=>!1:g=>Ne(f,g);if(c!=null&&c!==l&&(nt(c)?(u[c]=null,h(c)&&(d[c]=null)):tt(c)&&(c.value=null)),be(l))vo(l,a,12,[o,u]);else{const g=nt(l),v=tt(l);if(g||v){const k=()=>{if(t.f){const _=g?h(l)?d[l]:u[l]:l.value;i?ae(_)&&Uu(_,r):ae(_)?_.includes(r)||_.push(r):g?(u[l]=[r],h(l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else g?(u[l]=o,h(l)&&(d[l]=o)):v&&(l.value=o,t.k&&(u[t.k]=o))};o?(k.id=-1,Kt(k,n)):k()}}}ul().requestIdleCallback;ul().cancelIdleCallback;const xr=t=>!!t.type.__asyncLoader,hl=t=>t.type.__isKeepAlive;function pb(t,e){Gg(t,"a",e)}function gb(t,e){Gg(t,"da",e)}function Gg(t,e,n=ht){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(pl(e,s,n),n){let i=n.parent;for(;i&&i.parent;)hl(i.parent.vnode)&&mb(s,e,n,i),i=i.parent}}function mb(t,e,n,s){const i=pl(e,t,s,!0);Eo(()=>{Uu(s[e],i)},n)}function pl(t,e,n=ht,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Wn();const a=So(n),l=fn(e,n,t,o);return a(),Kn(),l});return s?i.unshift(r):i.push(r),r}}const ts=t=>(e,n=ht)=>{(!zr||t==="sp")&&pl(t,(...s)=>e(...s),n)},vb=ts("bm"),mn=ts("m"),Wg=ts("bu"),bo=ts("u"),ui=ts("bum"),Eo=ts("um"),yb=ts("sp"),wb=ts("rtg"),bb=ts("rtc");function Eb(t,e=ht){pl("ec",t,e)}const Sb="components";function Ni(t,e){return Tb(Sb,t,!0,e)||t}const _b=Symbol.for("v-ndc");function Tb(t,e,n=!0,s=!1){const i=$t||ht;if(i){const r=i.type;{const a=d1(r,!1);if(a&&(a===e||a===cn(e)||a===cl(cn(e))))return r}const o=Rf(i[t]||r[t],e)||Rf(i.appContext[t],e);return!o&&s?r:o}}function Rf(t,e){return t&&(t[e]||t[cn(e)]||t[cl(cn(e))])}function qn(t,e,n,s){let i;const r=n,o=ae(t);if(o||nt(t)){const a=o&&Ss(t);let l=!1,c=!1;a&&(l=!rn(t),c=ks(t),t=dl(t)),i=new Array(t.length);for(let u=0,d=t.length;u<d;u++)i[u]=e(l?c?_a(wt(t[u])):wt(t[u]):t[u],u,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,r)}else if(ze(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,r)}}else i=[];return i}const qc=t=>t?fm(t)?yl(t):qc(t.parent):null,Cr=ct(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>qc(t.parent),$root:t=>qc(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Yg(t),$forceUpdate:t=>t.f||(t.f=()=>{Zu(t.update)}),$nextTick:t=>t.n||(t.n=yo.bind(t.proxy)),$watch:t=>Gb.bind(t)}),ic=(t,e)=>t!==je&&!t.__isScriptSetup&&Ne(t,e),xb={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(ic(s,e))return o[e]=1,s[e];if(i!==je&&Ne(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&Ne(c,e))return o[e]=3,r[e];if(n!==je&&Ne(n,e))return o[e]=4,n[e];Gc&&(o[e]=0)}}const u=Cr[e];let d,f;if(u)return e==="$attrs"&&xt(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==je&&Ne(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Ne(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return ic(i,e)?(i[e]=n,!0):s!==je&&Ne(s,e)?(s[e]=n,!0):Ne(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==je&&Ne(t,o)||ic(e,o)||(a=r[0])&&Ne(a,o)||Ne(s,o)||Ne(Cr,o)||Ne(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ne(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Mf(t){return ae(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Gc=!0;function Cb(t){const e=Yg(t),n=t.proxy,s=t.ctx;Gc=!1,e.beforeCreate&&Of(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:g,activated:v,deactivated:k,beforeDestroy:_,beforeUnmount:m,destroyed:p,unmounted:b,render:E,renderTracked:C,renderTriggered:x,errorCaptured:P,serverPrefetch:T,expose:I,inheritAttrs:M,components:D,directives:z,filters:oe}=e;if(c&&Ib(c,s,null),o)for(const R in o){const O=o[R];be(O)&&(s[R]=O.bind(n))}if(i){const R=i.call(n,n);ze(R)&&(t.data=Hn(R))}if(Gc=!0,r)for(const R in r){const O=r[R],Z=be(O)?O.bind(n,n):be(O.get)?O.get.bind(n,n):Cn,ve=!be(O)&&be(O.set)?O.set.bind(n):Cn,Le=he({get:Z,set:ve});Object.defineProperty(s,R,{enumerable:!0,configurable:!0,get:()=>Le.value,set:Ae=>Le.value=Ae})}if(a)for(const R in a)Kg(a[R],s,n,R);if(l){const R=be(l)?l.call(n):l;Reflect.ownKeys(R).forEach(O=>{_s(O,R[O])})}u&&Of(u,t,"c");function W(R,O){ae(O)?O.forEach(Z=>R(Z.bind(n))):O&&R(O.bind(n))}if(W(vb,d),W(mn,f),W(Wg,h),W(bo,g),W(pb,v),W(gb,k),W(Eb,P),W(bb,C),W(wb,x),W(ui,m),W(Eo,b),W(yb,T),ae(I))if(I.length){const R=t.exposed||(t.exposed={});I.forEach(O=>{Object.defineProperty(R,O,{get:()=>n[O],set:Z=>n[O]=Z})})}else t.exposed||(t.exposed={});E&&t.render===Cn&&(t.render=E),M!=null&&(t.inheritAttrs=M),D&&(t.components=D),z&&(t.directives=z),T&&qg(t)}function Ib(t,e,n=Cn){ae(t)&&(t=Wc(t));for(const s in t){const i=t[s];let r;ze(i)?"default"in i?r=qt(i.from||s,i.default,!0):r=qt(i.from||s):r=qt(i),tt(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Of(t,e,n){fn(ae(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Kg(t,e,n,s){let i=s.includes(".")?am(n,s):()=>n[s];if(nt(t)){const r=e[t];be(r)&&Qt(i,r)}else if(be(t))Qt(i,t.bind(n));else if(ze(t))if(ae(t))t.forEach(r=>Kg(r,e,n,s));else{const r=be(t.handler)?t.handler.bind(n):e[t.handler];be(r)&&Qt(i,r,t)}}function Yg(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>Aa(l,c,o,!0)),Aa(l,e,o)),ze(e)&&r.set(e,l),l}function Aa(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&Aa(t,r,n,!0),i&&i.forEach(o=>Aa(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=Ab[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Ab={data:Df,props:Nf,emits:Nf,methods:gr,computed:gr,beforeCreate:Nt,created:Nt,beforeMount:Nt,mounted:Nt,beforeUpdate:Nt,updated:Nt,beforeDestroy:Nt,beforeUnmount:Nt,destroyed:Nt,unmounted:Nt,activated:Nt,deactivated:Nt,errorCaptured:Nt,serverPrefetch:Nt,components:gr,directives:gr,watch:Pb,provide:Df,inject:kb};function Df(t,e){return e?t?function(){return ct(be(t)?t.call(this,this):t,be(e)?e.call(this,this):e)}:e:t}function kb(t,e){return gr(Wc(t),Wc(e))}function Wc(t){if(ae(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Nt(t,e){return t?[...new Set([].concat(t,e))]:e}function gr(t,e){return t?ct(Object.create(null),t,e):e}function Nf(t,e){return t?ae(t)&&ae(e)?[...new Set([...t,...e])]:ct(Object.create(null),Mf(t),Mf(e??{})):e}function Pb(t,e){if(!t)return e;if(!e)return t;const n=ct(Object.create(null),t);for(const s in e)n[s]=Nt(t[s],e[s]);return n}function Qg(){return{app:null,config:{isNativeTag:ww,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Rb=0;function Mb(t,e){return function(s,i=null){be(s)||(s=ct({},s)),i!=null&&!ze(i)&&(i=null);const r=Qg(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:Rb++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:h1,get config(){return r.config},set config(u){},use(u,...d){return o.has(u)||(u&&be(u.install)?(o.add(u),u.install(c,...d)):be(u)&&(o.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||we(s,i);return h.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),t(h,u,f),l=!0,c._container=u,u.__vue_app__=c,yl(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(fn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=Ys;Ys=c;try{return u()}finally{Ys=d}}};return c}}let Ys=null;function _s(t,e){if(ht){let n=ht.provides;const s=ht.parent&&ht.parent.provides;s===n&&(n=ht.provides=Object.create(s)),n[t]=e}}function qt(t,e,n=!1){const s=ht||$t;if(s||Ys){let i=Ys?Ys._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&be(e)?e.call(s&&s.proxy):e}}function Ob(){return!!(ht||$t||Ys)}const Xg={},Jg=()=>Object.create(Xg),Zg=t=>Object.getPrototypeOf(t)===Xg;function Db(t,e,n,s=!1){const i={},r=Jg();t.propsDefaults=Object.create(null),em(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:Vr(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function Nb(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=Ie(i),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(gl(t.emitsOptions,f))continue;const h=e[f];if(l)if(Ne(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const g=cn(f);i[g]=Kc(l,a,g,h,t,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{em(t,e,i,r)&&(c=!0);let u;for(const d in a)(!e||!Ne(e,d)&&((u=Ns(d))===d||!Ne(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=Kc(l,a,d,void 0,t,!0)):delete i[d]);if(r!==a)for(const d in r)(!e||!Ne(e,d))&&(delete r[d],c=!0)}c&&$n(t.attrs,"set","")}function em(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Sr(l))continue;const c=e[l];let u;i&&Ne(i,u=cn(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:gl(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=Ie(n),c=a||je;for(let u=0;u<r.length;u++){const d=r[u];n[d]=Kc(i,l,d,c[d],t,!Ne(c,d))}}return o}function Kc(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=Ne(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&be(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=So(i);s=c[n]=l.call(null,e),u()}}else s=l;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Ns(n))&&(s=!0))}return s}const Lb=new WeakMap;function tm(t,e,n=!1){const s=n?Lb:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!be(t)){const u=d=>{l=!0;const[f,h]=tm(d,e,!0);ct(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return ze(t)&&s.set(t,xi),xi;if(ae(r))for(let u=0;u<r.length;u++){const d=cn(r[u]);Lf(d)&&(o[d]=je)}else if(r)for(const u in r){const d=cn(u);if(Lf(d)){const f=r[u],h=o[d]=ae(f)||be(f)?{type:f}:ct({},f),g=h.type;let v=!1,k=!0;if(ae(g))for(let _=0;_<g.length;++_){const m=g[_],p=be(m)&&m.name;if(p==="Boolean"){v=!0;break}else p==="String"&&(k=!1)}else v=be(g)&&g.name==="Boolean";h[0]=v,h[1]=k,(v||Ne(h,"default"))&&a.push(d)}}const c=[o,a];return ze(t)&&s.set(t,c),c}function Lf(t){return t[0]!=="$"&&!Sr(t)}const td=t=>t[0]==="_"||t==="$stable",nd=t=>ae(t)?t.map(En):[En(t)],Fb=(t,e,n)=>{if(e._n)return e;const s=Pe((...i)=>nd(e(...i)),n);return s._c=!1,s},nm=(t,e,n)=>{const s=t._ctx;for(const i in t){if(td(i))continue;const r=t[i];if(be(r))e[i]=Fb(i,r,s);else if(r!=null){const o=nd(r);e[i]=()=>o}}},sm=(t,e)=>{const n=nd(e);t.slots.default=()=>n},im=(t,e,n)=>{for(const s in e)(n||!td(s))&&(t[s]=e[s])},$b=(t,e,n)=>{const s=t.slots=Jg();if(t.vnode.shapeFlag&32){const i=e._;i?(im(s,e,n),n&&cg(s,"_",i,!0)):nm(e,s)}else e&&sm(t,e)},Vb=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=je;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:im(i,e,n):(r=!e.$stable,nm(e,i)),o=e}else e&&(sm(t,e),o={default:1});if(r)for(const a in i)!td(a)&&o[a]==null&&delete i[a]},Kt=Zb;function Bb(t){return Ub(t)}function Ub(t,e){const n=ul();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=Cn,insertStaticContent:g}=t,v=(y,S,A,N=null,$=null,F=null,G=void 0,H=null,j=!!S.dynamicChildren)=>{if(y===S)return;y&&!Hs(y,S)&&(N=L(y),Ae(y,$,F,!0),y=null),S.patchFlag===-2&&(j=!1,S.dynamicChildren=null);const{type:V,ref:le,shapeFlag:q}=S;switch(V){case ml:k(y,S,A,N);break;case Ft:_(y,S,A,N);break;case ua:y==null&&m(S,A,N,G);break;case et:D(y,S,A,N,$,F,G,H,j);break;default:q&1?E(y,S,A,N,$,F,G,H,j):q&6?z(y,S,A,N,$,F,G,H,j):(q&64||q&128)&&V.process(y,S,A,N,$,F,G,H,j,se)}le!=null&&$&&Ia(le,y&&y.ref,F,S||y,!S)},k=(y,S,A,N)=>{if(y==null)s(S.el=a(S.children),A,N);else{const $=S.el=y.el;S.children!==y.children&&c($,S.children)}},_=(y,S,A,N)=>{y==null?s(S.el=l(S.children||""),A,N):S.el=y.el},m=(y,S,A,N)=>{[y.el,y.anchor]=g(y.children,S,A,N,y.el,y.anchor)},p=({el:y,anchor:S},A,N)=>{let $;for(;y&&y!==S;)$=f(y),s(y,A,N),y=$;s(S,A,N)},b=({el:y,anchor:S})=>{let A;for(;y&&y!==S;)A=f(y),i(y),y=A;i(S)},E=(y,S,A,N,$,F,G,H,j)=>{S.type==="svg"?G="svg":S.type==="math"&&(G="mathml"),y==null?C(S,A,N,$,F,G,H,j):T(y,S,$,F,G,H,j)},C=(y,S,A,N,$,F,G,H)=>{let j,V;const{props:le,shapeFlag:q,transition:ne,dirs:ce}=y;if(j=y.el=o(y.type,F,le&&le.is,le),q&8?u(j,y.children):q&16&&P(y.children,j,null,N,$,rc(y,F),G,H),ce&&Vs(y,null,N,"created"),x(j,y,y.scopeId,G,N),le){for(const $e in le)$e!=="value"&&!Sr($e)&&r(j,$e,null,le[$e],F,N);"value"in le&&r(j,"value",null,le.value,F),(V=le.onVnodeBeforeMount)&&yn(V,N,y)}ce&&Vs(y,null,N,"beforeMount");const _e=jb($,ne);_e&&ne.beforeEnter(j),s(j,S,A),((V=le&&le.onVnodeMounted)||_e||ce)&&Kt(()=>{V&&yn(V,N,y),_e&&ne.enter(j),ce&&Vs(y,null,N,"mounted")},$)},x=(y,S,A,N,$)=>{if(A&&h(y,A),N)for(let F=0;F<N.length;F++)h(y,N[F]);if($){let F=$.subTree;if(S===F||cm(F.type)&&(F.ssContent===S||F.ssFallback===S)){const G=$.vnode;x(y,G,G.scopeId,G.slotScopeIds,$.parent)}}},P=(y,S,A,N,$,F,G,H,j=0)=>{for(let V=j;V<y.length;V++){const le=y[V]=H?ds(y[V]):En(y[V]);v(null,le,S,A,N,$,F,G,H)}},T=(y,S,A,N,$,F,G)=>{const H=S.el=y.el;let{patchFlag:j,dynamicChildren:V,dirs:le}=S;j|=y.patchFlag&16;const q=y.props||je,ne=S.props||je;let ce;if(A&&Bs(A,!1),(ce=ne.onVnodeBeforeUpdate)&&yn(ce,A,S,y),le&&Vs(S,y,A,"beforeUpdate"),A&&Bs(A,!0),(q.innerHTML&&ne.innerHTML==null||q.textContent&&ne.textContent==null)&&u(H,""),V?I(y.dynamicChildren,V,H,A,N,rc(S,$),F):G||O(y,S,H,null,A,N,rc(S,$),F,!1),j>0){if(j&16)M(H,q,ne,A,$);else if(j&2&&q.class!==ne.class&&r(H,"class",null,ne.class,$),j&4&&r(H,"style",q.style,ne.style,$),j&8){const _e=S.dynamicProps;for(let $e=0;$e<_e.length;$e++){const xe=_e[$e],vt=q[xe],ut=ne[xe];(ut!==vt||xe==="value")&&r(H,xe,vt,ut,$,A)}}j&1&&y.children!==S.children&&u(H,S.children)}else!G&&V==null&&M(H,q,ne,A,$);((ce=ne.onVnodeUpdated)||le)&&Kt(()=>{ce&&yn(ce,A,S,y),le&&Vs(S,y,A,"updated")},N)},I=(y,S,A,N,$,F,G)=>{for(let H=0;H<S.length;H++){const j=y[H],V=S[H],le=j.el&&(j.type===et||!Hs(j,V)||j.shapeFlag&198)?d(j.el):A;v(j,V,le,null,N,$,F,G,!0)}},M=(y,S,A,N,$)=>{if(S!==A){if(S!==je)for(const F in S)!Sr(F)&&!(F in A)&&r(y,F,S[F],null,$,N);for(const F in A){if(Sr(F))continue;const G=A[F],H=S[F];G!==H&&F!=="value"&&r(y,F,H,G,$,N)}"value"in A&&r(y,"value",S.value,A.value,$)}},D=(y,S,A,N,$,F,G,H,j)=>{const V=S.el=y?y.el:a(""),le=S.anchor=y?y.anchor:a("");let{patchFlag:q,dynamicChildren:ne,slotScopeIds:ce}=S;ce&&(H=H?H.concat(ce):ce),y==null?(s(V,A,N),s(le,A,N),P(S.children||[],A,le,$,F,G,H,j)):q>0&&q&64&&ne&&y.dynamicChildren?(I(y.dynamicChildren,ne,A,$,F,G,H),(S.key!=null||$&&S===$.subTree)&&rm(y,S,!0)):O(y,S,A,le,$,F,G,H,j)},z=(y,S,A,N,$,F,G,H,j)=>{S.slotScopeIds=H,y==null?S.shapeFlag&512?$.ctx.activate(S,A,N,G,j):oe(S,A,N,$,F,G,j):re(y,S,j)},oe=(y,S,A,N,$,F,G)=>{const H=y.component=o1(y,N,$);if(hl(y)&&(H.ctx.renderer=se),a1(H,!1,G),H.asyncDep){if($&&$.registerDep(H,W,G),!y.el){const j=H.subTree=we(Ft);_(null,j,S,A)}}else W(H,y,S,A,$,F,G)},re=(y,S,A)=>{const N=S.component=y.component;if(Xb(y,S,A))if(N.asyncDep&&!N.asyncResolved){R(N,S,A);return}else N.next=S,N.update();else S.el=y.el,N.vnode=S},W=(y,S,A,N,$,F,G)=>{const H=()=>{if(y.isMounted){let{next:q,bu:ne,u:ce,parent:_e,vnode:$e}=y;{const Zt=om(y);if(Zt){q&&(q.el=$e.el,R(y,q,G)),Zt.asyncDep.then(()=>{y.isUnmounted||H()});return}}let xe=q,vt;Bs(y,!1),q?(q.el=$e.el,R(y,q,G)):q=$e,ne&&ca(ne),(vt=q.props&&q.props.onVnodeBeforeUpdate)&&yn(vt,_e,q,$e),Bs(y,!0);const ut=$f(y),Ot=y.subTree;y.subTree=ut,v(Ot,ut,d(Ot.el),L(Ot),y,$,F),q.el=ut.el,xe===null&&Jb(y,ut.el),ce&&Kt(ce,$),(vt=q.props&&q.props.onVnodeUpdated)&&Kt(()=>yn(vt,_e,q,$e),$)}else{let q;const{el:ne,props:ce}=S,{bm:_e,m:$e,parent:xe,root:vt,type:ut}=y,Ot=xr(S);Bs(y,!1),_e&&ca(_e),!Ot&&(q=ce&&ce.onVnodeBeforeMount)&&yn(q,xe,S),Bs(y,!0);{vt.ce&&vt.ce._injectChildStyle(ut);const Zt=y.subTree=$f(y);v(null,Zt,A,N,y,$,F),S.el=Zt.el}if($e&&Kt($e,$),!Ot&&(q=ce&&ce.onVnodeMounted)){const Zt=S;Kt(()=>yn(q,xe,Zt),$)}(S.shapeFlag&256||xe&&xr(xe.vnode)&&xe.vnode.shapeFlag&256)&&y.a&&Kt(y.a,$),y.isMounted=!0,S=A=N=null}};y.scope.on();const j=y.effect=new mg(H);y.scope.off();const V=y.update=j.run.bind(j),le=y.job=j.runIfDirty.bind(j);le.i=y,le.id=y.uid,j.scheduler=()=>Zu(le),Bs(y,!0),V()},R=(y,S,A)=>{S.component=y;const N=y.vnode.props;y.vnode=S,y.next=null,Nb(y,S.props,N,A),Vb(y,S.children,A),Wn(),kf(y),Kn()},O=(y,S,A,N,$,F,G,H,j=!1)=>{const V=y&&y.children,le=y?y.shapeFlag:0,q=S.children,{patchFlag:ne,shapeFlag:ce}=S;if(ne>0){if(ne&128){ve(V,q,A,N,$,F,G,H,j);return}else if(ne&256){Z(V,q,A,N,$,F,G,H,j);return}}ce&8?(le&16&&mt(V,$,F),q!==V&&u(A,q)):le&16?ce&16?ve(V,q,A,N,$,F,G,H,j):mt(V,$,F,!0):(le&8&&u(A,""),ce&16&&P(q,A,N,$,F,G,H,j))},Z=(y,S,A,N,$,F,G,H,j)=>{y=y||xi,S=S||xi;const V=y.length,le=S.length,q=Math.min(V,le);let ne;for(ne=0;ne<q;ne++){const ce=S[ne]=j?ds(S[ne]):En(S[ne]);v(y[ne],ce,A,null,$,F,G,H,j)}V>le?mt(y,$,F,!0,!1,q):P(S,A,N,$,F,G,H,j,q)},ve=(y,S,A,N,$,F,G,H,j)=>{let V=0;const le=S.length;let q=y.length-1,ne=le-1;for(;V<=q&&V<=ne;){const ce=y[V],_e=S[V]=j?ds(S[V]):En(S[V]);if(Hs(ce,_e))v(ce,_e,A,null,$,F,G,H,j);else break;V++}for(;V<=q&&V<=ne;){const ce=y[q],_e=S[ne]=j?ds(S[ne]):En(S[ne]);if(Hs(ce,_e))v(ce,_e,A,null,$,F,G,H,j);else break;q--,ne--}if(V>q){if(V<=ne){const ce=ne+1,_e=ce<le?S[ce].el:N;for(;V<=ne;)v(null,S[V]=j?ds(S[V]):En(S[V]),A,_e,$,F,G,H,j),V++}}else if(V>ne)for(;V<=q;)Ae(y[V],$,F,!0),V++;else{const ce=V,_e=V,$e=new Map;for(V=_e;V<=ne;V++){const Ht=S[V]=j?ds(S[V]):En(S[V]);Ht.key!=null&&$e.set(Ht.key,V)}let xe,vt=0;const ut=ne-_e+1;let Ot=!1,Zt=0;const $s=new Array(ut);for(V=0;V<ut;V++)$s[V]=0;for(V=ce;V<=q;V++){const Ht=y[V];if(vt>=ut){Ae(Ht,$,F,!0);continue}let Gt;if(Ht.key!=null)Gt=$e.get(Ht.key);else for(xe=_e;xe<=ne;xe++)if($s[xe-_e]===0&&Hs(Ht,S[xe])){Gt=xe;break}Gt===void 0?Ae(Ht,$,F,!0):($s[Gt-_e]=V+1,Gt>=Zt?Zt=Gt:Ot=!0,v(Ht,S[Gt],A,null,$,F,G,H,j),vt++)}const zo=Ot?zb($s):xi;for(xe=zo.length-1,V=ut-1;V>=0;V--){const Ht=_e+V,Gt=S[Ht],gi=Ht+1<le?S[Ht+1].el:N;$s[V]===0?v(null,Gt,A,gi,$,F,G,H,j):Ot&&(xe<0||V!==zo[xe]?Le(Gt,A,gi,2):xe--)}}},Le=(y,S,A,N,$=null)=>{const{el:F,type:G,transition:H,children:j,shapeFlag:V}=y;if(V&6){Le(y.component.subTree,S,A,N);return}if(V&128){y.suspense.move(S,A,N);return}if(V&64){G.move(y,S,A,se);return}if(G===et){s(F,S,A);for(let q=0;q<j.length;q++)Le(j[q],S,A,N);s(y.anchor,S,A);return}if(G===ua){p(y,S,A);return}if(N!==2&&V&1&&H)if(N===0)H.beforeEnter(F),s(F,S,A),Kt(()=>H.enter(F),$);else{const{leave:q,delayLeave:ne,afterLeave:ce}=H,_e=()=>{y.ctx.isUnmounted?i(F):s(F,S,A)},$e=()=>{q(F,()=>{_e(),ce&&ce()})};ne?ne(F,_e,$e):$e()}else s(F,S,A)},Ae=(y,S,A,N=!1,$=!1)=>{const{type:F,props:G,ref:H,children:j,dynamicChildren:V,shapeFlag:le,patchFlag:q,dirs:ne,cacheIndex:ce}=y;if(q===-2&&($=!1),H!=null&&(Wn(),Ia(H,null,A,y,!0),Kn()),ce!=null&&(S.renderCache[ce]=void 0),le&256){S.ctx.deactivate(y);return}const _e=le&1&&ne,$e=!xr(y);let xe;if($e&&(xe=G&&G.onVnodeBeforeUnmount)&&yn(xe,S,y),le&6)zt(y.component,A,N);else{if(le&128){y.suspense.unmount(A,N);return}_e&&Vs(y,null,S,"beforeUnmount"),le&64?y.type.remove(y,S,A,se,N):V&&!V.hasOnce&&(F!==et||q>0&&q&64)?mt(V,S,A,!1,!0):(F===et&&q&384||!$&&le&16)&&mt(j,S,A),N&&jt(y)}($e&&(xe=G&&G.onVnodeUnmounted)||_e)&&Kt(()=>{xe&&yn(xe,S,y),_e&&Vs(y,null,S,"unmounted")},A)},jt=y=>{const{type:S,el:A,anchor:N,transition:$}=y;if(S===et){vn(A,N);return}if(S===ua){b(y);return}const F=()=>{i(A),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(y.shapeFlag&1&&$&&!$.persisted){const{leave:G,delayLeave:H}=$,j=()=>G(A,F);H?H(y.el,F,j):j()}else F()},vn=(y,S)=>{let A;for(;y!==S;)A=f(y),i(y),y=A;i(S)},zt=(y,S,A)=>{const{bum:N,scope:$,job:F,subTree:G,um:H,m:j,a:V,parent:le,slots:{__:q}}=y;Ff(j),Ff(V),N&&ca(N),le&&ae(q)&&q.forEach(ne=>{le.renderCache[ne]=void 0}),$.stop(),F&&(F.flags|=8,Ae(G,y,S,A)),H&&Kt(H,S),Kt(()=>{y.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},mt=(y,S,A,N=!1,$=!1,F=0)=>{for(let G=F;G<y.length;G++)Ae(y[G],S,A,N,$)},L=y=>{if(y.shapeFlag&6)return L(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const S=f(y.anchor||y.el),A=S&&S[ub];return A?f(A):S};let ee=!1;const K=(y,S,A)=>{y==null?S._vnode&&Ae(S._vnode,null,null,!0):v(S._vnode||null,y,S,null,null,null,A),S._vnode=y,ee||(ee=!0,kf(),Lg(),ee=!1)},se={p:v,um:Ae,m:Le,r:jt,mt:oe,mc:P,pc:O,pbc:I,n:L,o:t};return{render:K,hydrate:void 0,createApp:Mb(K)}}function rc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Bs({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function jb(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function rm(t,e,n=!1){const s=t.children,i=e.children;if(ae(s)&&ae(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=ds(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&rm(o,a)),a.type===ml&&(a.el=o.el),a.type===Ft&&!a.el&&(a.el=o.el)}}function zb(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function om(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:om(e)}function Ff(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Hb=Symbol.for("v-scx"),qb=()=>qt(Hb);function oc(t,e){return sd(t,null,e)}function Qt(t,e,n){return sd(t,e,n)}function sd(t,e,n=je){const{immediate:s,deep:i,flush:r,once:o}=n,a=ct({},n),l=e&&s||!e&&r!=="post";let c;if(zr){if(r==="sync"){const h=qb();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Cn,h.resume=Cn,h.pause=Cn,h}}const u=ht;a.call=(h,g,v)=>fn(h,u,g,v);let d=!1;r==="post"?a.scheduler=h=>{Kt(h,u&&u.suspense)}:r!=="sync"&&(d=!0,a.scheduler=(h,g)=>{g?h():Zu(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=ob(t,e,a);return zr&&(c?c.push(f):l&&f()),f}function Gb(t,e,n){const s=this.proxy,i=nt(t)?t.includes(".")?am(s,t):()=>s[t]:t.bind(s,s);let r;be(e)?r=e:(r=e.handler,n=e);const o=So(this),a=sd(i,r.bind(s),n);return o(),a}function am(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const Wb=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${cn(e)}Modifiers`]||t[`${Ns(e)}Modifiers`];function Kb(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||je;let i=n;const r=e.startsWith("update:"),o=r&&Wb(s,e.slice(7));o&&(o.trim&&(i=n.map(u=>nt(u)?u.trim():u)),o.number&&(i=n.map(Ea)));let a,l=s[a=Jl(e)]||s[a=Jl(cn(e))];!l&&r&&(l=s[a=Jl(Ns(e))]),l&&fn(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,fn(c,t,6,i)}}function lm(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!be(t)){const l=c=>{const u=lm(c,e,!0);u&&(a=!0,ct(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(ze(t)&&s.set(t,null),null):(ae(r)?r.forEach(l=>o[l]=null):ct(o,r),ze(t)&&s.set(t,o),o)}function gl(t,e){return!t||!al(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ne(t,e[0].toLowerCase()+e.slice(1))||Ne(t,Ns(e))||Ne(t,e))}function $f(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:g,inheritAttrs:v}=t,k=Ca(t);let _,m;try{if(n.shapeFlag&4){const b=i||s,E=b;_=En(c.call(E,b,u,d,h,f,g)),m=a}else{const b=e;_=En(b.length>1?b(d,{attrs:a,slots:o,emit:l}):b(d,null)),m=e.props?a:Yb(a)}}catch(b){Ir.length=0,fl(b,t,1),_=we(Ft)}let p=_;if(m&&v!==!1){const b=Object.keys(m),{shapeFlag:E}=p;b.length&&E&7&&(r&&b.some(Bu)&&(m=Qb(m,r)),p=Yn(p,m,!1,!0))}return n.dirs&&(p=Yn(p,null,!1,!0),p.dirs=p.dirs?p.dirs.concat(n.dirs):n.dirs),n.transition&&ti(p,n.transition),_=p,Ca(k),_}const Yb=t=>{let e;for(const n in t)(n==="class"||n==="style"||al(n))&&((e||(e={}))[n]=t[n]);return e},Qb=(t,e)=>{const n={};for(const s in t)(!Bu(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Xb(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Vf(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==s[f]&&!gl(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Vf(s,o,c):!0:!!o;return!1}function Vf(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!gl(n,r))return!0}return!1}function Jb({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const cm=t=>t.__isSuspense;function Zb(t,e){e&&e.pendingBranch?ae(t)?e.effects.push(...t):e.effects.push(t):cb(t)}const et=Symbol.for("v-fgt"),ml=Symbol.for("v-txt"),Ft=Symbol.for("v-cmt"),ua=Symbol.for("v-stc"),Ir=[];let Xt=null;function X(t=!1){Ir.push(Xt=t?null:[])}function e1(){Ir.pop(),Xt=Ir[Ir.length-1]||null}let jr=1;function Bf(t,e=!1){jr+=t,t<0&&Xt&&e&&(Xt.hasOnce=!0)}function um(t){return t.dynamicChildren=jr>0?Xt||xi:null,e1(),jr>0&&Xt&&Xt.push(t),t}function te(t,e,n,s,i,r){return um(w(t,e,n,s,i,r,!0))}function ys(t,e,n,s,i){return um(we(t,e,n,s,i,!0))}function ka(t){return t?t.__v_isVNode===!0:!1}function Hs(t,e){return t.type===e.type&&t.key===e.key}const dm=({key:t})=>t??null,da=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?nt(t)||tt(t)||be(t)?{i:$t,r:t,k:e,f:!!n}:t:null);function w(t,e=null,n=null,s=0,i=null,r=t===et?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&dm(e),ref:e&&da(e),scopeId:$g,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:$t};return a?(id(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=nt(n)?8:16),jr>0&&!o&&Xt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Xt.push(l),l}const we=t1;function t1(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===_b)&&(t=Ft),ka(t)){const a=Yn(t,e,!0);return n&&id(a,n),jr>0&&!r&&Xt&&(a.shapeFlag&6?Xt[Xt.indexOf(t)]=a:Xt.push(a)),a.patchFlag=-2,a}if(f1(t)&&(t=t.__vccOpts),e){e=n1(e);let{class:a,style:l}=e;a&&!nt(a)&&(e.class=rt(a)),ze(l)&&(Xu(l)&&!ae(l)&&(l=ct({},l)),e.style=zu(l))}const o=nt(t)?1:cm(t)?128:Vg(t)?64:ze(t)?4:be(t)?2:0;return w(t,e,n,s,i,o,r,!0)}function n1(t){return t?Xu(t)||Zg(t)?ct({},t):t:null}function Yn(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?s1(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&dm(c),ref:e&&e.ref?n&&r?ae(r)?r.concat(da(e)):[r,da(e)]:da(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==et?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Yn(t.ssContent),ssFallback:t.ssFallback&&Yn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&ti(u,l.clone(u)),u}function Ke(t=" ",e=0){return we(ml,null,t,e)}function Yc(t,e){const n=we(ua,null,t);return n.staticCount=e,n}function Ve(t="",e=!1){return e?(X(),ys(Ft,null,t)):we(Ft,null,t)}function En(t){return t==null||typeof t=="boolean"?we(Ft):ae(t)?we(et,null,t.slice()):ka(t)?ds(t):we(ml,null,String(t))}function ds(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Yn(t)}function id(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ae(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),id(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Zg(e)?e._ctx=$t:i===3&&$t&&($t.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else be(e)?(e={default:e,_ctx:$t},n=32):(e=String(e),s&64?(n=16,e=[Ke(e)]):n=8);t.children=e,t.shapeFlag|=n}function s1(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=rt([e.class,s.class]));else if(i==="style")e.style=zu([e.style,s.style]);else if(al(i)){const r=e[i],o=s[i];o&&r!==o&&!(ae(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function yn(t,e,n,s=null){fn(t,e,7,[n,s])}const i1=Qg();let r1=0;function o1(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||i1,r={uid:r1++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new hg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tm(s,i),emitsOptions:lm(s,i),emit:null,emitted:null,propsDefaults:je,inheritAttrs:s.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Kb.bind(null,r),t.ce&&t.ce(r),r}let ht=null;const vl=()=>ht||$t;let Pa,Qc;{const t=ul(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};Pa=e("__VUE_INSTANCE_SETTERS__",n=>ht=n),Qc=e("__VUE_SSR_SETTERS__",n=>zr=n)}const So=t=>{const e=ht;return Pa(t),t.scope.on(),()=>{t.scope.off(),Pa(e)}},Uf=()=>{ht&&ht.scope.off(),Pa(null)};function fm(t){return t.vnode.shapeFlag&4}let zr=!1;function a1(t,e=!1,n=!1){e&&Qc(e);const{props:s,children:i}=t.vnode,r=fm(t);Db(t,s,r,e),$b(t,i,n||e);const o=r?l1(t,e):void 0;return e&&Qc(!1),o}function l1(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,xb);const{setup:s}=n;if(s){Wn();const i=t.setupContext=s.length>1?u1(t):null,r=So(t),o=vo(s,t,0,[t.props,i]),a=og(o);if(Kn(),r(),(a||t.sp)&&!xr(t)&&qg(t),a){if(o.then(Uf,Uf),e)return o.then(l=>{jf(t,l)}).catch(l=>{fl(l,t,0)});t.asyncDep=o}else jf(t,o)}else hm(t)}function jf(t,e,n){be(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ze(e)&&(t.setupState=Mg(e)),hm(t)}function hm(t,e,n){const s=t.type;t.render||(t.render=s.render||Cn);{const i=So(t);Wn();try{Cb(t)}finally{Kn(),i()}}}const c1={get(t,e){return xt(t,"get",""),t[e]}};function u1(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,c1),slots:t.slots,emit:t.emit,expose:e}}function yl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Mg(Ju(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Cr)return Cr[n](t)},has(e,n){return n in e||n in Cr}})):t.proxy}function d1(t,e=!0){return be(t)?t.displayName||t.name:t.name||e&&t.__name}function f1(t){return be(t)&&"__vccOpts"in t}const he=(t,e)=>ib(t,e,zr);function Qe(t,e,n){const s=arguments.length;return s===2?ze(e)&&!ae(e)?ka(e)?we(t,null,[e]):we(t,e):we(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ka(n)&&(n=[n]),we(t,e,n))}const h1="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xc;const zf=typeof window<"u"&&window.trustedTypes;if(zf)try{Xc=zf.createPolicy("vue",{createHTML:t=>t})}catch{}const pm=Xc?t=>Xc.createHTML(t):t=>t,p1="http://www.w3.org/2000/svg",g1="http://www.w3.org/1998/Math/MathML",Fn=typeof document<"u"?document:null,Hf=Fn&&Fn.createElement("template"),m1={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?Fn.createElementNS(p1,t):e==="mathml"?Fn.createElementNS(g1,t):n?Fn.createElement(t,{is:n}):Fn.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>Fn.createTextNode(t),createComment:t=>Fn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Fn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Hf.innerHTML=pm(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=Hf.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},is="transition",ur="animation",Li=Symbol("_vtc"),gm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},mm=ct({},Ug,gm),v1=t=>(t.displayName="Transition",t.props=mm,t),Qs=v1((t,{slots:e})=>Qe(fb,vm(t),e)),Us=(t,e=[])=>{ae(t)?t.forEach(n=>n(...e)):t&&t(...e)},qf=t=>t?ae(t)?t.some(e=>e.length>1):t.length>1:!1;function vm(t){const e={};for(const D in t)D in gm||(e[D]=t[D]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,g=y1(i),v=g&&g[0],k=g&&g[1],{onBeforeEnter:_,onEnter:m,onEnterCancelled:p,onLeave:b,onLeaveCancelled:E,onBeforeAppear:C=_,onAppear:x=m,onAppearCancelled:P=p}=e,T=(D,z,oe,re)=>{D._enterCancelled=re,as(D,z?u:a),as(D,z?c:o),oe&&oe()},I=(D,z)=>{D._isLeaving=!1,as(D,d),as(D,h),as(D,f),z&&z()},M=D=>(z,oe)=>{const re=D?x:m,W=()=>T(z,D,oe);Us(re,[z,W]),Gf(()=>{as(z,D?l:r),wn(z,D?u:a),qf(re)||Wf(z,s,v,W)})};return ct(e,{onBeforeEnter(D){Us(_,[D]),wn(D,r),wn(D,o)},onBeforeAppear(D){Us(C,[D]),wn(D,l),wn(D,c)},onEnter:M(!1),onAppear:M(!0),onLeave(D,z){D._isLeaving=!0;const oe=()=>I(D,z);wn(D,d),D._enterCancelled?(wn(D,f),Jc()):(Jc(),wn(D,f)),Gf(()=>{D._isLeaving&&(as(D,d),wn(D,h),qf(b)||Wf(D,s,k,oe))}),Us(b,[D,oe])},onEnterCancelled(D){T(D,!1,void 0,!0),Us(p,[D])},onAppearCancelled(D){T(D,!0,void 0,!0),Us(P,[D])},onLeaveCancelled(D){I(D),Us(E,[D])}})}function y1(t){if(t==null)return null;if(ze(t))return[ac(t.enter),ac(t.leave)];{const e=ac(t);return[e,e]}}function ac(t){return Tw(t)}function wn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Li]||(t[Li]=new Set)).add(e)}function as(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[Li];n&&(n.delete(e),n.size||(t[Li]=void 0))}function Gf(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let w1=0;function Wf(t,e,n,s){const i=t._endId=++w1,r=()=>{i===t._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=ym(t,e);if(!o)return s();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,f),r()},f=h=>{h.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,f)}function ym(t,e){const n=window.getComputedStyle(t),s=g=>(n[g]||"").split(", "),i=s(`${is}Delay`),r=s(`${is}Duration`),o=Kf(i,r),a=s(`${ur}Delay`),l=s(`${ur}Duration`),c=Kf(a,l);let u=null,d=0,f=0;e===is?o>0&&(u=is,d=o,f=r.length):e===ur?c>0&&(u=ur,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?is:ur:null,f=u?u===is?r.length:l.length:0);const h=u===is&&/\b(transform|all)(,|$)/.test(s(`${is}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function Kf(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Yf(n)+Yf(t[s])))}function Yf(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Jc(){return document.body.offsetHeight}function b1(t,e,n){const s=t[Li];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ra=Symbol("_vod"),wm=Symbol("_vsh"),E1={beforeMount(t,{value:e},{transition:n}){t[Ra]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):dr(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),dr(t,!0),s.enter(t)):s.leave(t,()=>{dr(t,!1)}):dr(t,e))},beforeUnmount(t,{value:e}){dr(t,e)}};function dr(t,e){t.style.display=e?t[Ra]:"none",t[wm]=!e}const S1=Symbol(""),_1=/(^|;)\s*display\s*:/;function T1(t,e,n){const s=t.style,i=nt(n);let r=!1;if(n&&!i){if(e)if(nt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&fa(s,a,"")}else for(const o in e)n[o]==null&&fa(s,o,"");for(const o in n)o==="display"&&(r=!0),fa(s,o,n[o])}else if(i){if(e!==n){const o=s[S1];o&&(n+=";"+o),s.cssText=n,r=_1.test(n)}}else e&&t.removeAttribute("style");Ra in t&&(t[Ra]=r?s.display:"",t[wm]&&(s.display="none"))}const Qf=/\s*!important$/;function fa(t,e,n){if(ae(n))n.forEach(s=>fa(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=x1(t,e);Qf.test(n)?t.setProperty(Ns(s),n.replace(Qf,""),"important"):t[s]=n}}const Xf=["Webkit","Moz","ms"],lc={};function x1(t,e){const n=lc[e];if(n)return n;let s=cn(e);if(s!=="filter"&&s in t)return lc[e]=s;s=cl(s);for(let i=0;i<Xf.length;i++){const r=Xf[i]+s;if(r in t)return lc[e]=r}return e}const Jf="http://www.w3.org/1999/xlink";function Zf(t,e,n,s,i,r=Pw(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Jf,e.slice(6,e.length)):t.setAttributeNS(Jf,e,n):n==null||r&&!ug(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Pn(n)?String(n):n)}function eh(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?pm(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=ug(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function Bn(t,e,n,s){t.addEventListener(e,n,s)}function C1(t,e,n,s){t.removeEventListener(e,n,s)}const th=Symbol("_vei");function I1(t,e,n,s,i=null){const r=t[th]||(t[th]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=A1(e);if(s){const c=r[e]=R1(s,i);Bn(t,a,c,l)}else o&&(C1(t,a,o,l),r[e]=void 0)}}const nh=/(?:Once|Passive|Capture)$/;function A1(t){let e;if(nh.test(t)){e={};let s;for(;s=t.match(nh);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ns(t.slice(2)),e]}let cc=0;const k1=Promise.resolve(),P1=()=>cc||(k1.then(()=>cc=0),cc=Date.now());function R1(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;fn(M1(s,n.value),e,5,[s])};return n.value=t,n.attached=P1(),n}function M1(t,e){if(ae(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const sh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,O1=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?b1(t,s,o):e==="style"?T1(t,n,s):al(e)?Bu(e)||I1(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):D1(t,e,s,o))?(eh(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Zf(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!nt(s))?eh(t,cn(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Zf(t,e,s,o))};function D1(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&sh(e)&&be(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return sh(e)&&nt(n)?!1:e in t}const bm=new WeakMap,Em=new WeakMap,Ma=Symbol("_moveCb"),ih=Symbol("_enterCb"),N1=t=>(delete t.props.mode,t),L1=N1({name:"TransitionGroup",props:ct({},mm,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=vl(),s=Bg();let i,r;return bo(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!U1(i[0].el,n.vnode.el,o)){i=[];return}i.forEach($1),i.forEach(V1);const a=i.filter(B1);Jc(),a.forEach(l=>{const c=l.el,u=c.style;wn(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[Ma]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[Ma]=null,as(c,o))};c.addEventListener("transitionend",d)}),i=[]}),()=>{const o=Ie(t),a=vm(o);let l=o.tag||et;if(i=[],r)for(let c=0;c<r.length;c++){const u=r[c];u.el&&u.el instanceof Element&&(i.push(u),ti(u,Ur(u,a,s,n)),bm.set(u,u.el.getBoundingClientRect()))}r=e.default?ed(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&ti(u,Ur(u,a,s,n))}return we(l,null,r)}}}),F1=L1;function $1(t){const e=t.el;e[Ma]&&e[Ma](),e[ih]&&e[ih]()}function V1(t){Em.set(t,t.el.getBoundingClientRect())}function B1(t){const e=bm.get(t),n=Em.get(t),s=e.left-n.left,i=e.top-n.top;if(s||i){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${i}px)`,r.transitionDuration="0s",t}}function U1(t,e,n){const s=t.cloneNode(),i=t[Li];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&s.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(s);const{hasTransform:o}=ym(s);return r.removeChild(s),o}const Ps=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ae(e)?n=>ca(e,n):e};function j1(t){t.target.composing=!0}function rh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const on=Symbol("_assign"),Ts={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[on]=Ps(i);const r=s||i.props&&i.props.type==="number";Bn(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=Ea(a)),t[on](a)}),n&&Bn(t,"change",()=>{t.value=t.value.trim()}),e||(Bn(t,"compositionstart",j1),Bn(t,"compositionend",rh),Bn(t,"change",rh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[on]=Ps(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?Ea(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===l)||(t.value=l))}},rd={deep:!0,created(t,e,n){t[on]=Ps(n),Bn(t,"change",()=>{const s=t._modelValue,i=Fi(t),r=t.checked,o=t[on];if(ae(s)){const a=Hu(s,i),l=a!==-1;if(r&&!l)o(s.concat(i));else if(!r&&l){const c=[...s];c.splice(a,1),o(c)}}else if(Xi(s)){const a=new Set(s);r?a.add(i):a.delete(i),o(a)}else o(_m(t,r))})},mounted:oh,beforeUpdate(t,e,n){t[on]=Ps(n),oh(t,e,n)}};function oh(t,{value:e,oldValue:n},s){t._modelValue=e;let i;if(ae(e))i=Hu(e,s.props.value)>-1;else if(Xi(e))i=e.has(s.props.value);else{if(e===n)return;i=ei(e,_m(t,!0))}t.checked!==i&&(t.checked=i)}const z1={created(t,{value:e},n){t.checked=ei(e,n.props.value),t[on]=Ps(n),Bn(t,"change",()=>{t[on](Fi(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t[on]=Ps(s),e!==n&&(t.checked=ei(e,s.props.value))}},Sm={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=Xi(e);Bn(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Ea(Fi(o)):Fi(o));t[on](t.multiple?i?new Set(r):r:r[0]),t._assigning=!0,yo(()=>{t._assigning=!1})}),t[on]=Ps(s)},mounted(t,{value:e}){ah(t,e)},beforeUpdate(t,e,n){t[on]=Ps(n)},updated(t,{value:e}){t._assigning||ah(t,e)}};function ah(t,e){const n=t.multiple,s=ae(e);if(!(n&&!s&&!Xi(e))){for(let i=0,r=t.options.length;i<r;i++){const o=t.options[i],a=Fi(o);if(n)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=Hu(e,a)>-1}else o.selected=e.has(a);else if(ei(Fi(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Fi(t){return"_value"in t?t._value:t.value}function _m(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Tm={created(t,e,n){Ko(t,e,n,null,"created")},mounted(t,e,n){Ko(t,e,n,null,"mounted")},beforeUpdate(t,e,n,s){Ko(t,e,n,s,"beforeUpdate")},updated(t,e,n,s){Ko(t,e,n,s,"updated")}};function H1(t,e){switch(t){case"SELECT":return Sm;case"TEXTAREA":return Ts;default:switch(e){case"checkbox":return rd;case"radio":return z1;default:return Ts}}}function Ko(t,e,n,s,i){const o=H1(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,s)}const q1=["ctrl","shift","alt","meta"],G1={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>q1.some(n=>t[`${n}Key`]&&!e.includes(n))},Xs=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const a=G1[e[o]];if(a&&a(i,e))return}return t(i,...r)})},W1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},xm=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=i=>{if(!("key"in i))return;const r=Ns(i.key);if(e.some(o=>o===r||W1[o]===r))return t(i)})},K1=ct({patchProp:O1},m1);let lh;function Y1(){return lh||(lh=Bb(K1))}const Q1=(...t)=>{const e=Y1().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=J1(s);if(!i)return;const r=e._component;!be(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,X1(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function X1(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function J1(t){return nt(t)?document.querySelector(t):t}const Cm="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='2500'%20height='2500'%20viewBox='0%200%20192.756%20192.756'%3e%3cg%20fill-rule='evenodd'%20clip-rule='evenodd'%3e%3cpath%20fill='%23fff'%20d='M0%200h192.756v192.756H0V0z'/%3e%3cpath%20d='M19.551%20114.27v-3.028H6.316V97.779h11.512v-3.026H6.316V81.514h13.235v-3.03H2.834v35.786h16.717zM80.744%20114.27v-3.028H67.675V78.484h-3.477v35.786h16.546zM94.127%20114.27h3.482V78.484h-3.482v35.786zM189.922%20114.27v-3.028h-13.244V97.779h11.527v-3.026h-11.527V81.514h13.244v-3.03h-16.719v35.786h16.719zM113.637%20114.27h3.473v-12.193l4.471.008c7.584%200%2011.951-5.951%2011.951-11.929%200-5.985-4.367-11.671-11.951-11.671h-7.943v35.785h-.001z'/%3e%3cpath%20d='M117.109%2098.863v-17.16h4.426c5.42%200%208.533%203.266%208.533%208.448%200%205.179-3.125%208.712-8.541%208.712h-4.418z'%20fill='%23fff'/%3e%3cpath%20d='M142.301%20112.422c1.459%201.178%204.092%202.355%207.455%202.355%205.781%200%209.537-3.482%209.537-9.367%200-5.104-2.92-8.248-8.021-11.781-3.535-2.467-5.164-4.876-5.164-7.516%200-2.747%201.852-5.164%205.387-5.164%202.129%200%204.262.954%205.273%201.852l.617-3.03c-1.125-.837-3.311-1.792-6.004-1.792-5.715%200-8.693%203.873-8.693%208.357%200%204.099%202.303%207.292%207.352%2010.66%204.035%202.693%205.717%205.217%205.717%208.697%200%203.811-2.58%206-6.061%206-2.588%200-4.861-.928-6.785-2.295l-.61%203.024zM42.5%20110.172c2.443-.023%204.057-.479%205.289-1.213l-.402-2.137c-1.284.67-2.894%201.041-4.777%201.041-5.936%200-9.69-4.545-9.69-11.488%200-6.937%203.796-11.523%209.69-11.523%202.189%200%204.167.757%205.304%201.599l.421-2.315c-1.307-.86-3.255-1.522-5.834-1.557%200%200%20.069%200%200%200-7.319%200-12.236%205.345-12.236%2013.797%200%208.416%204.985%2013.805%2012.236%2013.805.067-.001-.001-.009-.001-.009z'/%3e%3c/g%3e%3c/svg%3e";/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const bi=typeof document<"u";function Im(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Z1(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Im(t.default)}const De=Object.assign;function uc(t,e){const n={};for(const s in e){const i=e[s];n[s]=hn(i)?i.map(t):t(i)}return n}const Ar=()=>{},hn=Array.isArray,Am=/#/g,eE=/&/g,tE=/\//g,nE=/=/g,sE=/\?/g,km=/\+/g,iE=/%5B/g,rE=/%5D/g,Pm=/%5E/g,oE=/%60/g,Rm=/%7B/g,aE=/%7C/g,Mm=/%7D/g,lE=/%20/g;function od(t){return encodeURI(""+t).replace(aE,"|").replace(iE,"[").replace(rE,"]")}function cE(t){return od(t).replace(Rm,"{").replace(Mm,"}").replace(Pm,"^")}function Zc(t){return od(t).replace(km,"%2B").replace(lE,"+").replace(Am,"%23").replace(eE,"%26").replace(oE,"`").replace(Rm,"{").replace(Mm,"}").replace(Pm,"^")}function uE(t){return Zc(t).replace(nE,"%3D")}function dE(t){return od(t).replace(Am,"%23").replace(sE,"%3F")}function fE(t){return t==null?"":dE(t).replace(tE,"%2F")}function Hr(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const hE=/\/$/,pE=t=>t.replace(hE,"");function dc(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=yE(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:Hr(o)}}function gE(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function ch(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function mE(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&$i(e.matched[s],n.matched[i])&&Om(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function $i(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Om(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!vE(t[n],e[n]))return!1;return!0}function vE(t,e){return hn(t)?uh(t,e):hn(e)?uh(e,t):t===e}function uh(t,e){return hn(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function yE(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const rs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var qr;(function(t){t.pop="pop",t.push="push"})(qr||(qr={}));var kr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(kr||(kr={}));function wE(t){if(!t)if(bi){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),pE(t)}const bE=/^[^#]+#/;function EE(t,e){return t.replace(bE,"#")+e}function SE(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const wl=()=>({left:window.scrollX,top:window.scrollY});function _E(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=SE(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function dh(t,e){return(history.state?history.state.position-e:-1)+t}const eu=new Map;function TE(t,e){eu.set(t,e)}function xE(t){const e=eu.get(t);return eu.delete(t),e}let CE=()=>location.protocol+"//"+location.host;function Dm(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),ch(l,"")}return ch(n,t)+s+i}function IE(t,e,n,s){let i=[],r=[],o=null;const a=({state:f})=>{const h=Dm(t,location),g=n.value,v=e.value;let k=0;if(f){if(n.value=h,e.value=f,o&&o===g){o=null;return}k=v?f.position-v.position:0}else s(h);i.forEach(_=>{_(n.value,g,{delta:k,type:qr.pop,direction:k?k>0?kr.forward:kr.back:kr.unknown})})};function l(){o=n.value}function c(f){i.push(f);const h=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return r.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(De({},f.state,{scroll:wl()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function fh(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?wl():null}}function AE(t){const{history:e,location:n}=window,s={value:Dm(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:CE()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=De({},e.state,fh(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,c){const u=De({},i.value,e.state,{forward:l,scroll:wl()});r(u.current,u,!0);const d=De({},fh(s.value,l,null),{position:u.position+1},c);r(l,d,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function kE(t){t=wE(t);const e=AE(t),n=IE(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=De({location:"",base:t,go:s,createHref:EE.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function PE(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),kE(t)}function RE(t){return typeof t=="string"||t&&typeof t=="object"}function Nm(t){return typeof t=="string"||typeof t=="symbol"}const Lm=Symbol("");var hh;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(hh||(hh={}));function Vi(t,e){return De(new Error,{type:t,[Lm]:!0},e)}function Dn(t,e){return t instanceof Error&&Lm in t&&(e==null||!!(t.type&e))}const ph="[^/]+?",ME={sensitive:!1,strict:!1,start:!0,end:!0},OE=/[.+*?^${}()[\]/\\]/g;function DE(t,e){const n=De({},ME,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(OE,"\\$&"),h+=40;else if(f.type===1){const{value:g,repeatable:v,optional:k,regexp:_}=f;r.push({name:g,repeatable:v,optional:k});const m=_||ph;if(m!==ph){h+=10;try{new RegExp(`(${m})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${g}" (${m}): `+b.message)}}let p=v?`((?:${m})(?:/(?:${m}))*)`:`(${m})`;d||(p=k&&c.length<2?`(?:/${p})`:"/"+p),k&&(p+="?"),i+=p,h+=20,k&&(h+=-8),v&&(h+=-20),m===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",g=r[f-1];d[g.name]=h&&g.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:g,repeatable:v,optional:k}=h,_=g in c?c[g]:"";if(hn(_)&&!v)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const m=hn(_)?_.join("/"):_;if(!m)if(k)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);u+=m}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function NE(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Fm(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=NE(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(gh(s))return 1;if(gh(i))return-1}return i.length-s.length}function gh(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const LE={type:0,value:""},FE=/[a-zA-Z0-9_]/;function $E(t){if(!t)return[[]];if(t==="/")return[[LE]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:FE.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function VE(t,e,n){const s=DE($E(t.path),n),i=De(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function BE(t,e){const n=[],s=new Map;e=wh({strict:!1,end:!0,sensitive:!1},e);function i(d){return s.get(d)}function r(d,f,h){const g=!h,v=vh(d);v.aliasOf=h&&h.record;const k=wh(e,d),_=[v];if("alias"in d){const b=typeof d.alias=="string"?[d.alias]:d.alias;for(const E of b)_.push(vh(De({},v,{components:h?h.record.components:v.components,path:E,aliasOf:h?h.record:v})))}let m,p;for(const b of _){const{path:E}=b;if(f&&E[0]!=="/"){const C=f.record.path,x=C[C.length-1]==="/"?"":"/";b.path=f.record.path+(E&&x+E)}if(m=VE(b,f,k),h?h.alias.push(m):(p=p||m,p!==m&&p.alias.push(m),g&&d.name&&!yh(m)&&o(d.name)),$m(m)&&l(m),v.children){const C=v.children;for(let x=0;x<C.length;x++)r(C[x],m,h&&h.children[x])}h=h||m}return p?()=>{o(p)}:Ar}function o(d){if(Nm(d)){const f=s.get(d);f&&(s.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&s.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=zE(d,n);n.splice(f,0,d),d.record.name&&!yh(d)&&s.set(d.record.name,d)}function c(d,f){let h,g={},v,k;if("name"in d&&d.name){if(h=s.get(d.name),!h)throw Vi(1,{location:d});k=h.record.name,g=De(mh(f.params,h.keys.filter(p=>!p.optional).concat(h.parent?h.parent.keys.filter(p=>p.optional):[]).map(p=>p.name)),d.params&&mh(d.params,h.keys.map(p=>p.name))),v=h.stringify(g)}else if(d.path!=null)v=d.path,h=n.find(p=>p.re.test(v)),h&&(g=h.parse(v),k=h.record.name);else{if(h=f.name?s.get(f.name):n.find(p=>p.re.test(f.path)),!h)throw Vi(1,{location:d,currentLocation:f});k=h.record.name,g=De({},f.params,d.params),v=h.stringify(g)}const _=[];let m=h;for(;m;)_.unshift(m.record),m=m.parent;return{name:k,path:v,params:g,matched:_,meta:jE(_)}}t.forEach(d=>r(d));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function mh(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function vh(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:UE(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function UE(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function yh(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function jE(t){return t.reduce((e,n)=>De(e,n.meta),{})}function wh(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function zE(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;Fm(t,e[r])<0?s=r:n=r+1}const i=HE(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function HE(t){let e=t;for(;e=e.parent;)if($m(e)&&Fm(t,e)===0)return e}function $m({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function qE(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(km," "),o=r.indexOf("="),a=Hr(o<0?r:r.slice(0,o)),l=o<0?null:Hr(r.slice(o+1));if(a in e){let c=e[a];hn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function bh(t){let e="";for(let n in t){const s=t[n];if(n=uE(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(hn(s)?s.map(r=>r&&Zc(r)):[s&&Zc(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function GE(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=hn(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const WE=Symbol(""),Eh=Symbol(""),bl=Symbol(""),ad=Symbol(""),tu=Symbol("");function fr(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function fs(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(Vi(4,{from:n,to:e})):f instanceof Error?l(f):RE(f)?l(Vi(2,{from:e,to:f})):(o&&s.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},u=r(()=>t.call(s&&s.instances[i],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function fc(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Im(l)){const u=(l.__vccOpts||l)[e];u&&r.push(fs(u,n,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=Z1(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&fs(h,n,s,o,a,i)()}))}}return r}function Sh(t){const e=qt(bl),n=qt(ad),s=he(()=>{const l=ot(t.to);return e.resolve(l)}),i=he(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex($i.bind(null,u));if(f>-1)return f;const h=_h(l[c-2]);return c>1&&_h(u)===h&&d[d.length-1].path!==h?d.findIndex($i.bind(null,l[c-2])):f}),r=he(()=>i.value>-1&&JE(n.params,s.value.params)),o=he(()=>i.value>-1&&i.value===n.matched.length-1&&Om(n.params,s.value.params));function a(l={}){if(XE(l)){const c=e[ot(t.replace)?"replace":"push"](ot(t.to)).catch(Ar);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:he(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function KE(t){return t.length===1?t[0]:t}const YE=wo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Sh,setup(t,{slots:e}){const n=Hn(Sh(t)),{options:s}=qt(bl),i=he(()=>({[Th(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Th(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&KE(e.default(n));return t.custom?r:Qe("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),QE=YE;function XE(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function JE(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!hn(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function _h(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Th=(t,e,n)=>t??e??n,ZE=wo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=qt(tu),i=he(()=>t.route||s.value),r=qt(Eh,0),o=he(()=>{let c=ot(r);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=he(()=>i.value.matched[o.value]);_s(Eh,he(()=>o.value+1)),_s(WE,a),_s(tu,i);const l=J();return Qt(()=>[l.value,a.value,t.name],([c,u,d],[f,h,g])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!$i(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return xh(n.default,{Component:f,route:c});const h=d.props[u],g=h?h===!0?c.params:typeof h=="function"?h(c):h:null,k=Qe(f,De({},g,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return xh(n.default,{Component:k,route:c})||k}}});function xh(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const eS=ZE;function tS(t){const e=BE(t.routes,t),n=t.parseQuery||qE,s=t.stringifyQuery||bh,i=t.history,r=fr(),o=fr(),a=fr(),l=Jw(rs);let c=rs;bi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=uc.bind(null,L=>""+L),d=uc.bind(null,fE),f=uc.bind(null,Hr);function h(L,ee){let K,se;return Nm(L)?(K=e.getRecordMatcher(L),se=ee):se=L,e.addRoute(se,K)}function g(L){const ee=e.getRecordMatcher(L);ee&&e.removeRoute(ee)}function v(){return e.getRoutes().map(L=>L.record)}function k(L){return!!e.getRecordMatcher(L)}function _(L,ee){if(ee=De({},ee||l.value),typeof L=="string"){const A=dc(n,L,ee.path),N=e.resolve({path:A.path},ee),$=i.createHref(A.fullPath);return De(A,N,{params:f(N.params),hash:Hr(A.hash),redirectedFrom:void 0,href:$})}let K;if(L.path!=null)K=De({},L,{path:dc(n,L.path,ee.path).path});else{const A=De({},L.params);for(const N in A)A[N]==null&&delete A[N];K=De({},L,{params:d(A)}),ee.params=d(ee.params)}const se=e.resolve(K,ee),Fe=L.hash||"";se.params=u(f(se.params));const y=gE(s,De({},L,{hash:cE(Fe),path:se.path})),S=i.createHref(y);return De({fullPath:y,hash:Fe,query:s===bh?GE(L.query):L.query||{}},se,{redirectedFrom:void 0,href:S})}function m(L){return typeof L=="string"?dc(n,L,l.value.path):De({},L)}function p(L,ee){if(c!==L)return Vi(8,{from:ee,to:L})}function b(L){return x(L)}function E(L){return b(De(m(L),{replace:!0}))}function C(L){const ee=L.matched[L.matched.length-1];if(ee&&ee.redirect){const{redirect:K}=ee;let se=typeof K=="function"?K(L):K;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=m(se):{path:se},se.params={}),De({query:L.query,hash:L.hash,params:se.path!=null?{}:L.params},se)}}function x(L,ee){const K=c=_(L),se=l.value,Fe=L.state,y=L.force,S=L.replace===!0,A=C(K);if(A)return x(De(m(A),{state:typeof A=="object"?De({},Fe,A.state):Fe,force:y,replace:S}),ee||K);const N=K;N.redirectedFrom=ee;let $;return!y&&mE(s,se,K)&&($=Vi(16,{to:N,from:se}),Le(se,se,!0,!1)),($?Promise.resolve($):I(N,se)).catch(F=>Dn(F)?Dn(F,2)?F:ve(F):O(F,N,se)).then(F=>{if(F){if(Dn(F,2))return x(De({replace:S},m(F.to),{state:typeof F.to=="object"?De({},Fe,F.to.state):Fe,force:y}),ee||N)}else F=D(N,se,!0,S,Fe);return M(N,se,F),F})}function P(L,ee){const K=p(L,ee);return K?Promise.reject(K):Promise.resolve()}function T(L){const ee=vn.values().next().value;return ee&&typeof ee.runWithContext=="function"?ee.runWithContext(L):L()}function I(L,ee){let K;const[se,Fe,y]=nS(L,ee);K=fc(se.reverse(),"beforeRouteLeave",L,ee);for(const A of se)A.leaveGuards.forEach(N=>{K.push(fs(N,L,ee))});const S=P.bind(null,L,ee);return K.push(S),mt(K).then(()=>{K=[];for(const A of r.list())K.push(fs(A,L,ee));return K.push(S),mt(K)}).then(()=>{K=fc(Fe,"beforeRouteUpdate",L,ee);for(const A of Fe)A.updateGuards.forEach(N=>{K.push(fs(N,L,ee))});return K.push(S),mt(K)}).then(()=>{K=[];for(const A of y)if(A.beforeEnter)if(hn(A.beforeEnter))for(const N of A.beforeEnter)K.push(fs(N,L,ee));else K.push(fs(A.beforeEnter,L,ee));return K.push(S),mt(K)}).then(()=>(L.matched.forEach(A=>A.enterCallbacks={}),K=fc(y,"beforeRouteEnter",L,ee,T),K.push(S),mt(K))).then(()=>{K=[];for(const A of o.list())K.push(fs(A,L,ee));return K.push(S),mt(K)}).catch(A=>Dn(A,8)?A:Promise.reject(A))}function M(L,ee,K){a.list().forEach(se=>T(()=>se(L,ee,K)))}function D(L,ee,K,se,Fe){const y=p(L,ee);if(y)return y;const S=ee===rs,A=bi?history.state:{};K&&(se||S?i.replace(L.fullPath,De({scroll:S&&A&&A.scroll},Fe)):i.push(L.fullPath,Fe)),l.value=L,Le(L,ee,K,S),ve()}let z;function oe(){z||(z=i.listen((L,ee,K)=>{if(!zt.listening)return;const se=_(L),Fe=C(se);if(Fe){x(De(Fe,{replace:!0,force:!0}),se).catch(Ar);return}c=se;const y=l.value;bi&&TE(dh(y.fullPath,K.delta),wl()),I(se,y).catch(S=>Dn(S,12)?S:Dn(S,2)?(x(De(m(S.to),{force:!0}),se).then(A=>{Dn(A,20)&&!K.delta&&K.type===qr.pop&&i.go(-1,!1)}).catch(Ar),Promise.reject()):(K.delta&&i.go(-K.delta,!1),O(S,se,y))).then(S=>{S=S||D(se,y,!1),S&&(K.delta&&!Dn(S,8)?i.go(-K.delta,!1):K.type===qr.pop&&Dn(S,20)&&i.go(-1,!1)),M(se,y,S)}).catch(Ar)}))}let re=fr(),W=fr(),R;function O(L,ee,K){ve(L);const se=W.list();return se.length?se.forEach(Fe=>Fe(L,ee,K)):console.error(L),Promise.reject(L)}function Z(){return R&&l.value!==rs?Promise.resolve():new Promise((L,ee)=>{re.add([L,ee])})}function ve(L){return R||(R=!L,oe(),re.list().forEach(([ee,K])=>L?K(L):ee()),re.reset()),L}function Le(L,ee,K,se){const{scrollBehavior:Fe}=t;if(!bi||!Fe)return Promise.resolve();const y=!K&&xE(dh(L.fullPath,0))||(se||!K)&&history.state&&history.state.scroll||null;return yo().then(()=>Fe(L,ee,y)).then(S=>S&&_E(S)).catch(S=>O(S,L,ee))}const Ae=L=>i.go(L);let jt;const vn=new Set,zt={currentRoute:l,listening:!0,addRoute:h,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:k,getRoutes:v,resolve:_,options:t,push:b,replace:E,go:Ae,back:()=>Ae(-1),forward:()=>Ae(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:W.add,isReady:Z,install(L){const ee=this;L.component("RouterLink",QE),L.component("RouterView",eS),L.config.globalProperties.$router=ee,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>ot(l)}),bi&&!jt&&l.value===rs&&(jt=!0,b(i.location).catch(Fe=>{}));const K={};for(const Fe in rs)Object.defineProperty(K,Fe,{get:()=>l.value[Fe],enumerable:!0});L.provide(bl,ee),L.provide(ad,Vr(K)),L.provide(tu,l);const se=L.unmount;vn.add(L),L.unmount=function(){vn.delete(L),vn.size<1&&(c=rs,z&&z(),z=null,l.value=rs,jt=!1,R=!1),se()}}};function mt(L){return L.reduce((ee,K)=>ee.then(()=>T(K)),Promise.resolve())}return zt}function nS(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>$i(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>$i(c,l))||i.push(l))}return[n,s,i]}function _o(){return qt(bl)}function Vm(t){return qt(ad)}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Bm;const El=t=>Bm=t,Um=Symbol();function nu(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Pr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Pr||(Pr={}));function sS(){const t=pg(!0),e=t.run(()=>J({}));let n=[],s=[];const i=Ju({install(r){El(i),i._a=r,r.provide(Um,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const jm=()=>{};function Ch(t,e,n,s=jm){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&gg()&&Mw(i),i}function vi(t,...e){t.slice().forEach(n=>{n(...e)})}const iS=t=>t(),Ih=Symbol(),hc=Symbol();function su(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];nu(i)&&nu(s)&&t.hasOwnProperty(n)&&!tt(s)&&!Ss(s)?t[n]=su(i,s):t[n]=s}return t}const rS=Symbol();function oS(t){return!nu(t)||!t.hasOwnProperty(rS)}const{assign:ls}=Object;function aS(t){return!!(tt(t)&&t.effect)}function lS(t,e,n,s){const{state:i,actions:r,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=Og(n.state.value[t]);return ls(u,r,Object.keys(o||{}).reduce((d,f)=>(d[f]=Ju(he(()=>{El(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=zm(t,c,e,n,s,!0),l}function zm(t,e,n={},s,i,r){let o;const a=ls({actions:{}},n),l={deep:!0};let c,u,d=[],f=[],h;const g=s.state.value[t];!r&&!g&&(s.state.value[t]={}),J({});let v;function k(P){let T;c=u=!1,typeof P=="function"?(P(s.state.value[t]),T={type:Pr.patchFunction,storeId:t,events:h}):(su(s.state.value[t],P),T={type:Pr.patchObject,payload:P,storeId:t,events:h});const I=v=Symbol();yo().then(()=>{v===I&&(c=!0)}),u=!0,vi(d,T,s.state.value[t])}const _=r?function(){const{state:T}=n,I=T?T():{};this.$patch(M=>{ls(M,I)})}:jm;function m(){o.stop(),d=[],f=[],s._s.delete(t)}const p=(P,T="")=>{if(Ih in P)return P[hc]=T,P;const I=function(){El(s);const M=Array.from(arguments),D=[],z=[];function oe(R){D.push(R)}function re(R){z.push(R)}vi(f,{args:M,name:I[hc],store:E,after:oe,onError:re});let W;try{W=P.apply(this&&this.$id===t?this:E,M)}catch(R){throw vi(z,R),R}return W instanceof Promise?W.then(R=>(vi(D,R),R)).catch(R=>(vi(z,R),Promise.reject(R))):(vi(D,W),W)};return I[Ih]=!0,I[hc]=T,I},b={_p:s,$id:t,$onAction:Ch.bind(null,f),$patch:k,$reset:_,$subscribe(P,T={}){const I=Ch(d,P,T.detached,()=>M()),M=o.run(()=>Qt(()=>s.state.value[t],D=>{(T.flush==="sync"?u:c)&&P({storeId:t,type:Pr.direct,events:h},D)},ls({},l,T)));return I},$dispose:m},E=Hn(b);s._s.set(t,E);const x=(s._a&&s._a.runWithContext||iS)(()=>s._e.run(()=>(o=pg()).run(()=>e({action:p}))));for(const P in x){const T=x[P];if(tt(T)&&!aS(T)||Ss(T))r||(g&&oS(T)&&(tt(T)?T.value=g[P]:su(T,g[P])),s.state.value[t][P]=T);else if(typeof T=="function"){const I=p(T,P);x[P]=I,a.actions[P]=T}}return ls(E,x),ls(Ie(E),x),Object.defineProperty(E,"$state",{get:()=>s.state.value[t],set:P=>{k(T=>{ls(T,P)})}}),s._p.forEach(P=>{ls(E,o.run(()=>P({store:E,app:s._a,pinia:s,options:a})))}),g&&r&&n.hydrate&&n.hydrate(E.$state,g),c=!0,u=!0,E}/*! #__NO_SIDE_EFFECTS__ */function cS(t,e,n){let s,i;const r=typeof e=="function";s=t,i=r?n:e;function o(a,l){const c=Ob();return a=a||(c?qt(Um,null):null),a&&El(a),a=Bm,a._s.has(s)||(r?zm(s,e,i,a):lS(s,i,a)),a._s.get(s)}return o.$id=s,o}const ld=cS("cart",()=>{const t=J([]);function e(p){return p?typeof p=="string"||typeof p=="number"?String(p):p.id??p.productId??p.sku??p._id??null:null}function n(p){if(p==null)return 0;const b=String(p).replace(",",".").trim(),E=parseFloat(b);return Number.isFinite(E)?E:0}function s(p){const b=e(p);return b?t.value.findIndex(E=>String(E.id)===String(b)):-1}function i(p){var P;if(!p)return null;if(p.id&&(p.qty!==void 0||p.quantity!==void 0))return{...p,id:String(p.id),qty:Number(p.qty??p.quantity??p.qty??1),price:n(p.price??p.unitPrice??p.amount??((P=p.product)==null?void 0:P.price))};const b=e(p)??p.name??p.title??Math.random().toString(36).slice(2,9),E=p.name??p.title??p.label??(p.product&&p.product.name)??"Producto",C=p.image??p.img??p.picture??(p.product&&p.product.image)??"",x=n(p.price??p.unitPrice??p.amount??(p.product&&p.product.price)??0);return{...p,id:String(b),name:E,image:C,price:x,qty:1}}function r(p){if(!p)return;const b=i(p),E=s(b);if(E!==-1){const C=Number(b.qty||1);t.value[E].qty=Number(t.value[E].qty||0)+C}else t.value.push({id:b.id,name:b.name,image:b.image,price:b.price,qty:Number(b.qty||1),...Object.fromEntries(Object.entries(p).filter(([C])=>!["id","name","image","price","qty","quantity"].includes(C)))})}function o(p){const b=s(p);b!==-1?t.value[b].qty=Number(t.value[b].qty||0)+1:typeof p=="object"&&r(p)}function a(p){const b=s(p);if(b===-1)return;const E=Number(t.value[b].qty||t.value[b].quantity||0);E>1?t.value[b].qty=E-1:t.value.splice(b,1)}function l(p){return a(p)}function c(p){const b=e(p);if(!b)return;const E=t.value.findIndex(C=>String(C.id)===String(b));E!==-1&&t.value.splice(E,1)}function u(p){return c(p)}function d(p){return a(p)}function f(p,b){const E=s(p);if(E===-1)return;const C=Math.max(0,Number(b||0));C===0?t.value.splice(E,1):t.value[E].qty=C}function h(){t.value.splice(0,t.value.length)}function g(){return h()}function v(){return h()}function k(p=[]){t.value.splice(0,t.value.length,...p)}const _=he(()=>t.value.reduce((p,b)=>p+Number(b.qty||b.quantity||0),0)),m=he(()=>t.value.reduce((p,b)=>{const E=n(b.price??b.unitPrice??b.amount??0),C=Number(b.qty??b.quantity??0);return p+E*C},0));return{items:t,addToCart:r,increase:o,decrease:a,removeFromCart:c,remove:u,removeOne:d,decrementItem:l,updateQuantity:f,setItems:k,clearCart:h,clear:g,empty:v,totalItems:_,totalPrice:m,parsePrice:n,extractId:e}});var Ah={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},uS=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},qm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=r>>2,d=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),s.push(n[u],n[d],n[f],n[h])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||a==null||c==null||d==null)throw new dS;const f=r<<2|a>>4;if(s.push(f),c!==64){const h=a<<4&240|c>>2;if(s.push(h),d!==64){const g=c<<6&192|d;s.push(g)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fS=function(t){const e=Hm(t);return qm.encodeByteArray(e,!0)},Oa=function(t){return fS(t).replace(/\./g,"")},Gm=function(t){try{return qm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=()=>hS().__FIREBASE_DEFAULTS__,gS=()=>{if(typeof process>"u"||typeof Ah>"u")return;const t=Ah.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gm(t[1]);return e&&JSON.parse(e)},cd=()=>{try{return pS()||gS()||mS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Wm=t=>{var e,n;return(n=(e=cd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vS=t=>{const e=Wm(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Km=()=>{var t;return(t=cd())===null||t===void 0?void 0:t.config},Ym=t=>{var e;return(e=cd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Oa(JSON.stringify(n)),Oa(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function ES(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _S(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TS(){try{return typeof indexedDB=="object"}catch{return!1}}function xS(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="FirebaseError";class ns extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=CS,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,To.prototype.create)}}class To{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?IS(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ns(i,a,s)}}function IS(t,e){return t.replace(AS,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const AS=/\{\$([^}]+)}/g;function kS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Da(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(kh(r)&&kh(o)){if(!Da(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function kh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function mr(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function vr(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function PS(t,e){const n=new RS(t,e);return n.subscribe.bind(n)}class RS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");MS(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=pc),i.error===void 0&&(i.error=pc),i.complete===void 0&&(i.complete=pc);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class ni{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new yS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NS(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DS(t){return t===zs?void 0:t}function NS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const FS={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},$S=Re.INFO,VS={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},BS=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=VS[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ud{constructor(e){this.name=e,this._logLevel=$S,this._logHandler=BS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const US=(t,e)=>e.some(n=>t instanceof n);let Ph,Rh;function jS(){return Ph||(Ph=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zS(){return Rh||(Rh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qm=new WeakMap,iu=new WeakMap,Xm=new WeakMap,gc=new WeakMap,dd=new WeakMap;function HS(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(xs(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Qm.set(n,t)}).catch(()=>{}),dd.set(e,t),e}function qS(t){if(iu.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});iu.set(t,e)}let ru={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return iu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GS(t){ru=t(ru)}function WS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(mc(this),e,...n);return Xm.set(s,e.sort?e.sort():[e]),xs(s)}:zS().includes(t)?function(...e){return t.apply(mc(this),e),xs(Qm.get(this))}:function(...e){return xs(t.apply(mc(this),e))}}function KS(t){return typeof t=="function"?WS(t):(t instanceof IDBTransaction&&qS(t),US(t,jS())?new Proxy(t,ru):t)}function xs(t){if(t instanceof IDBRequest)return HS(t);if(gc.has(t))return gc.get(t);const e=KS(t);return e!==t&&(gc.set(t,e),dd.set(e,t)),e}const mc=t=>dd.get(t);function YS(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=xs(o);return s&&o.addEventListener("upgradeneeded",l=>{s(xs(o.result),l.oldVersion,l.newVersion,xs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const QS=["get","getKey","getAll","getAllKeys","count"],XS=["put","add","delete","clear"],vc=new Map;function Mh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vc.get(e))return vc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=XS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||QS.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return vc.set(e,r),r}GS(t=>({...t,get:(e,n,s)=>Mh(e,n)||t.get(e,n,s),has:(e,n)=>!!Mh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ZS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ou="@firebase/app",Oh="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new ud("@firebase/app"),e_="@firebase/app-compat",t_="@firebase/analytics-compat",n_="@firebase/analytics",s_="@firebase/app-check-compat",i_="@firebase/app-check",r_="@firebase/auth",o_="@firebase/auth-compat",a_="@firebase/database",l_="@firebase/database-compat",c_="@firebase/functions",u_="@firebase/functions-compat",d_="@firebase/installations",f_="@firebase/installations-compat",h_="@firebase/messaging",p_="@firebase/messaging-compat",g_="@firebase/performance",m_="@firebase/performance-compat",v_="@firebase/remote-config",y_="@firebase/remote-config-compat",w_="@firebase/storage",b_="@firebase/storage-compat",E_="@firebase/firestore",S_="@firebase/firestore-compat",__="firebase",T_="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au="[DEFAULT]",x_={[ou]:"fire-core",[e_]:"fire-core-compat",[n_]:"fire-analytics",[t_]:"fire-analytics-compat",[i_]:"fire-app-check",[s_]:"fire-app-check-compat",[r_]:"fire-auth",[o_]:"fire-auth-compat",[a_]:"fire-rtdb",[l_]:"fire-rtdb-compat",[c_]:"fire-fn",[u_]:"fire-fn-compat",[d_]:"fire-iid",[f_]:"fire-iid-compat",[h_]:"fire-fcm",[p_]:"fire-fcm-compat",[g_]:"fire-perf",[m_]:"fire-perf-compat",[v_]:"fire-rc",[y_]:"fire-rc-compat",[w_]:"fire-gcs",[b_]:"fire-gcs-compat",[E_]:"fire-fst",[S_]:"fire-fst-compat","fire-js":"fire-js",[__]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new Map,lu=new Map;function C_(t,e){try{t.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bi(t){const e=t.name;if(lu.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;lu.set(e,t);for(const n of Na.values())C_(n,t);return!0}function fd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Cs=new To("app","Firebase",I_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=T_;function Jm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:au,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw Cs.create("bad-app-name",{appName:String(i)});if(n||(n=Km()),!n)throw Cs.create("no-options");const r=Na.get(i);if(r){if(Da(n,r.options)&&Da(s,r.config))return r;throw Cs.create("duplicate-app",{appName:i})}const o=new LS(i);for(const l of lu.values())o.addComponent(l);const a=new A_(n,s,o);return Na.set(i,a),a}function Zm(t=au){const e=Na.get(t);if(!e&&t===au&&Km())return Jm();if(!e)throw Cs.create("no-app",{appName:t});return e}function Is(t,e,n){var s;let i=(s=x_[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(a.join(" "));return}Bi(new ni(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="firebase-heartbeat-database",P_=1,Gr="firebase-heartbeat-store";let yc=null;function ev(){return yc||(yc=YS(k_,P_,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Gr)}}}).catch(t=>{throw Cs.create("idb-open",{originalErrorMessage:t.message})})),yc}async function R_(t){try{return await(await ev()).transaction(Gr).objectStore(Gr).get(tv(t))}catch(e){if(e instanceof ns)si.warn(e.message);else{const n=Cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(n.message)}}}async function Dh(t,e){try{const s=(await ev()).transaction(Gr,"readwrite");await s.objectStore(Gr).put(e,tv(t)),await s.done}catch(n){if(n instanceof ns)si.warn(n.message);else{const s=Cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});si.warn(s.message)}}}function tv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=1024,O_=30*24*60*60*1e3;class D_{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L_(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Nh();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const r=new Date(i.date).valueOf();return Date.now()-r<=O_}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Nh(),{heartbeatsToSend:n,unsentEntries:s}=N_(this._heartbeatsCache.heartbeats),i=Oa(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Nh(){return new Date().toISOString().substring(0,10)}function N_(t,e=M_){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),Lh(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Lh(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class L_{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TS()?xS().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await R_(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Lh(t){return Oa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t){Bi(new ni("platform-logger",e=>new JS(e),"PRIVATE")),Bi(new ni("heartbeat",e=>new D_(e),"PRIVATE")),Is(ou,Oh,t),Is(ou,Oh,"esm2017"),Is("fire-js","")}F_("");var $_="firebase",V_="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is($_,V_,"app");function hd(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function nv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const B_=nv,sv=new To("auth","Firebase",nv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new ud("@firebase/auth");function U_(t,...e){La.logLevel<=Re.WARN&&La.warn(`Auth (${Ji}): ${t}`,...e)}function ha(t,...e){La.logLevel<=Re.ERROR&&La.error(`Auth (${Ji}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,...e){throw pd(t,...e)}function In(t,...e){return pd(t,...e)}function j_(t,e,n){const s=Object.assign(Object.assign({},B_()),{[e]:n});return new To("auth","Firebase",s).create(e,{appName:t.name})}function pd(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return sv.create(t,...e)}function pe(t,e,...n){if(!t)throw pd(e,...n)}function Un(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ha(e),new Error(e)}function Qn(t,e){t||Un(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function z_(){return Fh()==="http:"||Fh()==="https:"}function Fh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z_()||ES()||"connection"in navigator)?navigator.onLine:!0}function q_(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qn(n>e,"Short delay should be less than long delay!"),this.isMobile=bS()||SS()}get(){return H_()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t,e){Qn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=new Co(3e4,6e4);function Zi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function di(t,e,n,s,i={}){return rv(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const a=xo(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),iv.fetch()(ov(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},r))})}async function rv(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},G_),e);try{const i=new K_(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Yo(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yo(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Yo(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Yo(t,"user-disabled",o);const u=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw j_(t,u,c);pn(t,u)}}catch(i){if(i instanceof ns)throw i;pn(t,"network-request-failed",{message:String(i)})}}async function Io(t,e,n,s,i={}){const r=await di(t,e,n,s,i);return"mfaPendingCredential"in r&&pn(t,"multi-factor-auth-required",{_serverResponse:r}),r}function ov(t,e,n,s){const i=`${e}${n}?${s}`;return t.config.emulator?gd(t.config,i):`${t.config.apiScheme}://${i}`}class K_{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(In(this.auth,"network-request-failed")),W_.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yo(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=In(t,e,s);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y_(t,e){return di(t,"POST","/v1/accounts:delete",e)}async function Q_(t,e){return di(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function X_(t,e=!1){const n=Bt(t),s=await n.getIdToken(e),i=md(s);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:Rr(wc(i.auth_time)),issuedAtTime:Rr(wc(i.iat)),expirationTime:Rr(wc(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function wc(t){return Number(t)*1e3}function md(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return ha("JWT malformed, contained fewer than 3 sections"),null;try{const i=Gm(n);return i?JSON.parse(i):(ha("Failed to decode base64 JWT payload"),null)}catch(i){return ha("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function J_(t){const e=md(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ui(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ns&&Z_(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Z_({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rr(this.lastLoginAt),this.creationTime=Rr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(t){var e;const n=t.auth,s=await t.getIdToken(),i=await Ui(t,Q_(n,{idToken:s}));pe(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?sT(r.providerUserInfo):[],a=nT(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new av(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function tT(t){const e=Bt(t);await Fa(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nT(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function sT(t){return t.map(e=>{var{providerId:n}=e,s=hd(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iT(t,e){const n=await rv(t,{},async()=>{const s=xo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=ov(t,i,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iv.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return pe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await iT(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new Wr;return s&&(pe(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(pe(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wr,this.toJSON())}_performRefresh(){return Un("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Js{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,r=hd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new av(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Ui(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return X_(this,e)}reload(){return tT(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Js(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Fa(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ui(this,Y_(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,r,o,a,l,c,u;const d=(s=n.displayName)!==null&&s!==void 0?s:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:p,emailVerified:b,isAnonymous:E,providerData:C,stsTokenManager:x}=n;pe(p&&x,e,"internal-error");const P=Wr.fromJSON(this.name,x);pe(typeof p=="string",e,"internal-error"),os(d,e.name),os(f,e.name),pe(typeof b=="boolean",e,"internal-error"),pe(typeof E=="boolean",e,"internal-error"),os(h,e.name),os(g,e.name),os(v,e.name),os(k,e.name),os(_,e.name),os(m,e.name);const T=new Js({uid:p,auth:e,email:f,emailVerified:b,displayName:d,isAnonymous:E,photoURL:g,phoneNumber:h,tenantId:v,stsTokenManager:P,createdAt:_,lastLoginAt:m});return C&&Array.isArray(C)&&(T.providerData=C.map(I=>Object.assign({},I))),k&&(T._redirectEventId=k),T}static async _fromIdTokenResponse(e,n,s=!1){const i=new Wr;i.updateFromServerResponse(n);const r=new Js({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Fa(r),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new Map;function jn(t){Qn(t instanceof Function,"Expected a class definition");let e=$h.get(t);return e?(Qn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$h.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lv.type="NONE";const Vh=lv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t,e,n){return`firebase:${t}:${e}:${n}`}class Ai{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=pa(this.userKey,i.apiKey,r),this.fullPersistenceKey=pa("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Js._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ai(jn(Vh),e,s);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=i[0]||jn(Vh);const o=pa(s,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Js._fromJSON(e,u);c!==r&&(a=d),r=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Ai(r,e,s):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new Ai(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hv(e))return"Blackberry";if(pv(e))return"Webos";if(vd(e))return"Safari";if((e.includes("chrome/")||uv(e))&&!e.includes("edge/"))return"Chrome";if(fv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function cv(t=Rt()){return/firefox\//i.test(t)}function vd(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uv(t=Rt()){return/crios\//i.test(t)}function dv(t=Rt()){return/iemobile/i.test(t)}function fv(t=Rt()){return/android/i.test(t)}function hv(t=Rt()){return/blackberry/i.test(t)}function pv(t=Rt()){return/webos/i.test(t)}function Sl(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rT(t=Rt()){var e;return Sl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oT(){return _S()&&document.documentMode===10}function gv(t=Rt()){return Sl(t)||fv(t)||pv(t)||hv(t)||/windows phone/i.test(t)||dv(t)}function aT(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t,e=[]){let n;switch(t){case"Browser":n=Bh(Rt());break;case"Worker":n=`${Bh(Rt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ji}/${s}`}async function vv(t,e){return di(t,"GET","/v2/recaptchaConfig",Zi(t,e))}function Uh(t){return t!==void 0&&t.enterprise!==void 0}class yv{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function wv(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=In("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",lT().appendChild(s)})}function cT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const uT="https://www.google.com/recaptcha/enterprise.js?render=",dT="recaptcha-enterprise",fT="NO_RECAPTCHA";class bv{constructor(e){this.type=dT,this.auth=er(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{vv(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new yv(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(r,o,a){const l=window.grecaptcha;Uh(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(c=>{o(c)}).catch(()=>{o(fT)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,o)=>{s(this.auth).then(a=>{if(!n&&Uh(window.grecaptcha))i(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}wv(uT+a).then(()=>{i(a,r,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function $a(t,e,n,s=!1){const i=new bv(t);let r;try{r=await i.verify(n)}catch{r=await i.verify(n,!0)}const o=Object.assign({},e);return s?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jh(this),this.idTokenSubscription=new jh(this),this.beforeStateQueue=new hT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jn(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await Ai.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fa(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q_()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Bt(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(jn(e))})}async initializeRecaptchaConfig(){const e=await vv(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new yv(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new bv(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new To("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&jn(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await Ai.create(this,[jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return pe(o,this,"internal-error"),o.then(()=>r(this.currentUser)),typeof n=="function"?e.addObserver(n,s,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&U_(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function er(t){return Bt(t)}class jh{constructor(e){this.auth=e,this.observer=null,this.addObserver=PS(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t,e){const n=fd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(Da(r,e??{}))return i;pn(i,"already-initialized")}return n.initialize({options:e})}function mT(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(jn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function vT(t,e,n){const s=er(t);pe(s._canInitEmulator,s,"emulator-config-failed"),pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=Ev(e),{host:o,port:a}=yT(e),l=a===null?"":`:${a}`;s.config.emulator={url:`${r}//${o}${l}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})}),wT()}function Ev(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yT(t){const e=Ev(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:zh(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:zh(o)}}}function zh(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wT(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Un("not implemented")}_getIdTokenResponse(e){return Un("not implemented")}_linkToIdToken(e,n){return Un("not implemented")}_getReauthenticationResolver(e){return Un("not implemented")}}async function bT(t,e){return di(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t,e){return Io(t,"POST","/v1/accounts:signInWithPassword",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ET(t,e){return Io(t,"POST","/v1/accounts:signInWithEmailLink",Zi(t,e))}async function ST(t,e){return Io(t,"POST","/v1/accounts:signInWithEmailLink",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends yd{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Kr(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Kr(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await $a(e,s,"signInWithPassword");return bc(e,i)}else return bc(e,s).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const r=await $a(e,s,"signInWithPassword");return bc(e,r)}else return Promise.reject(i)});case"emailLink":return ET(e,{email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return bT(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return ST(e,{idToken:n,email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ki(t,e){return Io(t,"POST","/v1/accounts:signInWithIdp",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="http://localhost";class ii extends yd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ii(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,r=hd(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new ii(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ki(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ki(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ki(e,n)}buildRequest(){const e={requestUri:_T,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xT(t){const e=mr(vr(t)).link,n=e?mr(vr(e)).deep_link_id:null,s=mr(vr(t)).deep_link_id;return(s?mr(vr(s)).link:null)||s||n||e||t}class wd{constructor(e){var n,s,i,r,o,a;const l=mr(vr(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(s=l.oobCode)!==null&&s!==void 0?s:null,d=TT((i=l.mode)!==null&&i!==void 0?i:null);pe(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=xT(e);try{return new wd(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(){this.providerId=tr.PROVIDER_ID}static credential(e,n){return Kr._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=wd.parseLink(n);return pe(s,"argument-error"),Kr._fromEmailAndCode(e,s.code,s.tenantId)}}tr.PROVIDER_ID="password";tr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends Sv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Ao{constructor(){super("facebook.com")}static credential(e){return ii._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Ao{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ii._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ps.credential(n,s)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Ao{constructor(){super("github.com")}static credential(e){return ii._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Ao{constructor(){super("twitter.com")}static credential(e,n){return ii._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ms.credential(n,s)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(t,e){return Io(t,"POST","/v1/accounts:signUp",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await Js._fromIdTokenResponse(e,s,i),o=Hh(s);return new ri({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=Hh(s);return new ri({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function Hh(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends ns{constructor(e,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,Va.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new Va(e,n,s,i)}}function _v(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Va._fromErrorAndOperation(t,r,e,s):r})}async function CT(t,e,n=!1){const s=await Ui(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ri._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IT(t,e,n=!1){const{auth:s}=t,i="reauthenticate";try{const r=await Ui(t,_v(s,i,e,t),n);pe(r.idToken,s,"internal-error");const o=md(r.idToken);pe(o,s,"internal-error");const{sub:a}=o;return pe(t.uid===a,s,"user-mismatch"),ri._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&pn(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tv(t,e,n=!1){const s="signIn",i=await _v(t,s,e),r=await ri._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function AT(t,e){return Tv(er(t),e)}async function kT(t,e,n){var s;const i=er(t),r={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((s=i._getRecaptchaConfig())===null||s===void 0)&&s.emailPasswordEnabled){const c=await $a(i,r,"signUpPassword");o=Ec(i,c)}else o=Ec(i,r).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await $a(i,r,"signUpPassword");return Ec(i,u)}else return Promise.reject(c)});const a=await o.catch(c=>Promise.reject(c)),l=await ri._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function PT(t,e,n){return AT(Bt(t),tr.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RT(t,e){return di(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MT(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Bt(t),r={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ui(s,RT(s.auth,r));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const a=s.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=s.displayName,a.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(t,e){return Bt(t).setPersistence(e)}function DT(t,e,n,s){return Bt(t).onIdTokenChanged(e,n,s)}function NT(t,e,n){return Bt(t).beforeAuthStateChanged(e,n)}function LT(t,e,n,s){return Bt(t).onAuthStateChanged(e,n,s)}function FT(t){return Bt(t).signOut()}const Ba="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ba,"1"),this.storage.removeItem(Ba),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(){const t=Rt();return vd(t)||Sl(t)}const VT=1e3,BT=10;class Cv extends xv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=$T()&&aT(),this.fallbackToPolling=gv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const s=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(s);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);oT()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,BT):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},VT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Cv.type="LOCAL";const Iv=Cv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av extends xv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Av.type="SESSION";const bd=Av;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new _l(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await UT(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_l.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=Ed("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return window}function zT(t){An().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(){return typeof An().WorkerGlobalScope<"u"&&typeof An().importScripts=="function"}async function HT(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qT(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function GT(){return kv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="firebaseLocalStorageDb",WT=1,Ua="firebaseLocalStorage",Rv="fbase_key";class ko{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tl(t,e){return t.transaction([Ua],e?"readwrite":"readonly").objectStore(Ua)}function KT(){const t=indexedDB.deleteDatabase(Pv);return new ko(t).toPromise()}function uu(){const t=indexedDB.open(Pv,WT);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Ua,{keyPath:Rv})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Ua)?e(s):(s.close(),await KT(),e(await uu()))})})}async function qh(t,e,n){const s=Tl(t,!0).put({[Rv]:e,value:n});return new ko(s).toPromise()}async function YT(t,e){const n=Tl(t,!1).get(e),s=await new ko(n).toPromise();return s===void 0?null:s.value}function Gh(t,e){const n=Tl(t,!0).delete(e);return new ko(n).toPromise()}const QT=800,XT=3;class Mv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>XT)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_l._getInstance(GT()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await HT(),!this.activeServiceWorker)return;this.sender=new jT(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uu();return await qh(e,Ba,"1"),await Gh(e,Ba),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>qh(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>YT(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gh(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=Tl(i,!1).getAll();return new ko(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mv.type="LOCAL";const JT=Mv;new Co(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t,e){return e?jn(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends yd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ki(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ki(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ki(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ex(t){return Tv(t.auth,new Sd(t),t.bypassAuthState)}function tx(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),IT(n,new Sd(t),t.bypassAuthState)}async function nx(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),CT(n,new Sd(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ex;case"linkViaPopup":case"linkViaRedirect":return nx;case"reauthViaPopup":case"reauthViaRedirect":return tx;default:pn(this.auth,"internal-error")}}resolve(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=new Co(2e3,1e4);class _i extends Ov{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,_i.currentPopupAction&&_i.currentPopupAction.cancel(),_i.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Qn(this.filter.length===1,"Popup operations only handle one event");const e=Ed();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_i.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sx.get())};e()}}_i.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="pendingRedirect",ga=new Map;class rx extends Ov{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ga.get(this.auth._key());if(!e){try{const s=await ox(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ga.set(this.auth._key(),e)}return this.bypassAuthState||ga.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ox(t,e){const n=cx(e),s=lx(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function ax(t,e){ga.set(t._key(),e)}function lx(t){return jn(t._redirectPersistence)}function cx(t){return pa(ix,t.config.apiKey,t.name)}async function ux(t,e,n=!1){const s=er(t),i=ZT(s,e),o=await new rx(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=10*60*1e3;class fx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Dv(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(In(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dx&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wh(e))}saveEventToCache(e){this.cachedEventUids.add(Wh(e)),this.lastProcessedEventTime=Date.now()}}function Wh(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Dv({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hx(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dv(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(t,e={}){return di(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mx=/^https?/;async function vx(t){if(t.config.emulator)return;const{authorizedDomains:e}=await px(t);for(const n of e)try{if(yx(n))return}catch{}pn(t,"unauthorized-domain")}function yx(t){const e=cu(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!mx.test(n))return!1;if(gx.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new Co(3e4,6e4);function Kh(){const t=An().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bx(t){return new Promise((e,n)=>{var s,i,r;function o(){Kh(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kh(),n(In(t,"network-request-failed"))},timeout:wx.get()})}if(!((i=(s=An().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=An().gapi)===null||r===void 0)&&r.load)o();else{const a=cT("iframefcb");return An()[a]=()=>{gapi.load?o():n(In(t,"network-request-failed"))},wv(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ma=null,e})}let ma=null;function Ex(t){return ma=ma||bx(t),ma}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=new Co(5e3,15e3),_x="__/auth/iframe",Tx="emulator/auth/iframe",xx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ix(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gd(e,Tx):`https://${t.config.authDomain}/${_x}`,s={apiKey:e.apiKey,appName:t.name,v:Ji},i=Cx.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${xo(s).slice(1)}`}async function Ax(t){const e=await Ex(t),n=An().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:Ix(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xx,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=In(t,"network-request-failed"),a=An().setTimeout(()=>{r(o)},Sx.get());function l(){An().clearTimeout(a),i(s)}s.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Px=500,Rx=600,Mx="_blank",Ox="http://localhost";class Yh{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dx(t,e,n,s=Px,i=Rx){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const l=Object.assign(Object.assign({},kx),{width:s.toString(),height:i.toString(),top:r,left:o}),c=Rt().toLowerCase();n&&(a=uv(c)?Mx:n),cv(c)&&(e=e||Ox,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[h,g])=>`${f}${h}=${g},`,"");if(rT(c)&&a!=="_self")return Nx(e||"",a),new Yh(null);const d=window.open(e||"",a,u);pe(d,t,"popup-blocked");try{d.focus()}catch{}return new Yh(d)}function Nx(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="__/auth/handler",Fx="emulator/auth/handler",$x=encodeURIComponent("fac");async function Qh(t,e,n,s,i,r){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ji,eventId:i};if(e instanceof Sv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",kS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Ao){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${$x}=${encodeURIComponent(l)}`:"";return`${Vx(t)}?${xo(a).slice(1)}${c}`}function Vx({config:t}){return t.emulator?gd(t,Fx):`https://${t.authDomain}/${Lx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="webStorageSupport";class Bx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bd,this._completeRedirectFn=ux,this._overrideRedirectResult=ax}async _openPopup(e,n,s,i){var r;Qn((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Qh(e,n,s,cu(),i);return Dx(e,o,Ed())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await Qh(e,n,s,cu(),i);return zT(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(Qn(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Ax(e),s=new fx(e);return n.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sc,{type:Sc},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[Sc];o!==void 0&&n(!!o),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gv()||vd()||Sl()}}const Ux=Bx;var Xh="@firebase/auth",Jh="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Hx(t){Bi(new ni("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mv(t)},c=new pT(s,i,r,l);return mT(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Bi(new ni("auth-internal",e=>{const n=er(e.getProvider("auth").getImmediate());return(s=>new jx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Is(Xh,Jh,zx(t)),Is(Xh,Jh,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=5*60,Gx=Ym("authIdTokenMaxAge")||qx;let Zh=null;const Wx=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Gx)return;const i=n==null?void 0:n.token;Zh!==i&&(Zh=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Kx(t=Zm()){const e=fd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gT(t,{popupRedirectResolver:Ux,persistence:[JT,Iv,bd]}),s=Ym("authTokenSyncURL");if(s){const r=Wx(s);NT(n,r,()=>r(n.currentUser)),DT(n,o=>r(o))}const i=Wm("auth");return i&&vT(n,`http://${i}`),n}Hx("Browser");var Yx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y,_d=_d||{},ge=Yx||self;function xl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Cl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Qx(t,e,n){return t.call.apply(t.bind,arguments)}function Xx(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,s),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function At(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?At=Qx:At=Xx,At.apply(null,arguments)}function Qo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function gt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,i,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(s,o)}}function Ls(){this.s=this.s,this.o=this.o}var Jx=0;Ls.prototype.s=!1;Ls.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Jx!=0)};Ls.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Nv=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Td(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function ep(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(xl(s)){const i=t.length||0,r=s.length||0;t.length=i+r;for(let o=0;o<r;o++)t[i+o]=s[o]}else t.push(s)}}function kt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}kt.prototype.h=function(){this.defaultPrevented=!0};var Zx=function(){if(!ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ge.addEventListener("test",()=>{},e),ge.removeEventListener("test",()=>{},e)}catch{}return t}();function Yr(t){return/^[\s\xa0]*$/.test(t)}function Il(){var t=ge.navigator;return t&&(t=t.userAgent)?t:""}function Sn(t){return Il().indexOf(t)!=-1}function xd(t){return xd[" "](t),t}xd[" "]=function(){};function eC(t,e){var n=WC;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var tC=Sn("Opera"),ji=Sn("Trident")||Sn("MSIE"),Lv=Sn("Edge"),du=Lv||ji,Fv=Sn("Gecko")&&!(Il().toLowerCase().indexOf("webkit")!=-1&&!Sn("Edge"))&&!(Sn("Trident")||Sn("MSIE"))&&!Sn("Edge"),nC=Il().toLowerCase().indexOf("webkit")!=-1&&!Sn("Edge");function $v(){var t=ge.document;return t?t.documentMode:void 0}var fu;e:{var _c="",Tc=function(){var t=Il();if(Fv)return/rv:([^\);]+)(\)|;)/.exec(t);if(Lv)return/Edge\/([\d\.]+)/.exec(t);if(ji)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(nC)return/WebKit\/(\S+)/.exec(t);if(tC)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Tc&&(_c=Tc?Tc[1]:""),ji){var xc=$v();if(xc!=null&&xc>parseFloat(_c)){fu=String(xc);break e}}fu=_c}var hu;if(ge.document&&ji){var tp=$v();hu=tp||parseInt(fu,10)||void 0}else hu=void 0;var sC=hu;function Qr(t,e){if(kt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Fv){e:{try{xd(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:iC[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Qr.$.h.call(this)}}gt(Qr,kt);var iC={2:"touch",3:"pen",4:"mouse"};Qr.prototype.h=function(){Qr.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Al="closure_listenable_"+(1e6*Math.random()|0),rC=0;function oC(t,e,n,s,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=i,this.key=++rC,this.fa=this.ia=!1}function kl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Cd(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function aC(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Vv(t){const e={};for(const n in t)e[n]=t[n];return e}const np="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bv(t,e){let n,s;for(let i=1;i<arguments.length;i++){s=arguments[i];for(n in s)t[n]=s[n];for(let r=0;r<np.length;r++)n=np[r],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function Pl(t){this.src=t,this.g={},this.h=0}Pl.prototype.add=function(t,e,n,s,i){var r=t.toString();t=this.g[r],t||(t=this.g[r]=[],this.h++);var o=gu(t,e,s,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new oC(e,this.src,r,!!s,i),e.ia=n,t.push(e)),e};function pu(t,e){var n=e.type;if(n in t.g){var s=t.g[n],i=Nv(s,e),r;(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(kl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function gu(t,e,n,s){for(var i=0;i<t.length;++i){var r=t[i];if(!r.fa&&r.listener==e&&r.capture==!!n&&r.la==s)return i}return-1}var Id="closure_lm_"+(1e6*Math.random()|0),Cc={};function Uv(t,e,n,s,i){if(Array.isArray(e)){for(var r=0;r<e.length;r++)Uv(t,e[r],n,s,i);return null}return n=Hv(n),t&&t[Al]?t.O(e,n,Cl(s)?!!s.capture:!1,i):lC(t,e,n,!1,s,i)}function lC(t,e,n,s,i,r){if(!e)throw Error("Invalid event type");var o=Cl(i)?!!i.capture:!!i,a=kd(t);if(a||(t[Id]=a=new Pl(t)),n=a.add(e,n,s,o,r),n.proxy)return n;if(s=cC(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)Zx||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),s,i);else if(t.attachEvent)t.attachEvent(zv(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function cC(){function t(n){return e.call(t.src,t.listener,n)}const e=uC;return t}function jv(t,e,n,s,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)jv(t,e[r],n,s,i);else s=Cl(s)?!!s.capture:!!s,n=Hv(n),t&&t[Al]?(t=t.i,e=String(e).toString(),e in t.g&&(r=t.g[e],n=gu(r,n,s,i),-1<n&&(kl(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete t.g[e],t.h--)))):t&&(t=kd(t))&&(e=t.g[e.toString()],t=-1,e&&(t=gu(e,n,s,i)),(n=-1<t?e[t]:null)&&Ad(n))}function Ad(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Al])pu(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(zv(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=kd(e))?(pu(n,t),n.h==0&&(n.src=null,e[Id]=null)):kl(t)}}}function zv(t){return t in Cc?Cc[t]:Cc[t]="on"+t}function uC(t,e){if(t.fa)t=!0;else{e=new Qr(e,this);var n=t.listener,s=t.la||t.src;t.ia&&Ad(t),t=n.call(s,e)}return t}function kd(t){return t=t[Id],t instanceof Pl?t:null}var Ic="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hv(t){return typeof t=="function"?t:(t[Ic]||(t[Ic]=function(e){return t.handleEvent(e)}),t[Ic])}function pt(){Ls.call(this),this.i=new Pl(this),this.S=this,this.J=null}gt(pt,Ls);pt.prototype[Al]=!0;pt.prototype.removeEventListener=function(t,e,n,s){jv(this,t,e,n,s)};function Et(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new kt(e,t);else if(e instanceof kt)e.target=e.target||t;else{var i=e;e=new kt(s,t),Bv(e,i)}if(i=!0,n)for(var r=n.length-1;0<=r;r--){var o=e.g=n[r];i=Xo(o,s,!0,e)&&i}if(o=e.g=t,i=Xo(o,s,!0,e)&&i,i=Xo(o,s,!1,e)&&i,n)for(r=0;r<n.length;r++)o=e.g=n[r],i=Xo(o,s,!1,e)&&i}pt.prototype.N=function(){if(pt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)kl(n[s]);delete t.g[e],t.h--}}this.J=null};pt.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};pt.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function Xo(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&pu(t.i,o),i=a.call(l,s)!==!1&&i}}return i&&!s.defaultPrevented}var Pd=ge.JSON.stringify;class dC{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function fC(){var t=Rd;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class hC{constructor(){this.h=this.g=null}add(e,n){const s=qv.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var qv=new dC(()=>new pC,t=>t.reset());class pC{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function gC(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function mC(t){ge.setTimeout(()=>{throw t},0)}let Xr,Jr=!1,Rd=new hC,Gv=()=>{const t=ge.Promise.resolve(void 0);Xr=()=>{t.then(vC)}};var vC=()=>{for(var t;t=fC();){try{t.h.call(t.g)}catch(n){mC(n)}var e=qv;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Jr=!1};function Rl(t,e){pt.call(this),this.h=t||1,this.g=e||ge,this.j=At(this.qb,this),this.l=Date.now()}gt(Rl,pt);Y=Rl.prototype;Y.ga=!1;Y.T=null;Y.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Et(this,"tick"),this.ga&&(Md(this),this.start()))}};Y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Md(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Y.N=function(){Rl.$.N.call(this),Md(this),delete this.g};function Od(t,e,n){if(typeof t=="function")n&&(t=At(t,n));else if(t&&typeof t.handleEvent=="function")t=At(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ge.setTimeout(t,e||0)}function Wv(t){t.g=Od(()=>{t.g=null,t.i&&(t.i=!1,Wv(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class yC extends Ls{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Wv(this)}N(){super.N(),this.g&&(ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(t){Ls.call(this),this.h=t,this.g={}}gt(Zr,Ls);var sp=[];function Kv(t,e,n,s){Array.isArray(n)||(n&&(sp[0]=n.toString()),n=sp);for(var i=0;i<n.length;i++){var r=Uv(e,n[i],s||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}}function Yv(t){Cd(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ad(e)},t),t.g={}}Zr.prototype.N=function(){Zr.$.N.call(this),Yv(this)};Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ml(){this.g=!0}Ml.prototype.Ea=function(){this.g=!1};function wC(t,e,n,s,i,r){t.info(function(){if(t.g)if(r)for(var o="",a=r.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+s+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function bC(t,e,n,s,i,r,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+i+"]: "+e+`
`+n+`
`+r+" "+o})}function Ti(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+SC(t,n)+(s?" "+s:"")})}function EC(t,e){t.info(function(){return"TIMEOUT: "+e})}Ml.prototype.info=function(){};function SC(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var i=s[1];if(Array.isArray(i)&&!(1>i.length)){var r=i[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Pd(n)}catch{return e}}var fi={},ip=null;function Ol(){return ip=ip||new pt}fi.Ta="serverreachability";function Qv(t){kt.call(this,fi.Ta,t)}gt(Qv,kt);function eo(t){const e=Ol();Et(e,new Qv(e))}fi.STAT_EVENT="statevent";function Xv(t,e){kt.call(this,fi.STAT_EVENT,t),this.stat=e}gt(Xv,kt);function Vt(t){const e=Ol();Et(e,new Xv(e,t))}fi.Ua="timingevent";function Jv(t,e){kt.call(this,fi.Ua,t),this.size=e}gt(Jv,kt);function Po(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ge.setTimeout(function(){t()},e)}var Dl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Zv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Dd(){}Dd.prototype.h=null;function rp(t){return t.h||(t.h=t.i())}function ey(){}var Ro={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Nd(){kt.call(this,"d")}gt(Nd,kt);function Ld(){kt.call(this,"c")}gt(Ld,kt);var mu;function Nl(){}gt(Nl,Dd);Nl.prototype.g=function(){return new XMLHttpRequest};Nl.prototype.i=function(){return{}};mu=new Nl;function Mo(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new Zr(this),this.P=_C,t=du?125:void 0,this.V=new Rl(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ty}function ty(){this.i=null,this.g="",this.h=!1}var _C=45e3,vu={},ja={};Y=Mo.prototype;Y.setTimeout=function(t){this.P=t};function yu(t,e,n){t.L=1,t.v=Fl(Xn(e)),t.s=n,t.S=!0,ny(t,null)}function ny(t,e){t.G=Date.now(),Oo(t),t.A=Xn(t.v);var n=t.A,s=t.W;Array.isArray(s)||(s=[String(s)]),uy(n.i,"t",s),t.C=0,n=t.l.J,t.h=new ty,t.g=Ry(t.l,n?e:null,!t.s),0<t.O&&(t.M=new yC(At(t.Pa,t,t.g),t.O)),Kv(t.U,t.g,"readystatechange",t.nb),e=t.I?Vv(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),eo(),wC(t.j,t.u,t.A,t.m,t.W,t.s)}Y.nb=function(t){t=t.target;const e=this.M;e&&_n(t)==3?e.l():this.Pa(t)};Y.Pa=function(t){try{if(t==this.g)e:{const u=_n(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||du||this.g&&(this.h.h||this.g.ja()||cp(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?eo(3):eo(2)),Ll(this);var n=this.g.da();this.ca=n;t:if(sy(this)){var s=cp(this.g);t="";var i=s.length,r=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qs(this),Mr(this);var o="";break t}this.h.i=new ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:r&&e==i-1});s.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,bC(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yr(a)){var c=a;break t}}c=null}if(n=c)Ti(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wu(this,n);else{this.i=!1,this.o=3,Vt(12),qs(this),Mr(this);break e}}this.S?(iy(this,u,o),du&&this.i&&u==3&&(Kv(this.U,this.V,"tick",this.mb),this.V.start())):(Ti(this.j,this.m,o,null),wu(this,o)),u==4&&qs(this),this.i&&!this.J&&(u==4?Iy(this.l,this):(this.i=!1,Oo(this)))}else HC(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Vt(12)):(this.o=0,Vt(13)),qs(this),Mr(this)}}}catch{}finally{}};function sy(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function iy(t,e,n){let s=!0,i;for(;!t.J&&t.C<n.length;)if(i=TC(t,n),i==ja){e==4&&(t.o=4,Vt(14),s=!1),Ti(t.j,t.m,null,"[Incomplete Response]");break}else if(i==vu){t.o=4,Vt(15),Ti(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else Ti(t.j,t.m,i,null),wu(t,i);sy(t)&&i!=ja&&i!=vu&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Vt(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),jd(e),e.M=!0,Vt(11))):(Ti(t.j,t.m,n,"[Invalid Chunked Response]"),qs(t),Mr(t))}Y.mb=function(){if(this.g){var t=_n(this.g),e=this.g.ja();this.C<e.length&&(Ll(this),iy(this,t,e),this.i&&t!=4&&Oo(this))}};function TC(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?ja:(n=Number(e.substring(n,s)),isNaN(n)?vu:(s+=1,s+n>e.length?ja:(e=e.slice(s,s+n),t.C=s+n,e)))}Y.cancel=function(){this.J=!0,qs(this)};function Oo(t){t.Y=Date.now()+t.P,ry(t,t.P)}function ry(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Po(At(t.lb,t),e)}function Ll(t){t.B&&(ge.clearTimeout(t.B),t.B=null)}Y.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(EC(this.j,this.A),this.L!=2&&(eo(),Vt(17)),qs(this),this.o=2,Mr(this)):ry(this,this.Y-t)};function Mr(t){t.l.H==0||t.J||Iy(t.l,t)}function qs(t){Ll(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Md(t.V),Yv(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function wu(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||bu(n.i,t))){if(!t.K&&bu(n.i,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var i=s;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)qa(n),Bl(n);else break e;Ud(n),Vt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Po(At(n.ib,n),6e3));if(1>=hy(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Gs(n,11)}else if((t.K||n.g==t)&&qa(n),!Yr(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(s=1.5*f,n.L=s,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const h=t.g;if(h){const g=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var r=s.i;r.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(Fd(r,r.h),r.h=null))}if(s.F){const v=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(s.Da=v,qe(s.I,s.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),s=n;var o=t;if(s.wa=Py(s,s.J?s.pa:null,s.Y),o.K){py(s.i,o);var a=o,l=s.L;l&&a.setTimeout(l),a.B&&(Ll(a),Oo(a)),s.g=o}else xy(s);0<n.j.length&&Ul(n)}else c[0]!="stop"&&c[0]!="close"||Gs(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Gs(n,7):Bd(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}eo(4)}catch{}}function xC(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(xl(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function CC(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(xl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function oy(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(xl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=CC(t),s=xC(t),i=s.length,r=0;r<i;r++)e.call(void 0,s[r],n&&n[r],t)}var ay=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function IC(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),i=null;if(0<=s){var r=t[n].substring(0,s);i=t[n].substring(s+1)}else r=t[n];e(r,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Zs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Zs){this.h=t.h,za(this,t.j),this.s=t.s,this.g=t.g,Ha(this,t.m),this.l=t.l;var e=t.i,n=new to;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),op(this,n),this.o=t.o}else t&&(e=String(t).match(ay))?(this.h=!1,za(this,e[1]||"",!0),this.s=yr(e[2]||""),this.g=yr(e[3]||"",!0),Ha(this,e[4]),this.l=yr(e[5]||"",!0),op(this,e[6]||"",!0),this.o=yr(e[7]||"")):(this.h=!1,this.i=new to(null,this.h))}Zs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(wr(e,ap,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(wr(e,ap,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(wr(n,n.charAt(0)=="/"?PC:kC,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",wr(n,MC)),t.join("")};function Xn(t){return new Zs(t)}function za(t,e,n){t.j=n?yr(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ha(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function op(t,e,n){e instanceof to?(t.i=e,OC(t.i,t.h)):(n||(e=wr(e,RC)),t.i=new to(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function Fl(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function yr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function wr(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,AC),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function AC(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ap=/[#\/\?@]/g,kC=/[#\?:]/g,PC=/[#\?]/g,RC=/[#\?@]/g,MC=/#/g;function to(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Fs(t){t.g||(t.g=new Map,t.h=0,t.i&&IC(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Y=to.prototype;Y.add=function(t,e){Fs(this),this.i=null,t=nr(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ly(t,e){Fs(t),e=nr(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function cy(t,e){return Fs(t),e=nr(t,e),t.g.has(e)}Y.forEach=function(t,e){Fs(this),this.g.forEach(function(n,s){n.forEach(function(i){t.call(e,i,s,this)},this)},this)};Y.ta=function(){Fs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const i=t[s];for(let r=0;r<i.length;r++)n.push(e[s])}return n};Y.Z=function(t){Fs(this);let e=[];if(typeof t=="string")cy(this,t)&&(e=e.concat(this.g.get(nr(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Y.set=function(t,e){return Fs(this),this.i=null,t=nr(this,t),cy(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Y.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function uy(t,e,n){ly(t,e),0<n.length&&(t.i=null,t.g.set(nr(t,e),Td(n)),t.h+=n.length)}Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const r=encodeURIComponent(String(s)),o=this.Z(s);for(s=0;s<o.length;s++){var i=r;o[s]!==""&&(i+="="+encodeURIComponent(String(o[s]))),t.push(i)}}return this.i=t.join("&")};function nr(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function OC(t,e){e&&!t.j&&(Fs(t),t.i=null,t.g.forEach(function(n,s){var i=s.toLowerCase();s!=i&&(ly(this,s),uy(this,i,n))},t)),t.j=e}var DC=class{constructor(t,e){this.g=t,this.map=e}};function dy(t){this.l=t||NC,ge.PerformanceNavigationTiming?(t=ge.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ge.g&&ge.g.Ka&&ge.g.Ka()&&ge.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var NC=10;function fy(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function hy(t){return t.h?1:t.g?t.g.size:0}function bu(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Fd(t,e){t.g?t.g.add(e):t.h=e}function py(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}dy.prototype.cancel=function(){if(this.i=gy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function gy(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Td(t.i)}var LC=class{stringify(t){return ge.JSON.stringify(t,void 0)}parse(t){return ge.JSON.parse(t,void 0)}};function FC(){this.g=new LC}function $C(t,e,n){const s=n||"";try{oy(t,function(i,r){let o=i;Cl(i)&&(o=Pd(i)),e.push(s+r+"="+encodeURIComponent(o))})}catch(i){throw e.push(s+"type="+encodeURIComponent("_badmap")),i}}function VC(t,e){const n=new Ml;if(ge.Image){const s=new Image;s.onload=Qo(Jo,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Qo(Jo,n,s,"TestLoadImage: error",!1,e),s.onabort=Qo(Jo,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Qo(Jo,n,s,"TestLoadImage: timeout",!1,e),ge.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function Jo(t,e,n,s,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(s)}catch{}}function Do(t){this.l=t.fc||null,this.j=t.ob||!1}gt(Do,Dd);Do.prototype.g=function(){return new $l(this.l,this.j)};Do.prototype.i=function(t){return function(){return t}}({});function $l(t,e){pt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=$d,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gt($l,pt);var $d=0;Y=$l.prototype;Y.open=function(t,e){if(this.readyState!=$d)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,no(this)};Y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,No(this)),this.readyState=$d};Y.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,no(this)),this.g&&(this.readyState=3,no(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;my(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function my(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Y.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?No(this):no(this),this.readyState==3&&my(this)}};Y.Za=function(t){this.g&&(this.response=this.responseText=t,No(this))};Y.Ya=function(t){this.g&&(this.response=t,No(this))};Y.ka=function(){this.g&&No(this)};function No(t){t.readyState=4,t.l=null,t.j=null,t.A=null,no(t)}Y.setRequestHeader=function(t,e){this.v.append(t,e)};Y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Y.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function no(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty($l.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var BC=ge.JSON.parse;function Je(t){pt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=vy,this.L=this.M=!1}gt(Je,pt);var vy="",UC=/^https?$/i,jC=["POST","PUT"];Y=Je.prototype;Y.Oa=function(t){this.M=t};Y.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mu.g(),this.C=this.u?rp(this.u):rp(mu),this.g.onreadystatechange=At(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(r){lp(this,r);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var i in s)n.set(i,s[i]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const r of s.keys())n.set(r,s.get(r));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),i=ge.FormData&&t instanceof ge.FormData,!(0<=Nv(jC,e))||s||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{by(this),0<this.B&&((this.L=zC(this.g))?(this.g.timeout=this.B,this.g.ontimeout=At(this.ua,this)):this.A=Od(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(r){lp(this,r)}};function zC(t){return ji&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Y.ua=function(){typeof _d<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Et(this,"timeout"),this.abort(8))};function lp(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,yy(t),Vl(t)}function yy(t){t.F||(t.F=!0,Et(t,"complete"),Et(t,"error"))}Y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Et(this,"complete"),Et(this,"abort"),Vl(this))};Y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vl(this,!0)),Je.$.N.call(this)};Y.La=function(){this.s||(this.G||this.v||this.l?wy(this):this.kb())};Y.kb=function(){wy(this)};function wy(t){if(t.h&&typeof _d<"u"&&(!t.C[1]||_n(t)!=4||t.da()!=2)){if(t.v&&_n(t)==4)Od(t.La,0,t);else if(Et(t,"readystatechange"),_n(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=o===0){var i=String(t.I).match(ay)[1]||null;!i&&ge.self&&ge.self.location&&(i=ge.self.location.protocol.slice(0,-1)),s=!UC.test(i?i.toLowerCase():"")}n=s}if(n)Et(t,"complete"),Et(t,"success");else{t.m=6;try{var r=2<_n(t)?t.g.statusText:""}catch{r=""}t.j=r+" ["+t.da()+"]",yy(t)}}finally{Vl(t)}}}}function Vl(t,e){if(t.g){by(t);const n=t.g,s=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Et(t,"ready");try{n.onreadystatechange=s}catch{}}}function by(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ge.clearTimeout(t.A),t.A=null)}Y.isActive=function(){return!!this.g};function _n(t){return t.g?t.g.readyState:0}Y.da=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}};Y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Y.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),BC(e)}};function cp(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case vy:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function HC(t){const e={};t=(t.g&&2<=_n(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<t.length;s++){if(Yr(t[s]))continue;var n=gC(t[s]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const r=e[i]||[];e[i]=r,r.push(n)}aC(e,function(s){return s.join(", ")})}Y.Ia=function(){return this.m};Y.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Ey(t){let e="";return Cd(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function Vd(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Ey(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):qe(t,e,n))}function hr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Sy(t){this.Ga=0,this.j=[],this.l=new Ml,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hr("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hr("baseRetryDelayMs",5e3,t),this.hb=hr("retryDelaySeedMs",1e4,t),this.eb=hr("forwardChannelMaxRetries",2,t),this.xa=hr("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new dy(t&&t.concurrentRequestLimit),this.Ja=new FC,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Y=Sy.prototype;Y.ra=8;Y.H=1;function Bd(t){if(_y(t),t.H==3){var e=t.W++,n=Xn(t.I);if(qe(n,"SID",t.K),qe(n,"RID",e),qe(n,"TYPE","terminate"),Lo(t,n),e=new Mo(t,t.l,e),e.L=2,e.v=Fl(Xn(n)),n=!1,ge.navigator&&ge.navigator.sendBeacon)try{n=ge.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ge.Image&&(new Image().src=e.v,n=!0),n||(e.g=Ry(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Oo(e)}ky(t)}function Bl(t){t.g&&(jd(t),t.g.cancel(),t.g=null)}function _y(t){Bl(t),t.u&&(ge.clearTimeout(t.u),t.u=null),qa(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ge.clearTimeout(t.m),t.m=null)}function Ul(t){if(!fy(t.i)&&!t.m){t.m=!0;var e=t.Na;Xr||Gv(),Jr||(Xr(),Jr=!0),Rd.add(e,t),t.C=0}}function qC(t,e){return hy(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Po(At(t.Na,t,e),Ay(t,t.C)),t.C++,!0)}Y.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Mo(this,this.l,t);let r=this.s;if(this.U&&(r?(r=Vv(r),Bv(r,this.U)):r=this.U),this.o!==null||this.O||(i.I=r,r=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var s=this.j[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ty(this,i,e),n=Xn(this.I),qe(n,"RID",t),qe(n,"CVER",22),this.F&&qe(n,"X-HTTP-Session-Id",this.F),Lo(this,n),r&&(this.O?e="headers="+encodeURIComponent(String(Ey(r)))+"&"+e:this.o&&Vd(n,this.o,r)),Fd(this.i,i),this.bb&&qe(n,"TYPE","init"),this.P?(qe(n,"$req",e),qe(n,"SID","null"),i.aa=!0,yu(i,n,null)):yu(i,n,e),this.H=2}}else this.H==3&&(t?up(this,t):this.j.length==0||fy(this.i)||up(this))};function up(t,e){var n;e?n=e.m:n=t.W++;const s=Xn(t.I);qe(s,"SID",t.K),qe(s,"RID",n),qe(s,"AID",t.V),Lo(t,s),t.o&&t.s&&Vd(s,t.o,t.s),n=new Mo(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Ty(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Fd(t.i,n),yu(n,s,e)}function Lo(t,e){t.na&&Cd(t.na,function(n,s){qe(e,s,n)}),t.h&&oy({},function(n,s){qe(e,s,n)})}function Ty(t,e,n){n=Math.min(t.j.length,n);var s=t.h?At(t.h.Va,t.h,t):null;e:{var i=t.j;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=i[0].g,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=r,0>c)r=Math.max(0,i[l].g-100),a=!1;else try{$C(u,o,"req"+c+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,s}function xy(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Xr||Gv(),Jr||(Xr(),Jr=!0),Rd.add(e,t),t.A=0}}function Ud(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Po(At(t.Ma,t),Ay(t,t.A)),t.A++,!0)}Y.Ma=function(){if(this.u=null,Cy(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Po(At(this.jb,this),t)}};Y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Vt(10),Bl(this),Cy(this))};function jd(t){t.B!=null&&(ge.clearTimeout(t.B),t.B=null)}function Cy(t){t.g=new Mo(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Xn(t.wa);qe(e,"RID","rpc"),qe(e,"SID",t.K),qe(e,"AID",t.V),qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&qe(e,"TO",t.qa),qe(e,"TYPE","xmlhttp"),Lo(t,e),t.o&&t.s&&Vd(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Fl(Xn(e)),n.s=null,n.S=!0,ny(n,t)}Y.ib=function(){this.v!=null&&(this.v=null,Bl(this),Ud(this),Vt(19))};function qa(t){t.v!=null&&(ge.clearTimeout(t.v),t.v=null)}function Iy(t,e){var n=null;if(t.g==e){qa(t),jd(t),t.g=null;var s=2}else if(bu(t.i,e))n=e.F,py(t.i,e),s=1;else return;if(t.H!=0){if(e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;s=Ol(),Et(s,new Jv(s,n)),Ul(t)}else xy(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(s==1&&qC(t,e)||s==2&&Ud(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Gs(t,5);break;case 4:Gs(t,10);break;case 3:Gs(t,6);break;default:Gs(t,2)}}}function Ay(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Gs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var s=At(t.pb,t);n||(n=new Zs("//www.google.com/images/cleardot.gif"),ge.location&&ge.location.protocol=="http"||za(n,"https"),Fl(n)),VC(n.toString(),s)}else Vt(2);t.H=0,t.h&&t.h.za(e),ky(t),_y(t)}Y.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Vt(2)):(this.l.info("Failed to ping google.com"),Vt(1))};function ky(t){if(t.H=0,t.ma=[],t.h){const e=gy(t.i);(e.length!=0||t.j.length!=0)&&(ep(t.ma,e),ep(t.ma,t.j),t.i.i.length=0,Td(t.j),t.j.length=0),t.h.ya()}}function Py(t,e,n){var s=n instanceof Zs?Xn(n):new Zs(n);if(s.g!="")e&&(s.g=e+"."+s.g),Ha(s,s.m);else{var i=ge.location;s=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var r=new Zs(null);s&&za(r,s),e&&(r.g=e),i&&Ha(r,i),n&&(r.l=n),s=r}return n=t.F,e=t.Da,n&&e&&qe(s,n,e),qe(s,"VER",t.ra),Lo(t,s),s}function Ry(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Je(new Do({ob:!0})):new Je(t.va),e.Oa(t.J),e}Y.isActive=function(){return!!this.h&&this.h.isActive(this)};function My(){}Y=My.prototype;Y.Ba=function(){};Y.Aa=function(){};Y.za=function(){};Y.ya=function(){};Y.isActive=function(){return!0};Y.Va=function(){};function Ga(){if(ji&&!(10<=Number(sC)))throw Error("Environmental error: no available transport.")}Ga.prototype.g=function(t,e){return new Jt(t,e)};function Jt(t,e){pt.call(this),this.g=new Sy(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Yr(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yr(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new sr(this)}gt(Jt,pt);Jt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Vt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Py(t,null,t.Y),Ul(t)};Jt.prototype.close=function(){Bd(this.g)};Jt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Pd(t),t=n);e.j.push(new DC(e.fb++,t)),e.H==3&&Ul(e)};Jt.prototype.N=function(){this.g.h=null,delete this.j,Bd(this.g),delete this.g,Jt.$.N.call(this)};function Oy(t){Nd.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}gt(Oy,Nd);function Dy(){Ld.call(this),this.status=1}gt(Dy,Ld);function sr(t){this.g=t}gt(sr,My);sr.prototype.Ba=function(){Et(this.g,"a")};sr.prototype.Aa=function(t){Et(this.g,new Oy(t))};sr.prototype.za=function(t){Et(this.g,new Dy)};sr.prototype.ya=function(){Et(this.g,"b")};function GC(){this.blockSize=-1}function gn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}gt(gn,GC);gn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ac(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)s[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)s[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var r=t.g[3],o=e+(r^n&(i^r))+s[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=r+(i^e&(n^i))+s[1]+3905402710&4294967295,r=e+(o<<12&4294967295|o>>>20),o=i+(n^r&(e^n))+s[2]+606105819&4294967295,i=r+(o<<17&4294967295|o>>>15),o=n+(e^i&(r^e))+s[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(r^n&(i^r))+s[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(i^e&(n^i))+s[5]+1200080426&4294967295,r=e+(o<<12&4294967295|o>>>20),o=i+(n^r&(e^n))+s[6]+2821735955&4294967295,i=r+(o<<17&4294967295|o>>>15),o=n+(e^i&(r^e))+s[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(r^n&(i^r))+s[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(i^e&(n^i))+s[9]+2336552879&4294967295,r=e+(o<<12&4294967295|o>>>20),o=i+(n^r&(e^n))+s[10]+4294925233&4294967295,i=r+(o<<17&4294967295|o>>>15),o=n+(e^i&(r^e))+s[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(r^n&(i^r))+s[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(i^e&(n^i))+s[13]+4254626195&4294967295,r=e+(o<<12&4294967295|o>>>20),o=i+(n^r&(e^n))+s[14]+2792965006&4294967295,i=r+(o<<17&4294967295|o>>>15),o=n+(e^i&(r^e))+s[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^r&(n^i))+s[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^i&(e^n))+s[6]+3225465664&4294967295,r=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(r^e))+s[11]+643717713&4294967295,i=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(i^r))+s[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^r&(n^i))+s[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^i&(e^n))+s[10]+38016083&4294967295,r=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(r^e))+s[15]+3634488961&4294967295,i=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(i^r))+s[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^r&(n^i))+s[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^i&(e^n))+s[14]+3275163606&4294967295,r=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(r^e))+s[3]+4107603335&4294967295,i=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(i^r))+s[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^r&(n^i))+s[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^i&(e^n))+s[2]+4243563512&4294967295,r=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(r^e))+s[7]+1735328473&4294967295,i=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(i^r))+s[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^r)+s[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^i)+s[8]+2272392833&4294967295,r=e+(o<<11&4294967295|o>>>21),o=i+(r^e^n)+s[11]+1839030562&4294967295,i=r+(o<<16&4294967295|o>>>16),o=n+(i^r^e)+s[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^r)+s[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^i)+s[4]+1272893353&4294967295,r=e+(o<<11&4294967295|o>>>21),o=i+(r^e^n)+s[7]+4139469664&4294967295,i=r+(o<<16&4294967295|o>>>16),o=n+(i^r^e)+s[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^r)+s[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^i)+s[0]+3936430074&4294967295,r=e+(o<<11&4294967295|o>>>21),o=i+(r^e^n)+s[3]+3572445317&4294967295,i=r+(o<<16&4294967295|o>>>16),o=n+(i^r^e)+s[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^r)+s[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^i)+s[12]+3873151461&4294967295,r=e+(o<<11&4294967295|o>>>21),o=i+(r^e^n)+s[15]+530742520&4294967295,i=r+(o<<16&4294967295|o>>>16),o=n+(i^r^e)+s[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~r))+s[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~i))+s[7]+1126891415&4294967295,r=e+(o<<10&4294967295|o>>>22),o=i+(e^(r|~n))+s[14]+2878612391&4294967295,i=r+(o<<15&4294967295|o>>>17),o=n+(r^(i|~e))+s[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~r))+s[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~i))+s[3]+2399980690&4294967295,r=e+(o<<10&4294967295|o>>>22),o=i+(e^(r|~n))+s[10]+4293915773&4294967295,i=r+(o<<15&4294967295|o>>>17),o=n+(r^(i|~e))+s[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~r))+s[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~i))+s[15]+4264355552&4294967295,r=e+(o<<10&4294967295|o>>>22),o=i+(e^(r|~n))+s[6]+2734768916&4294967295,i=r+(o<<15&4294967295|o>>>17),o=n+(r^(i|~e))+s[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~r))+s[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~i))+s[11]+3174756917&4294967295,r=e+(o<<10&4294967295|o>>>22),o=i+(e^(r|~n))+s[2]+718787259&4294967295,i=r+(o<<15&4294967295|o>>>17),o=n+(r^(i|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+r&4294967295}gn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,i=this.h,r=0;r<e;){if(i==0)for(;r<=n;)Ac(this,t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<e;)if(s[i++]=t.charCodeAt(r++),i==this.blockSize){Ac(this,s),i=0;break}}else for(;r<e;)if(s[i++]=t[r++],i==this.blockSize){Ac(this,s),i=0;break}}this.h=i,this.i+=e};gn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function Be(t,e){this.h=e;for(var n=[],s=!0,i=t.length-1;0<=i;i--){var r=t[i]|0;s&&r==e||(n[i]=r,s=!1)}this.g=n}var WC={};function zd(t){return-128<=t&&128>t?eC(t,function(e){return new Be([e|0],0>e?-1:0)}):new Be([t|0],0>t?-1:0)}function Tn(t){if(isNaN(t)||!isFinite(t))return Pi;if(0>t)return bt(Tn(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=Eu;return new Be(e,0)}function Ny(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return bt(Ny(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Tn(Math.pow(e,8)),s=Pi,i=0;i<t.length;i+=8){var r=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+r),e);8>r?(r=Tn(Math.pow(e,r)),s=s.R(r).add(Tn(o))):(s=s.R(n),s=s.add(Tn(o)))}return s}var Eu=4294967296,Pi=zd(0),Su=zd(1),dp=zd(16777216);Y=Be.prototype;Y.ea=function(){if(nn(this))return-bt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:Eu+s)*e,e*=Eu}return t};Y.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(zn(this))return"0";if(nn(this))return"-"+bt(this).toString(t);for(var e=Tn(Math.pow(t,6)),n=this,s="";;){var i=Ka(n,e).g;n=Wa(n,i.R(e));var r=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,zn(n))return r+s;for(;6>r.length;)r="0"+r;s=r+s}};Y.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function zn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function nn(t){return t.h==-1}Y.X=function(t){return t=Wa(this,t),nn(t)?-1:zn(t)?0:1};function bt(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new Be(n,~t.h).add(Su)}Y.abs=function(){return nn(this)?bt(this):this};Y.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,i=0;i<=e;i++){var r=s+(this.D(i)&65535)+(t.D(i)&65535),o=(r>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);s=o>>>16,r&=65535,o&=65535,n[i]=o<<16|r}return new Be(n,n[n.length-1]&-2147483648?-1:0)};function Wa(t,e){return t.add(bt(e))}Y.R=function(t){if(zn(this)||zn(t))return Pi;if(nn(this))return nn(t)?bt(this).R(bt(t)):bt(bt(this).R(t));if(nn(t))return bt(this.R(bt(t)));if(0>this.X(dp)&&0>t.X(dp))return Tn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<t.g.length;i++){var r=this.D(s)>>>16,o=this.D(s)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*s+2*i]+=o*l,Zo(n,2*s+2*i),n[2*s+2*i+1]+=r*l,Zo(n,2*s+2*i+1),n[2*s+2*i+1]+=o*a,Zo(n,2*s+2*i+1),n[2*s+2*i+2]+=r*a,Zo(n,2*s+2*i+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new Be(n,0)};function Zo(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function pr(t,e){this.g=t,this.h=e}function Ka(t,e){if(zn(e))throw Error("division by zero");if(zn(t))return new pr(Pi,Pi);if(nn(t))return e=Ka(bt(t),e),new pr(bt(e.g),bt(e.h));if(nn(e))return e=Ka(t,bt(e)),new pr(bt(e.g),e.h);if(30<t.g.length){if(nn(t)||nn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Su,s=e;0>=s.X(t);)n=fp(n),s=fp(s);var i=yi(n,1),r=yi(s,1);for(s=yi(s,2),n=yi(n,2);!zn(s);){var o=r.add(s);0>=o.X(t)&&(i=i.add(n),r=o),s=yi(s,1),n=yi(n,1)}return e=Wa(t,i.R(e)),new pr(i,e)}for(i=Pi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),r=Tn(n),o=r.R(e);nn(o)||0<o.X(t);)n-=s,r=Tn(n),o=r.R(e);zn(r)&&(r=Su),i=i.add(r),t=Wa(t,o)}return new pr(i,t)}Y.gb=function(t){return Ka(this,t).h};Y.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new Be(n,this.h&t.h)};Y.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new Be(n,this.h|t.h)};Y.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new Be(n,this.h^t.h)};function fp(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new Be(n,t.h)}function yi(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,i=[],r=0;r<s;r++)i[r]=0<e?t.D(r+n)>>>e|t.D(r+n+1)<<32-e:t.D(r+n);return new Be(i,t.h)}Ga.prototype.createWebChannel=Ga.prototype.g;Jt.prototype.send=Jt.prototype.u;Jt.prototype.open=Jt.prototype.m;Jt.prototype.close=Jt.prototype.close;Dl.NO_ERROR=0;Dl.TIMEOUT=8;Dl.HTTP_ERROR=6;Zv.COMPLETE="complete";ey.EventType=Ro;Ro.OPEN="a";Ro.CLOSE="b";Ro.ERROR="c";Ro.MESSAGE="d";pt.prototype.listen=pt.prototype.O;Je.prototype.listenOnce=Je.prototype.P;Je.prototype.getLastError=Je.prototype.Sa;Je.prototype.getLastErrorCode=Je.prototype.Ia;Je.prototype.getStatus=Je.prototype.da;Je.prototype.getResponseJson=Je.prototype.Wa;Je.prototype.getResponseText=Je.prototype.ja;Je.prototype.send=Je.prototype.ha;Je.prototype.setWithCredentials=Je.prototype.Oa;gn.prototype.digest=gn.prototype.l;gn.prototype.reset=gn.prototype.reset;gn.prototype.update=gn.prototype.j;Be.prototype.add=Be.prototype.add;Be.prototype.multiply=Be.prototype.R;Be.prototype.modulo=Be.prototype.gb;Be.prototype.compare=Be.prototype.X;Be.prototype.toNumber=Be.prototype.ea;Be.prototype.toString=Be.prototype.toString;Be.prototype.getBits=Be.prototype.D;Be.fromNumber=Tn;Be.fromString=Ny;var KC=function(){return new Ga},YC=function(){return Ol()},kc=Dl,QC=Zv,XC=fi,hp={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},JC=Do,ea=ey,ZC=Je,eI=gn,Ri=Be;const pp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ir="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new ud("@firebase/firestore");function gp(){return oi.logLevel}function ie(t,...e){if(oi.logLevel<=Re.DEBUG){const n=e.map(Hd);oi.debug(`Firestore (${ir}): ${t}`,...n)}}function Jn(t,...e){if(oi.logLevel<=Re.ERROR){const n=e.map(Hd);oi.error(`Firestore (${ir}): ${t}`,...n)}}function zi(t,...e){if(oi.logLevel<=Re.WARN){const n=e.map(Hd);oi.warn(`Firestore (${ir}): ${t}`,...n)}}function Hd(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t="Unexpected state"){const e=`FIRESTORE (${ir}) INTERNAL ASSERTION FAILED: `+t;throw Jn(e),new Error(e)}function Ge(t,e){t||me()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class nI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sI{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const i=l=>this.i!==s?(s=this.i,n(l)):Promise.resolve();let r=new As;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new As,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=r;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new As)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string"),new Ly(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Tt(e)}}class iI{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class rI{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new iI(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aI{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=r=>{r.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.T;return this.T=r.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.I.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.I.getImmediate({optional:!0});r?i(r):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.T=n.token,new oI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const i=lI(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=e.charAt(i[r]%e.length))}return s}}function Me(t,e){return t<e?-1:t>e?1:0}function Hi(t,e,n){return t.length===e.length&&t.every((s,i)=>n(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new lt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new lt(0,0))}static max(){return new ye(new lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n,s){n===void 0?n=0:n>e.length&&me(),s===void 0?s=e.length-n:s>e.length-n&&me(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return so.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof so?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const r=e.get(i),o=n.get(i);if(r<o)return-1;if(r>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xe extends so{construct(e,n,s){return new Xe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(B.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const cI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends so{construct(e,n,s){return new It(e,n,s)}static isValidIdentifier(e){return cI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new It(["__name__"])}static fromServerFormat(e){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new fe(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new fe(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new fe(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(s+=a,i++):(r(),i++)}if(r(),o)throw new fe(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(Xe.fromString(e))}static fromName(e){return new de(Xe.fromString(e).popFirst(5))}static empty(){return new de(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Xe(e.slice()))}}function uI(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new Rs(i,de.empty(),e)}function dI(t){return new Rs(t.readTime,t.key,-1)}class Rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Rs(ye.min(),de.empty(),-1)}static max(){return new Rs(ye.max(),de.empty(),-1)}}function fI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==hI)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,s)=>{n(e)})}static reject(e){return new U((n,s)=>{s(e)})}static waitFor(e){return new U((n,s)=>{let i=0,r=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++r,o&&r===i&&n()},l=>s(l))}),o=!0,r===i&&n()})}static or(e){let n=U.resolve(!1);for(const s of e)n=n.next(i=>i?U.resolve(i):s());return n}static forEach(e,n){const s=[];return e.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(e,n){return new U((s,i)=>{const r=e.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===r&&s(o)},u=>i(u))}})}static doWhile(e,n){return new U((s,i)=>{const r=()=>{e()===!0?n().next(()=>{r()},i):s()};r()})}}function $o(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>n.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}qd.ct=-1;function jl(t){return t==null}function Ya(t){return t===0&&1/t==-1/0}function gI(t){return typeof t=="number"&&Number.isInteger(t)&&!Ya(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $y(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||yt.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ta(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ta(this.root,e,this.comparator,!1)}getReverseIterator(){return new ta(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ta(this.root,e,this.comparator,!0)}}class ta{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?s(e.key,n):1,n&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yt{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??yt.RED,this.left=i??yt.EMPTY,this.right=r??yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,r){return new yt(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yt.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}}yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1;yt.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(t,e,n,s,i){return this}insert(t,e,n){return new yt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vp(this.data.getIterator())}getIteratorFrom(e){return new vp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class vp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new un([])}unionWith(e){let n=new Pt(It.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hi(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Vy("Invalid base64 string: "+i):i}}(e);return new Mt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let r=0;r<s.length;++r)i+=String.fromCharCode(s[r]);return i}(e);return new Mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const mI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(t){if(Ge(!!t),typeof t=="string"){let e=0;const n=mI.exec(t);if(Ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ai(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wd(t){const e=t.mapValue.fields.__previous_value__;return Gd(e)?Wd(e):e}function io(t){const e=Ms(t.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,s,i,r,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class ro{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ro("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ro&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na={mapValue:{}};function li(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gd(t)?4:yI(t)?9007199254740991:10:me()}function Rn(t,e){if(t===e)return!0;const n=li(t);if(n!==li(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return io(t).isEqual(io(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const r=Ms(s.timestampValue),o=Ms(i.timestampValue);return r.seconds===o.seconds&&r.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ai(s.bytesValue).isEqual(ai(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return it(s.geoPointValue.latitude)===it(i.geoPointValue.latitude)&&it(s.geoPointValue.longitude)===it(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return it(s.integerValue)===it(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const r=it(s.doubleValue),o=it(i.doubleValue);return r===o?Ya(r)===Ya(o):isNaN(r)&&isNaN(o)}return!1}(t,e);case 9:return Hi(t.arrayValue.values||[],e.arrayValue.values||[],Rn);case 10:return function(s,i){const r=s.mapValue.fields||{},o=i.mapValue.fields||{};if(mp(r)!==mp(o))return!1;for(const a in r)if(r.hasOwnProperty(a)&&(o[a]===void 0||!Rn(r[a],o[a])))return!1;return!0}(t,e);default:return me()}}function oo(t,e){return(t.values||[]).find(n=>Rn(n,e))!==void 0}function qi(t,e){if(t===e)return 0;const n=li(t),s=li(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(i,r){const o=it(i.integerValue||i.doubleValue),a=it(r.integerValue||r.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return yp(t.timestampValue,e.timestampValue);case 4:return yp(io(t),io(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(i,r){const o=ai(i),a=ai(r);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,r){const o=i.split("/"),a=r.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=Me(o[l],a[l]);if(c!==0)return c}return Me(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,r){const o=Me(it(i.latitude),it(r.latitude));return o!==0?o:Me(it(i.longitude),it(r.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,r){const o=i.values||[],a=r.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=qi(o[l],a[l]);if(c)return c}return Me(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,r){if(i===na.mapValue&&r===na.mapValue)return 0;if(i===na.mapValue)return 1;if(r===na.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=r.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=Me(a[u],c[u]);if(d!==0)return d;const f=qi(o[a[u]],l[c[u]]);if(f!==0)return f}return Me(a.length,c.length)}(t.mapValue,e.mapValue);default:throw me()}}function yp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Ms(t),s=Ms(e),i=Me(n.seconds,s.seconds);return i!==0?i:Me(n.nanos,s.nanos)}function Gi(t){return _u(t)}function _u(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const i=Ms(s);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ai(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,de.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let i="[",r=!0;for(const o of s.values||[])r?r=!1:i+=",",i+=_u(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(s){const i=Object.keys(s.fields||{}).sort();let r="{",o=!0;for(const a of i)o?o=!1:r+=",",r+=`${a}:${_u(s.fields[a])}`;return r+"}"}(t.mapValue):me();var e,n}function Tu(t){return!!t&&"integerValue"in t}function Kd(t){return!!t&&"arrayValue"in t}function wp(t){return!!t&&"nullValue"in t}function bp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function va(t){return!!t&&"mapValue"in t}function Or(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return rr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Or(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Or(t.arrayValue.values[n]);return e}return Object.assign({},t)}function yI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!va(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Or(n)}setAll(e){let n=It.emptyPath(),s={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,s,i),s={},i=[],n=a.popLast()}o?s[a.lastSegment()]=Or(o):i.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(e){const n=this.field(e.popLast());va(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];va(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){rr(n,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new sn(Or(this.value))}}function By(t){const e=[];return rr(t.fields,(n,s)=>{const i=new It([n]);if(va(s)){const r=By(s.mapValue).fields;if(r.length===0)e.push(i);else for(const o of r)e.push(i.child(o))}else e.push(i)}),new un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,s,i,r,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ct(e,0,ye.min(),ye.min(),ye.min(),sn.empty(),0)}static newFoundDocument(e,n,s,i){return new Ct(e,1,n,ye.min(),s,i,0)}static newNoDocument(e,n){return new Ct(e,2,n,ye.min(),ye.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,ye.min(),ye.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.position=e,this.inclusive=n}}function Ep(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const r=e[i],o=t.position[i];if(r.field.isKeyField()?s=de.comparator(de.fromName(o.referenceValue),n.key):s=qi(o,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function Sp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n="asc"){this.field=e,this.dir=n}}function wI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{}class at extends Uy{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new EI(e,n,s):n==="array-contains"?new TI(e,s):n==="in"?new xI(e,s):n==="not-in"?new CI(e,s):n==="array-contains-any"?new II(e,s):new at(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new SI(e,s):new _I(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(qi(n,this.value)):n!==null&&li(this.value)===li(n)&&this.matchesComparison(qi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Mn extends Uy{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Mn(e,n)}matches(e){return jy(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function jy(t){return t.op==="and"}function zy(t){return bI(t)&&jy(t)}function bI(t){for(const e of t.filters)if(e instanceof Mn)return!1;return!0}function xu(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+Gi(t.value);if(zy(t))return t.filters.map(e=>xu(e)).join(",");{const e=t.filters.map(n=>xu(n)).join(",");return`${t.op}(${e})`}}function Hy(t,e){return t instanceof at?function(n,s){return s instanceof at&&n.op===s.op&&n.field.isEqual(s.field)&&Rn(n.value,s.value)}(t,e):t instanceof Mn?function(n,s){return s instanceof Mn&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,r,o)=>i&&Hy(r,s.filters[o]),!0):!1}(t,e):void me()}function qy(t){return t instanceof at?function(e){return`${e.field.canonicalString()} ${e.op} ${Gi(e.value)}`}(t):t instanceof Mn?function(e){return e.op.toString()+" {"+e.getFilters().map(qy).join(" ,")+"}"}(t):"Filter"}class EI extends at{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class SI extends at{constructor(e,n){super(e,"in",n),this.keys=Gy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _I extends at{constructor(e,n){super(e,"not-in",n),this.keys=Gy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Gy(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>de.fromName(s.referenceValue))}class TI extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kd(n)&&oo(n.arrayValue,this.value)}}class xI extends at{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oo(this.value.arrayValue,n)}}class CI extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!oo(this.value.arrayValue,n)}}class II extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>oo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n=null,s=[],i=[],r=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=a,this.dt=null}}function _p(t,e=null,n=[],s=[],i=null,r=null,o=null){return new AI(t,e,n,s,i,r,o)}function Yd(t){const e=Ee(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>xu(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),jl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Gi(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Gi(s)).join(",")),e.dt=n}return e.dt}function Qd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Hy(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Sp(t.startAt,e.startAt)&&Sp(t.endAt,e.endAt)}function Cu(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n=null,s=[],i=[],r=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function kI(t,e,n,s,i,r,o,a){return new zl(t,e,n,s,i,r,o,a)}function Xd(t){return new zl(t)}function Tp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function RI(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function MI(t){return t.collectionGroup!==null}function Mi(t){const e=Ee(t);if(e.wt===null){e.wt=[];const n=RI(e),s=PI(e);if(n!==null&&s===null)n.isKeyField()||e.wt.push(new Dr(n)),e.wt.push(new Dr(It.keyField(),"asc"));else{let i=!1;for(const r of e.explicitOrderBy)e.wt.push(r),r.field.isKeyField()&&(i=!0);if(!i){const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Dr(It.keyField(),r))}}}return e.wt}function Zn(t){const e=Ee(t);if(!e._t)if(e.limitType==="F")e._t=_p(e.path,e.collectionGroup,Mi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const r of Mi(e)){const o=r.dir==="desc"?"asc":"desc";n.push(new Dr(r.field,o))}const s=e.endAt?new Qa(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Qa(e.startAt.position,e.startAt.inclusive):null;e._t=_p(e.path,e.collectionGroup,n,e.filters,e.limit,s,i)}return e._t}function Iu(t,e,n){return new zl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hl(t,e){return Qd(Zn(t),Zn(e))&&t.limitType===e.limitType}function Wy(t){return`${Yd(Zn(t))}|lt:${t.limitType}`}function Au(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>qy(s)).join(", ")}]`),jl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Gi(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Gi(s)).join(",")),`Target(${n})`}(Zn(t))}; limitType=${t.limitType})`}function ql(t,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):de.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,s){for(const i of Mi(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(i,r,o){const a=Ep(i,r,o);return i.inclusive?a<=0:a<0}(n.startAt,Mi(n),s)||n.endAt&&!function(i,r,o){const a=Ep(i,r,o);return i.inclusive?a>=0:a>0}(n.endAt,Mi(n),s))}(t,e)}function OI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ky(t){return(e,n)=>{let s=!1;for(const i of Mi(t)){const r=DI(i,e,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function DI(t,e,n){const s=t.field.isKeyField()?de.comparator(e.key,n.key):function(i,r,o){const a=r.data.field(i),l=o.data.field(i);return a!==null&&l!==null?qi(a,l):me()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rr(this.inner,(n,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return $y(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new Ye(de.comparator);function es(){return NI}const Yy=new Ye(de.comparator);function br(...t){let e=Yy;for(const n of t)e=e.insert(n.key,n);return e}function Qy(t){let e=Yy;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ws(){return Nr()}function Xy(){return Nr()}function Nr(){return new or(t=>t.toString(),(t,e)=>t.isEqual(e))}const LI=new Ye(de.comparator),FI=new Pt(de.comparator);function Te(...t){let e=FI;for(const n of t)e=e.add(n);return e}const $I=new Pt(Me);function VI(){return $I}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ya(e)?"-0":e}}function Zy(t){return{integerValue:""+t}}function BI(t,e){return gI(e)?Zy(e):Jy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this._=void 0}}function UI(t,e,n){return t instanceof ao?function(s,i){const r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Gd(i)&&(i=Wd(i)),i&&(r.fields.__previous_value__=i),{mapValue:r}}(n,e):t instanceof lo?t0(t,e):t instanceof co?n0(t,e):function(s,i){const r=e0(s,i),o=xp(r)+xp(s.gt);return Tu(r)&&Tu(s.gt)?Zy(o):Jy(s.serializer,o)}(t,e)}function jI(t,e,n){return t instanceof lo?t0(t,e):t instanceof co?n0(t,e):n}function e0(t,e){return t instanceof Xa?Tu(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class ao extends Gl{}class lo extends Gl{constructor(e){super(),this.elements=e}}function t0(t,e){const n=s0(e);for(const s of t.elements)n.some(i=>Rn(i,s))||n.push(s);return{arrayValue:{values:n}}}class co extends Gl{constructor(e){super(),this.elements=e}}function n0(t,e){let n=s0(e);for(const s of t.elements)n=n.filter(i=>!Rn(i,s));return{arrayValue:{values:n}}}class Xa extends Gl{constructor(e,n){super(),this.serializer=e,this.gt=n}}function xp(t){return it(t.integerValue||t.doubleValue)}function s0(t){return Kd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n){this.field=e,this.transform=n}}function HI(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof lo&&s instanceof lo||n instanceof co&&s instanceof co?Hi(n.elements,s.elements,Rn):n instanceof Xa&&s instanceof Xa?Rn(n.gt,s.gt):n instanceof ao&&s instanceof ao}(t.transform,e.transform)}class qI{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ya(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wl{}function i0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new o0(t.key,Gn.none()):new Vo(t.key,t.data,Gn.none());{const n=t.data,s=sn.empty();let i=new Pt(It.comparator);for(let r of e.fields)if(!i.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new hi(t.key,s,new un(i.toArray()),Gn.none())}}function GI(t,e,n){t instanceof Vo?function(s,i,r){const o=s.value.clone(),a=Ip(s.fieldTransforms,i,r.transformResults);o.setAll(a),i.convertToFoundDocument(r.version,o).setHasCommittedMutations()}(t,e,n):t instanceof hi?function(s,i,r){if(!ya(s.precondition,i))return void i.convertToUnknownDocument(r.version);const o=Ip(s.fieldTransforms,i,r.transformResults),a=i.data;a.setAll(r0(s)),a.setAll(o),i.convertToFoundDocument(r.version,a).setHasCommittedMutations()}(t,e,n):function(s,i,r){i.convertToNoDocument(r.version).setHasCommittedMutations()}(0,e,n)}function Lr(t,e,n,s){return t instanceof Vo?function(i,r,o,a){if(!ya(i.precondition,r))return o;const l=i.value.clone(),c=Ap(i.fieldTransforms,a,r);return l.setAll(c),r.convertToFoundDocument(r.version,l).setHasLocalMutations(),null}(t,e,n,s):t instanceof hi?function(i,r,o,a){if(!ya(i.precondition,r))return o;const l=Ap(i.fieldTransforms,a,r),c=r.data;return c.setAll(r0(i)),c.setAll(l),r.convertToFoundDocument(r.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,s):function(i,r,o){return ya(i.precondition,r)?(r.convertToNoDocument(r.version).setHasLocalMutations(),null):o}(t,e,n)}function WI(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),r=e0(s.transform,i||null);r!=null&&(n===null&&(n=sn.empty()),n.set(s.field,r))}return n||null}function Cp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Hi(n,s,(i,r)=>HI(i,r))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vo extends Wl{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class hi extends Wl{constructor(e,n,s,i,r=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function r0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Ip(t,e,n){const s=new Map;Ge(t.length===n.length);for(let i=0;i<n.length;i++){const r=t[i],o=r.transform,a=e.data.field(r.field);s.set(r.field,jI(o,a,n[i]))}return s}function Ap(t,e,n){const s=new Map;for(const i of t){const r=i.transform,o=n.data.field(i.field);s.set(i.field,UI(r,o,e))}return s}class o0 extends Wl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KI extends Wl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&GI(r,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Lr(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Lr(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Xy();return this.mutations.forEach(i=>{const r=e.get(i.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(i.key)?null:a;const l=i0(o,a);l!==null&&s.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ye.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&Hi(this.mutations,e.mutations,(n,s)=>Cp(n,s))&&Hi(this.baseMutations,e.baseMutations,(n,s)=>Cp(n,s))}}class Jd{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){Ge(e.mutations.length===s.length);let i=LI;const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new Jd(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Ce;function JI(t){switch(t){default:return me();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function a0(t){if(t===void 0)return Jn("GRPC error has no .code"),B.UNKNOWN;switch(t){case st.OK:return B.OK;case st.CANCELLED:return B.CANCELLED;case st.UNKNOWN:return B.UNKNOWN;case st.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case st.INTERNAL:return B.INTERNAL;case st.UNAVAILABLE:return B.UNAVAILABLE;case st.UNAUTHENTICATED:return B.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case st.NOT_FOUND:return B.NOT_FOUND;case st.ALREADY_EXISTS:return B.ALREADY_EXISTS;case st.PERMISSION_DENIED:return B.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case st.ABORTED:return B.ABORTED;case st.OUT_OF_RANGE:return B.OUT_OF_RANGE;case st.UNIMPLEMENTED:return B.UNIMPLEMENTED;case st.DATA_LOSS:return B.DATA_LOSS;default:return me()}}(Ce=st||(st={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return sa}static getOrCreateInstance(){return sa===null&&(sa=new Zd),sa}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let sa=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=new Ri([4294967295,4294967295],0);function kp(t){const e=ZI().encode(t),n=new eI;return n.update(e),new Uint8Array(n.digest())}function Pp(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Ri([n,s],0),new Ri([i,r],0)]}class ef{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Er(`Invalid padding: ${n}`);if(s<0)throw new Er(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Er(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Er(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ri.fromNumber(this.It)}Et(e,n,s){let i=e.add(n.multiply(Ri.fromNumber(s)));return i.compare(eA)===1&&(i=new Ri([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=kp(e),[s,i]=Pp(n);for(let r=0;r<this.hashCount;r++){const o=this.Et(s,i,r);if(!this.At(o))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new ef(r,i,n);return s.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=kp(e),[s,i]=Pp(n);for(let r=0;r<this.hashCount;r++){const o=this.Et(s,i,r);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Er extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,s,i,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,Bo.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Kl(ye.min(),i,new Ye(Me),es(),Te())}}class Bo{constructor(e,n,s,i,r){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Bo(s,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n,s,i){this.Pt=e,this.removedTargetIds=n,this.key=s,this.bt=i}}class l0{constructor(e,n){this.targetId=e,this.Vt=n}}class c0{constructor(e,n,s=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class Rp{constructor(){this.St=0,this.Dt=Op(),this.Ct=Mt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Te(),n=Te(),s=Te();return this.Dt.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:me()}}),new Bo(this.Ct,this.xt,e,n,s)}Ft(){this.Nt=!1,this.Dt=Op()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class tA{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=es(),this.zt=Mp(),this.Wt=new Ye(Me)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const s=this.Zt(n);switch(e.state){case 0:this.te(n)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(n);break;case 3:this.te(n)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),s.$t(e.resumeToken));break;default:me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((s,i)=>{this.te(i)&&n(i)})}ne(e){var n;const s=e.targetId,i=e.Vt.count,r=this.se(s);if(r){const o=r.target;if(Cu(o))if(i===0){const a=new de(o.path);this.Yt(s,a,Ct.newNoDocument(a,ye.min()))}else Ge(i===1);else{const a=this.ie(s);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(s);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(s,c)}(n=Zd.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,u,d){var f,h,g,v,k,_;const m={localCacheCount:u,existenceFilterCount:d.count},p=d.unchangedNames;return p&&(m.bloomFilter={applied:c===0,hashCount:(f=p==null?void 0:p.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(v=(g=(h=p==null?void 0:p.bits)===null||h===void 0?void 0:h.bitmap)===null||g===void 0?void 0:g.length)!==null&&v!==void 0?v:0,padding:(_=(k=p==null?void 0:p.bits)===null||k===void 0?void 0:k.padding)!==null&&_!==void 0?_:0}),m}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:s,count:i}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=s;let l,c;try{l=ai(r).toUint8Array()}catch(u){if(u instanceof Vy)return zi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new ef(l,o,a)}catch(u){return zi(u instanceof Er?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return c.It===0?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const s=this.Gt.getRemoteKeysForTarget(e);let i=0;return s.forEach(r=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;n.vt(a)||(this.Yt(e,r,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((r,o)=>{const a=this.se(o);if(a){if(r.current&&Cu(a.target)){const l=new de(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,Ct.newNoDocument(l,e))}r.Mt&&(n.set(o,r.Ot()),r.Ft())}});let s=Te();this.zt.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(r))}),this.jt.forEach((r,o)=>o.setReadTime(e));const i=new Kl(e,n,this.Wt,this.jt,s);return this.jt=es(),this.zt=Mp(),this.Wt=new Ye(Me),i}Jt(e,n){if(!this.te(e))return;const s=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,s),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,s){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),s&&(this.jt=this.jt.insert(n,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Rp,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Pt(Me),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Rp),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Mp(){return new Ye(de.comparator)}function Op(){return new Ye(de.comparator)}const nA={asc:"ASCENDING",desc:"DESCENDING"},sA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iA={and:"AND",or:"OR"};class rA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ku(t,e){return t.useProto3Json||jl(e)?e:{value:e}}function Ja(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oA(t,e){return Ja(t,e.toTimestamp())}function kn(t){return Ge(!!t),ye.fromTimestamp(function(e){const n=Ms(e);return new lt(n.seconds,n.nanos)}(t))}function tf(t,e){return function(n){return new Xe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function d0(t){const e=Xe.fromString(t);return Ge(g0(e)),e}function Pu(t,e){return tf(t.databaseId,e.path)}function Pc(t,e){const n=d0(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(f0(n))}function Ru(t,e){return tf(t.databaseId,e)}function aA(t){const e=d0(t);return e.length===4?Xe.emptyPath():f0(e)}function Mu(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function f0(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Dp(t,e,n){return{name:Pu(t,e),fields:n.value.mapValue.fields}}function lA(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(l,c){return l.useProto3Json?(Ge(c===void 0||typeof c=="string"),Mt.fromBase64String(c||"")):(Ge(c===void 0||c instanceof Uint8Array),Mt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?B.UNKNOWN:a0(l.code);return new fe(c,l.message||"")}(o);n=new c0(s,i,r,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=Pc(t,s.document.name),r=kn(s.document.updateTime),o=s.document.createTime?kn(s.document.createTime):ye.min(),a=new sn({mapValue:{fields:s.document.fields}}),l=Ct.newFoundDocument(i,r,o,a),c=s.targetIds||[],u=s.removedTargetIds||[];n=new wa(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=Pc(t,s.document),r=s.readTime?kn(s.readTime):ye.min(),o=Ct.newNoDocument(i,r),a=s.removedTargetIds||[];n=new wa([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=Pc(t,s.document),r=s.removedTargetIds||[];n=new wa([],r,i,null)}else{if(!("filter"in e))return me();{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,o=new XI(i,r),a=s.targetId;n=new l0(a,o)}}return n}function cA(t,e){let n;if(e instanceof Vo)n={update:Dp(t,e.key,e.value)};else if(e instanceof o0)n={delete:Pu(t,e.key)};else if(e instanceof hi)n={update:Dp(t,e.key,e.data),updateMask:yA(e.fieldMask)};else{if(!(e instanceof KI))return me();n={verify:Pu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,r){const o=r.transform;if(o instanceof ao)return{fieldPath:r.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof lo)return{fieldPath:r.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof co)return{fieldPath:r.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Xa)return{fieldPath:r.field.canonicalString(),increment:o.gt};throw me()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:oA(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:me()}(t,e.precondition)),n}function uA(t,e){return t&&t.length>0?(Ge(e!==void 0),t.map(n=>function(s,i){let r=s.updateTime?kn(s.updateTime):kn(i);return r.isEqual(ye.min())&&(r=kn(i)),new qI(r,s.transformResults||[])}(n,e))):[]}function dA(t,e){return{documents:[Ru(t,e.path)]}}function fA(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=Ru(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ru(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const i=function(l){if(l.length!==0)return p0(Mn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const r=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:Ei(u.field),direction:gA(u.dir)}}(c))}(e.orderBy);r&&(n.structuredQuery.orderBy=r);const o=ku(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function hA(t){let e=aA(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){Ge(s===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let r=[];n.where&&(r=function(u){const d=h0(u);return d instanceof Mn&&zy(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(d){return new Dr(Si(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(u)));let a=null;n.limit&&(a=function(u){let d;return d=typeof u=="object"?u.value:u,jl(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(u){const d=!!u.before,f=u.values||[];return new Qa(f,d)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const d=!u.before,f=u.values||[];return new Qa(f,d)}(n.endAt)),kI(e,i,o,r,a,"F",l,c)}function pA(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function h0(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Si(e.unaryFilter.field);return at.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Si(e.unaryFilter.field);return at.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Si(e.unaryFilter.field);return at.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Si(e.unaryFilter.field);return at.create(r,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(t):t.fieldFilter!==void 0?function(e){return at.create(Si(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Mn.create(e.compositeFilter.filters.map(n=>h0(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return me()}}(e.compositeFilter.op))}(t):me()}function gA(t){return nA[t]}function mA(t){return sA[t]}function vA(t){return iA[t]}function Ei(t){return{fieldPath:t.canonicalString()}}function Si(t){return It.fromServerFormat(t.fieldPath)}function p0(t){return t instanceof at?function(e){if(e.op==="=="){if(bp(e.value))return{unaryFilter:{field:Ei(e.field),op:"IS_NAN"}};if(wp(e.value))return{unaryFilter:{field:Ei(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(bp(e.value))return{unaryFilter:{field:Ei(e.field),op:"IS_NOT_NAN"}};if(wp(e.value))return{unaryFilter:{field:Ei(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ei(e.field),op:mA(e.op),value:e.value}}}(t):t instanceof Mn?function(e){const n=e.getFilters().map(s=>p0(s));return n.length===1?n[0]:{compositeFilter:{op:vA(e.op),filters:n}}}(t):me()}function yA(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function g0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,s,i,r=ye.min(),o=ye.min(),a=Mt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.fe=e}}function bA(t){const e=hA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Iu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.rn=new SA}addToCollectionParentIndex(e,n){return this.rn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Rs.min())}updateCollectionGroup(e,n,s){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class SA{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new Pt(Xe.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new Pt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Wi(0)}static Mn(){return new Wi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.changes=new or(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?U.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(s!==null&&Lr(s.mutation,i,un.empty(),lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Te()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Te()){const i=Ws();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,s).next(r=>{let o=br();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Ws();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Te()))}populateOverlays(e,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,i){let r=es();const o=Nr(),a=Nr();return n.forEach((l,c)=>{const u=s.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof hi)?r=r.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Lr(u.mutation,c,u.mutation.getFieldMask(),lt.now())):o.set(c.key,un.empty())}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new TA(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const s=Nr();let i=new Ye((o,a)=>o-a),r=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=s.get(l)||un.empty();u=a.applyToLocalView(c,u),s.set(l,u);const d=(i.get(a.batchId)||Te()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=Xy();u.forEach(f=>{if(!r.has(f)){const h=i0(n.get(f),s.get(f));h!==null&&d.set(f,h),r=r.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return U.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-r.size):U.resolve(Ws());let a=-1,l=r;return o.next(c=>U.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),r.get(u)?U.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,r)).next(()=>this.computeViews(e,l,c,Te())).next(u=>({batchId:a,changes:Qy(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(s=>{let i=br();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const i=n.collectionGroup;let r=br();return this.indexManager.getCollectionParents(e,i).next(o=>U.forEach(o,a=>{const l=function(c,u){return new zl(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,s).next(c=>{c.forEach((u,d)=>{r=r.insert(u,d)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(e,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(r=>(i=r,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i))).next(r=>{i.forEach((a,l)=>{const c=l.getKey();r.get(c)===null&&(r=r.insert(c,Ct.newInvalidDocument(c)))});let o=br();return r.forEach((a,l)=>{const c=i.get(a);c!==void 0&&Lr(c.mutation,l,un.empty(),lt.now()),ql(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return U.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:kn(s.createTime)}),U.resolve()}getNamedQuery(e,n){return U.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(s){return{name:s.name,query:bA(s.bundledQuery),readTime:kn(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.overlays=new Ye(de.comparator),this.ls=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ws();return U.forEach(n,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((i,r)=>{this.we(e,n,r)}),U.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.ls.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.ls.delete(s)),U.resolve()}getOverlaysForCollection(e,n,s){const i=Ws(),r=n.length+1,o=new de(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>s&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let r=new Ye((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let u=r.get(c.largestBatchId);u===null&&(u=Ws(),r=r.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ws(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return U.resolve(a)}we(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(s.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new QI(n,s));let r=this.ls.get(n);r===void 0&&(r=Te(),this.ls.set(n,r)),this.ls.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this.fs=new Pt(ft.ds),this.ws=new Pt(ft._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const s=new ft(e,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ys(new ft(e,n))}ps(e,n){e.forEach(s=>this.removeReference(s,n))}Is(e){const n=new de(new Xe([])),s=new ft(n,e),i=new ft(n,e+1),r=[];return this.ws.forEachInRange([s,i],o=>{this.ys(o),r.push(o.key)}),r}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new de(new Xe([])),s=new ft(n,e),i=new ft(n,e+1);let r=Te();return this.ws.forEachInRange([s,i],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new ft(e,0),s=this.fs.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ft{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return de.comparator(e.key,n.key)||Me(e.As,n.As)}static _s(e,n){return Me(e.As,n.As)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Pt(ft.ds)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const r=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new YI(r,n,s,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new ft(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.bs(s),r=i<0?0:i;return U.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ft(n,0),i=new ft(n,Number.POSITIVE_INFINITY),r=[];return this.Rs.forEachInRange([s,i],o=>{const a=this.Ps(o.As);r.push(a)}),U.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(Me);return n.forEach(i=>{const r=new ft(i,0),o=new ft(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([r,o],a=>{s=s.add(a.As)})}),U.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let r=s;de.isDocumentKey(r)||(r=r.child(""));const o=new ft(new de(r),0);let a=new Pt(Me);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!s.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.As)),!0)},o),U.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(s=>{const i=this.Ps(s);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ge(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Rs;return U.forEach(n.mutations,i=>{const r=new ft(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,n){const s=new ft(n,0),i=this.Rs.firstAfterOrEqual(s);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.Ds=e,this.docs=new Ye(de.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return U.resolve(s?s.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let s=es();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():Ct.newInvalidDocument(i))}),U.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let r=es();const o=n.path,a=new de(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||fI(dI(u),s)<=0||(i.has(u.key)||ql(n,u))&&(r=r.insert(u.key,u.mutableCopy()))}return U.resolve(r)}getAllFromCollectionGroup(e,n,s,i){me()}Cs(e,n){return U.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new PA(this)}getSize(e){return U.resolve(this.size)}}class PA extends _A{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(s)}),U.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.persistence=e,this.xs=new or(n=>Yd(n),Qd),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Ns=0,this.ks=new nf,this.targetCount=0,this.Ms=Wi.kn()}forEachTarget(e,n){return this.xs.forEach((s,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),U.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Wi(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Fn(n),U.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,s){let i=0;const r=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.xs.delete(o),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(r).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const s=this.xs.get(n)||null;return U.resolve(s)}addMatchingKeys(e,n,s){return this.ks.gs(n,s),U.resolve()}removeMatchingKeys(e,n,s){this.ks.ps(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(o=>{r.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),U.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ks.Es(n);return U.resolve(s)}containsKey(e,n){return U.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n){this.$s={},this.overlays={},this.Os=new qd(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new RA(this),this.indexManager=new EA,this.remoteDocumentCache=function(s){return new kA(s)}(s=>this.referenceDelegate.Ls(s)),this.serializer=new wA(n),this.qs=new CA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.$s[e.toKey()];return s||(s=new AA(n,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,s){ie("MemoryPersistence","Starting transaction:",e);const i=new OA(this.Os.next());return this.referenceDelegate.Us(),s(i).next(r=>this.referenceDelegate.Ks(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Gs(e,n){return U.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,n)))}}class OA extends pI{constructor(e){super(),this.currentSequenceNumber=e}}class sf{constructor(e){this.persistence=e,this.Qs=new nf,this.js=null}static zs(e){return new sf(e)}get Ws(){if(this.js)return this.js;throw me()}addReference(e,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),U.resolve()}removeReference(e,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),U.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(r=>this.Ws.add(r.toString()))}).next(()=>s.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Ws,s=>{const i=de.fromPath(s);return this.Hs(e,i).next(r=>{r||n.removeEntry(i,ye.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return U.or([()=>U.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.Fi=s,this.Bi=i}static Li(e,n){let s=Te(),i=Te();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new rf(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,s,i){return this.Ki(e,n).next(r=>r||this.Gi(e,n,i,s)).next(r=>r||this.Qi(e,n))}Ki(e,n){if(Tp(n))return U.resolve(null);let s=Zn(n);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Iu(n,null,"F"),s=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const o=Te(...r);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(l=>{const c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,Iu(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,s,i){return Tp(n)||i.isEqual(ye.min())?this.Qi(e,n):this.Ui.getDocuments(e,s).next(r=>{const o=this.ji(n,r);return this.zi(n,o,s,i)?this.Qi(e,n):(gp()<=Re.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Au(n)),this.Wi(e,o,n,uI(i,-1)))})}ji(e,n){let s=new Pt(Ky(e));return n.forEach((i,r)=>{ql(e,r)&&(s=s.add(r))}),s}zi(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Qi(e,n){return gp()<=Re.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Au(n)),this.Ui.getDocumentsMatchingQuery(e,n,Rs.min())}Wi(e,n,s,i){return this.Ui.getDocumentsMatchingQuery(e,s,i).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n,s,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ye(Me),this.Yi=new or(r=>Yd(r),Qd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xA(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function LA(t,e,n,s){return new NA(t,e,n,s)}async function m0(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.tr(e),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const o=[],a=[];let l=Te();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of r){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(s,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function FA(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let f=U.resolve();return d.forEach(h=>{f=f.next(()=>c.getEntry(a,h)).next(g=>{const v=l.docVersions.get(h);Ge(v!==null),g.version.compareTo(v)<0&&(u.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,s,e,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=Te();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(s,i))})}function v0(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function $A(t,e){const n=Ee(t),s=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.Bs.removeMatchingKeys(r,u.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(r,u.addedDocuments,d)));let h=f.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(Mt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,s)),i=i.insert(d,h),function(g,v,k){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(f,h,u)&&a.push(n.Bs.updateTargetData(r,h))});let l=es(),c=Te();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,u))}),a.push(VA(r,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!s.isEqual(ye.min())){const u=n.Bs.getLastRemoteSnapshotVersion(r).next(d=>n.Bs.setTargetsMetadata(r,r.currentSequenceNumber,s));a.push(u)}return U.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(n.Ji=i,r))}function VA(t,e,n){let s=Te(),i=Te();return n.forEach(r=>s=s.add(r)),e.getEntries(t,s).next(r=>{let o=es();return n.forEach((a,l)=>{const c=r.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ye.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:i}})}function BA(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function UA(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.Bs.getTargetData(s,e).next(r=>r?(i=r,U.resolve(i)):n.Bs.allocateTargetId(s).next(o=>(i=new ws(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Bs.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.Ji.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(s.targetId,s),n.Yi.set(e,s.targetId)),s})}async function Ou(t,e,n){const s=Ee(t),i=s.Ji.get(e),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!$o(o))throw o;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(i.target)}function Np(t,e,n){const s=Ee(t);let i=ye.min(),r=Te();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=Ee(a),d=u.Yi.get(c);return d!==void 0?U.resolve(u.Ji.get(d)):u.Bs.getTargetData(l,c)}(s,o,Zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>s.Hi.getDocumentsMatchingQuery(o,e,n?i:ye.min(),n?r:Te())).next(a=>(jA(s,OI(e),a),{documents:a,ir:r})))}function jA(t,e,n){let s=t.Xi.get(e)||ye.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),t.Xi.set(e,s)}class Lp{constructor(){this.activeTargetIds=VI()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zA{constructor(){this.Hr=new Lp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,s){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Lp,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia=null;function Rc(){return ia===null?ia=268435456+Math.round(2147483648*Math.random()):ia++,"0x"+ia.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class WA extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,s,i,r){const o=Rc(),a=this.To(e,n);ie("RestConnection",`Sending RPC '${e}' ${o}:`,a,s);const l={};return this.Eo(l,i,r),this.Ao(e,a,l,s).then(c=>(ie("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw zi("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",s),c})}vo(e,n,s,i,r,o){return this.Io(e,n,s,i,r)}Eo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+ir,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,r)=>e[r]=i),s&&s.headers.forEach((i,r)=>e[r]=i)}To(e,n){const s=qA[e];return`${this.mo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,s,i){const r=Rc();return new Promise((o,a)=>{const l=new ZC;l.setWithCredentials(!0),l.listenOnce(QC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case kc.NO_ERROR:const u=l.getResponseJson();ie(St,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(u)),o(u);break;case kc.TIMEOUT:ie(St,`RPC '${e}' ${r} timed out`),a(new fe(B.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const d=l.getStatus();if(ie(St,`RPC '${e}' ${r} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const g=function(v){const k=v.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(k)>=0?k:B.UNKNOWN}(h.status);a(new fe(g,h.message))}else a(new fe(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new fe(B.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{ie(St,`RPC '${e}' ${r} completed.`)}});const c=JSON.stringify(i);ie(St,`RPC '${e}' ${r} sending request:`,i),l.send(n,"POST",c,s,15)})}Ro(e,n,s){const i=Rc(),r=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=KC(),a=YC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new JC({})),this.Eo(l.initMessageHeaders,n,s),l.encodeInitMessageHeaders=!0;const u=r.join("");ie(St,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let f=!1,h=!1;const g=new GA({ro:k=>{h?ie(St,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(f||(ie(St,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),ie(St,`RPC '${e}' stream ${i} sending:`,k),d.send(k))},oo:()=>d.close()}),v=(k,_,m)=>{k.listen(_,p=>{try{m(p)}catch(b){setTimeout(()=>{throw b},0)}})};return v(d,ea.EventType.OPEN,()=>{h||ie(St,`RPC '${e}' stream ${i} transport opened.`)}),v(d,ea.EventType.CLOSE,()=>{h||(h=!0,ie(St,`RPC '${e}' stream ${i} transport closed`),g.wo())}),v(d,ea.EventType.ERROR,k=>{h||(h=!0,zi(St,`RPC '${e}' stream ${i} transport errored:`,k),g.wo(new fe(B.UNAVAILABLE,"The operation could not be completed")))}),v(d,ea.EventType.MESSAGE,k=>{var _;if(!h){const m=k.data[0];Ge(!!m);const p=m,b=p.error||((_=p[0])===null||_===void 0?void 0:_.error);if(b){ie(St,`RPC '${e}' stream ${i} received error:`,b);const E=b.status;let C=function(P){const T=st[P];if(T!==void 0)return a0(T)}(E),x=b.message;C===void 0&&(C=B.INTERNAL,x="Unknown error status: "+E+" with message "+b.message),h=!0,g.wo(new fe(C,x)),d.close()}else ie(St,`RPC '${e}' stream ${i} received:`,m),g._o(m)}}),v(a,XC.STAT_EVENT,k=>{k.stat===hp.PROXY?ie(St,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===hp.NOPROXY&&ie(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function Mc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t){return new rA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n,s=1e3,i=1.5,r=6e4){this.ii=e,this.timerId=n,this.Po=s,this.bo=i,this.Vo=r,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-s);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n,s,i,r,o,a,l){this.ii=e,this.$o=s,this.Oo=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new y0(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Jn(n.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.Fo===n&&this.Zo(s,i)},s=>{e(()=>{const i=new fe(B.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(i)})})}Zo(e,n){const s=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{s(()=>this.tu(i))}),this.stream.onMessage(i=>{s(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KA extends w0{constructor(e,n,s,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=lA(this.serializer,e),s=function(i){if(!("targetChange"in i))return ye.min();const r=i.targetChange;return r.targetIds&&r.targetIds.length?ye.min():r.readTime?kn(r.readTime):ye.min()}(e);return this.listener.nu(n,s)}su(e){const n={};n.database=Mu(this.serializer),n.addTarget=function(i,r){let o;const a=r.target;if(o=Cu(a)?{documents:dA(i,a)}:{query:fA(i,a)},o.targetId=r.targetId,r.resumeToken.approximateByteSize()>0){o.resumeToken=u0(i,r.resumeToken);const l=ku(i,r.expectedCount);l!==null&&(o.expectedCount=l)}else if(r.snapshotVersion.compareTo(ye.min())>0){o.readTime=Ja(i,r.snapshotVersion.toTimestamp());const l=ku(i,r.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const s=pA(this.serializer,e);s&&(n.labels=s),this.Wo(n)}iu(e){const n={};n.database=Mu(this.serializer),n.removeTarget=e,this.Wo(n)}}class YA extends w0{constructor(e,n,s,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=uA(e.writeResults,e.commitTime),s=kn(e.commitTime);return this.listener.cu(s,n)}return Ge(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Mu(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>cA(this.serializer,s))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA extends class{}{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new fe(B.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,r])=>this.connection.Io(e,n,s,i,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new fe(B.UNKNOWN,i.toString())})}vo(e,n,s,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.vo(e,n,s,r,o,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new fe(B.UNKNOWN,r.toString())})}terminate(){this.lu=!0}}class XA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Jn(n),this.mu=!1):ie("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n,s,i,r){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=r,this.Pu.Yr(o=>{s.enqueueAndForget(async()=>{pi(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Ee(a);l.vu.add(4),await Uo(l),l.bu.set("Unknown"),l.vu.delete(4),await Ql(l)}(this))})}),this.bu=new XA(s,i)}}async function Ql(t){if(pi(t))for(const e of t.Ru)await e(!0)}async function Uo(t){for(const e of t.Ru)await e(!1)}function b0(t,e){const n=Ee(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),lf(n)?af(n):ar(n).Ko()&&of(n,e))}function E0(t,e){const n=Ee(t),s=ar(n);n.Au.delete(e),s.Ko()&&S0(n,e),n.Au.size===0&&(s.Ko()?s.jo():pi(n)&&n.bu.set("Unknown"))}function of(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ar(t).su(e)}function S0(t,e){t.Vu.qt(e),ar(t).iu(e)}function af(t){t.Vu=new tA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),ar(t).start(),t.bu.gu()}function lf(t){return pi(t)&&!ar(t).Uo()&&t.Au.size>0}function pi(t){return Ee(t).vu.size===0}function _0(t){t.Vu=void 0}async function ZA(t){t.Au.forEach((e,n)=>{of(t,e)})}async function e2(t,e){_0(t),lf(t)?(t.bu.Iu(e),af(t)):t.bu.set("Unknown")}async function t2(t,e,n){if(t.bu.set("Online"),e instanceof c0&&e.state===2&&e.cause)try{await async function(s,i){const r=i.cause;for(const o of i.targetIds)s.Au.has(o)&&(await s.remoteSyncer.rejectListen(o,r),s.Au.delete(o),s.Vu.removeTarget(o))}(t,e)}catch(s){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Za(t,s)}else if(e instanceof wa?t.Vu.Ht(e):e instanceof l0?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ye.min()))try{const s=await v0(t.localStore);n.compareTo(s)>=0&&await function(i,r){const o=i.Vu.ce(r);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(l);c&&i.Au.set(l,c.withResumeToken(a.resumeToken,r))}}),o.targetMismatches.forEach((a,l)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Mt.EMPTY_BYTE_STRING,c.snapshotVersion)),S0(i,a);const u=new ws(c.target,a,l,c.sequenceNumber);of(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){ie("RemoteStore","Failed to raise snapshot:",s),await Za(t,s)}}async function Za(t,e,n){if(!$o(e))throw e;t.vu.add(1),await Uo(t),t.bu.set("Offline"),n||(n=()=>v0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Ql(t)})}function T0(t,e){return e().catch(n=>Za(t,n,e))}async function Xl(t){const e=Ee(t),n=Os(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;n2(e);)try{const i=await BA(e.localStore,s);if(i===null){e.Eu.length===0&&n.jo();break}s=i.batchId,s2(e,i)}catch(i){await Za(e,i)}x0(e)&&C0(e)}function n2(t){return pi(t)&&t.Eu.length<10}function s2(t,e){t.Eu.push(e);const n=Os(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function x0(t){return pi(t)&&!Os(t).Uo()&&t.Eu.length>0}function C0(t){Os(t).start()}async function i2(t){Os(t).hu()}async function r2(t){const e=Os(t);for(const n of t.Eu)e.uu(n.mutations)}async function o2(t,e,n){const s=t.Eu.shift(),i=Jd.from(s,e,n);await T0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xl(t)}async function a2(t,e){e&&Os(t).ou&&await async function(n,s){if(i=s.code,JI(i)&&i!==B.ABORTED){const r=n.Eu.shift();Os(n).Qo(),await T0(n,()=>n.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Xl(n)}var i}(t,e),x0(t)&&C0(t)}async function $p(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const s=pi(n);n.vu.add(3),await Uo(n),s&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Ql(n)}async function l2(t,e){const n=Ee(t);e?(n.vu.delete(2),await Ql(n)):e||(n.vu.add(2),await Uo(n),n.bu.set("Unknown"))}function ar(t){return t.Su||(t.Su=function(e,n,s){const i=Ee(e);return i.fu(),new KA(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{uo:ZA.bind(null,t),ao:e2.bind(null,t),nu:t2.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),lf(t)?af(t):t.bu.set("Unknown")):(await t.Su.stop(),_0(t))})),t.Su}function Os(t){return t.Du||(t.Du=function(e,n,s){const i=Ee(e);return i.fu(),new YA(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{uo:i2.bind(null,t),ao:a2.bind(null,t),au:r2.bind(null,t),cu:o2.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Xl(t)):(await t.Du.stop(),t.Eu.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,s,i,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,i,r){const o=Date.now()+s,a=new cf(e,n,o,i,r);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uf(t,e){if(Jn("AsyncQueue",`${e}: ${t}`),$o(t))return new fe(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=br(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new Oi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Oi;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(){this.Cu=new Ye(de.comparator)}track(e){const n=e.doc.key,s=this.Cu.get(n);s?e.type!==0&&s.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&s.type!==1?this.Cu=this.Cu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Cu=this.Cu.remove(n):e.type===1&&s.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):me():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ki{constructor(e,n,s,i,r,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,s,i,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ki(e,n,Oi.emptySet(n),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.Nu=void 0,this.listeners=[]}}class u2{constructor(){this.queries=new or(e=>Wy(e),Hl),this.onlineState="Unknown",this.ku=new Set}}async function d2(t,e){const n=Ee(t),s=e.query;let i=!1,r=n.queries.get(s);if(r||(i=!0,r=new c2),i)try{r.Nu=await n.onListen(s)}catch(o){const a=uf(o,`Initialization of query '${Au(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,r),r.listeners.push(e),e.Mu(n.onlineState),r.Nu&&e.$u(r.Nu)&&df(n)}async function f2(t,e){const n=Ee(t),s=e.query;let i=!1;const r=n.queries.get(s);if(r){const o=r.listeners.indexOf(e);o>=0&&(r.listeners.splice(o,1),i=r.listeners.length===0)}if(i)return n.queries.delete(s),n.onUnlisten(s)}function h2(t,e){const n=Ee(t);let s=!1;for(const i of e){const r=i.query,o=n.queries.get(r);if(o){for(const a of o.listeners)a.$u(i)&&(s=!0);o.Nu=i}}s&&df(n)}function p2(t,e,n){const s=Ee(t),i=s.queries.get(e);if(i)for(const r of i.listeners)r.onError(n);s.queries.delete(e)}function df(t){t.ku.forEach(e=>{e.next()})}class g2{constructor(e,n,s){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new Ki(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Ku||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Ki.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.key=e}}class A0{constructor(e){this.key=e}}class m2{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Te(),this.mutatedKeys=Te(),this.tc=Ky(e),this.ec=new Oi(this.tc)}get nc(){return this.Yu}sc(e,n){const s=n?n.ic:new Vp,i=n?n.ec:this.ec;let r=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),h=ql(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),v=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let k=!1;f&&h?f.data.isEqual(h.data)?g!==v&&(s.track({type:3,doc:h}),k=!0):this.rc(f,h)||(s.track({type:2,doc:h}),k=!0,(l&&this.tc(h,l)>0||c&&this.tc(h,c)<0)&&(a=!0)):!f&&h?(s.track({type:0,doc:h}),k=!0):f&&!h&&(s.track({type:1,doc:f}),k=!0,(l||c)&&(a=!0)),k&&(h?(o=o.add(h),r=v?r.add(u):r.delete(u)):(o=o.delete(u),r=r.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),r=r.delete(u.key),s.track({type:1,doc:u})}return{ec:o,ic:s,zi:a,mutatedKeys:r}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const r=e.ic.xu();r.sort((c,u)=>function(d,f){const h=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return h(d)-h(f)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(s);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,r.length!==0||l?{snapshot:new Ki(this.query,e.ec,i,r,e.mutatedKeys,a===0,l,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Vp,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Te(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const n=[];return e.forEach(s=>{this.Zu.has(s)||n.push(new A0(s))}),this.Zu.forEach(s=>{e.has(s)||n.push(new I0(s))}),n}hc(e){this.Yu=e.ir,this.Zu=Te();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ki.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class v2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class y2{constructor(e){this.key=e,this.fc=!1}}class w2{constructor(e,n,s,i,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new or(a=>Wy(a),Hl),this._c=new Map,this.mc=new Set,this.gc=new Ye(de.comparator),this.yc=new Map,this.Ic=new nf,this.Tc={},this.Ec=new Map,this.Ac=Wi.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function b2(t,e){const n=P2(t);let s,i;const r=n.wc.get(e);if(r)s=r.targetId,n.sharedClientState.addLocalQueryTarget(s),i=r.view.lc();else{const o=await UA(n.localStore,Zn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,i=await E2(n,e,s,a==="current",o.resumeToken),n.isPrimaryClient&&b0(n.remoteStore,o)}return i}async function E2(t,e,n,s,i){t.Rc=(d,f,h)=>async function(g,v,k,_){let m=v.view.sc(k);m.zi&&(m=await Np(g.localStore,v.query,!1).then(({documents:E})=>v.view.sc(E,m)));const p=_&&_.targetChanges.get(v.targetId),b=v.view.applyChanges(m,g.isPrimaryClient,p);return Up(g,v.targetId,b.cc),b.snapshot}(t,d,f,h);const r=await Np(t.localStore,e,!0),o=new m2(e,r.ir),a=o.sc(r.documents),l=Bo.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Up(t,n,c.cc);const u=new v2(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function S2(t,e){const n=Ee(t),s=n.wc.get(e),i=n._c.get(s.targetId);if(i.length>1)return n._c.set(s.targetId,i.filter(r=>!Hl(r,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Ou(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),E0(n.remoteStore,s.targetId),Du(n,s.targetId)}).catch(Fo)):(Du(n,s.targetId),await Ou(n.localStore,s.targetId,!0))}async function _2(t,e,n){const s=R2(t);try{const i=await function(r,o){const a=Ee(r),l=lt.now(),c=o.reduce((f,h)=>f.add(h.key),Te());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let h=es(),g=Te();return a.Zi.getEntries(f,c).next(v=>{h=v,h.forEach((k,_)=>{_.isValidDocument()||(g=g.add(k))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,h)).next(v=>{u=v;const k=[];for(const _ of o){const m=WI(_,u.get(_.key).overlayedDocument);m!=null&&k.push(new hi(_.key,m,By(m.value.mapValue),Gn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,k,o)}).next(v=>{d=v;const k=v.applyToLocalDocumentSet(u,g);return a.documentOverlayCache.saveOverlays(f,v.batchId,k)})}).then(()=>({batchId:d.batchId,changes:Qy(u)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(r,o,a){let l=r.Tc[r.currentUser.toKey()];l||(l=new Ye(Me)),l=l.insert(o,a),r.Tc[r.currentUser.toKey()]=l}(s,i.batchId,n),await jo(s,i.changes),await Xl(s.remoteStore)}catch(i){const r=uf(i,"Failed to persist write");n.reject(r)}}async function k0(t,e){const n=Ee(t);try{const s=await $A(n.localStore,e);e.targetChanges.forEach((i,r)=>{const o=n.yc.get(r);o&&(Ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?Ge(o.fc):i.removedDocuments.size>0&&(Ge(o.fc),o.fc=!1))}),await jo(n,s,e)}catch(s){await Fo(s)}}function Bp(t,e,n){const s=Ee(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.wc.forEach((r,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(r,o){const a=Ee(r);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Mu(o)&&(l=!0)}),l&&df(a)}(s.eventManager,e),i.length&&s.dc.nu(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function T2(t,e,n){const s=Ee(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.yc.get(e),r=i&&i.key;if(r){let o=new Ye(de.comparator);o=o.insert(r,Ct.newNoDocument(r,ye.min()));const a=Te().add(r),l=new Kl(ye.min(),new Map,new Ye(Me),o,a);await k0(s,l),s.gc=s.gc.remove(r),s.yc.delete(e),ff(s)}else await Ou(s.localStore,e,!1).then(()=>Du(s,e,n)).catch(Fo)}async function x2(t,e){const n=Ee(t),s=e.batch.batchId;try{const i=await FA(n.localStore,e);R0(n,s,null),P0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await jo(n,i)}catch(i){await Fo(i)}}async function C2(t,e,n){const s=Ee(t);try{const i=await function(r,o){const a=Ee(r);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(Ge(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(s.localStore,e);R0(s,e,n),P0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await jo(s,i)}catch(i){await Fo(i)}}function P0(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function R0(t,e,n){const s=Ee(t);let i=s.Tc[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(n?r.reject(n):r.resolve(),i=i.remove(e)),s.Tc[s.currentUser.toKey()]=i}}function Du(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t._c.get(e))t.wc.delete(s),n&&t.dc.Pc(s,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(s=>{t.Ic.containsKey(s)||M0(t,s)})}function M0(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(E0(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),ff(t))}function Up(t,e,n){for(const s of n)s instanceof I0?(t.Ic.addReference(s.key,e),I2(t,s)):s instanceof A0?(ie("SyncEngine","Document no longer in limbo: "+s.key),t.Ic.removeReference(s.key,e),t.Ic.containsKey(s.key)||M0(t,s.key)):me()}function I2(t,e){const n=e.key,s=n.path.canonicalString();t.gc.get(n)||t.mc.has(s)||(ie("SyncEngine","New document in limbo: "+n),t.mc.add(s),ff(t))}function ff(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new de(Xe.fromString(e)),s=t.Ac.next();t.yc.set(s,new y2(n)),t.gc=t.gc.insert(n,s),b0(t.remoteStore,new ws(Zn(Xd(n.path)),s,"TargetPurposeLimboResolution",qd.ct))}}async function jo(t,e,n){const s=Ee(t),i=[],r=[],o=[];s.wc.isEmpty()||(s.wc.forEach((a,l)=>{o.push(s.Rc(l,e,n).then(c=>{if((c||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=rf.Li(l.targetId,c);r.push(u)}}))}),await Promise.all(o),s.dc.nu(i),await async function(a,l){const c=Ee(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>U.forEach(l,d=>U.forEach(d.Fi,f=>c.persistence.referenceDelegate.addReference(u,d.targetId,f)).next(()=>U.forEach(d.Bi,f=>c.persistence.referenceDelegate.removeReference(u,d.targetId,f)))))}catch(u){if(!$o(u))throw u;ie("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const d=u.targetId;if(!u.fromCache){const f=c.Ji.get(d),h=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(h);c.Ji=c.Ji.insert(d,g)}}}(s.localStore,r))}async function A2(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const s=await m0(n.localStore,e);n.currentUser=e,function(i,r){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new fe(B.CANCELLED,r))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await jo(n,s.er)}}function k2(t,e){const n=Ee(t),s=n.yc.get(e);if(s&&s.fc)return Te().add(s.key);{let i=Te();const r=n._c.get(e);if(!r)return i;for(const o of r){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function P2(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=k0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T2.bind(null,e),e.dc.nu=h2.bind(null,e.eventManager),e.dc.Pc=p2.bind(null,e.eventManager),e}function R2(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C2.bind(null,e),e}class jp{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Yl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return LA(this.persistence,new DA,e.initialUser,this.serializer)}createPersistence(e){return new MA(sf.zs,this.serializer)}createSharedClientState(e){return new zA}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class M2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Bp(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=A2.bind(null,this.syncEngine),await l2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new u2}createDatastore(e){const n=Yl(e.databaseInfo.databaseId),s=(i=e.databaseInfo,new WA(i));var i;return function(r,o,a,l){return new QA(r,o,a,l)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,i=e.asyncQueue,r=a=>Bp(this.syncEngine,a,0),o=Fp.D()?new Fp:new HA,new JA(n,s,i,r,o);var n,s,i,r,o}createSyncEngine(e,n){return function(s,i,r,o,a,l,c){const u=new w2(s,i,r,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Ee(e);ie("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Uo(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Jn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=Tt.UNAUTHENTICATED,this.clientId=Fy.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async r=>{ie("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(s,r=>(ie("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=uf(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Oc(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await m0(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function zp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await L2(t);ie("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(i=>$p(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>$p(e.remoteStore,r)),t._onlineComponents=e}function N2(t){return t.name==="FirebaseError"?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function L2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await Oc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!N2(n))throw n;zi("Error using user provided cache. Falling back to memory cache: "+n),await Oc(t,new jp)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await Oc(t,new jp);return t._offlineComponents}async function O0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await zp(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await zp(t,new M2))),t._onlineComponents}function F2(t){return O0(t).then(e=>e.syncEngine)}async function $2(t){const e=await O0(t),n=e.eventManager;return n.onListen=b2.bind(null,e.syncEngine),n.onUnlisten=S2.bind(null,e.syncEngine),n}function V2(t,e,n={}){const s=new As;return t.asyncQueue.enqueueAndForget(async()=>function(i,r,o,a,l){const c=new O2({next:d=>{r.enqueueAndForget(()=>f2(i,u));const f=d.docs.has(o);!f&&d.fromCache?l.reject(new fe(B.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new fe(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new g2(Xd(o.path),c,{includeMetadataChanges:!0,Ku:!0});return d2(i,u)}(await $2(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(t,e,n){if(!n)throw new fe(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function U2(t,e,n,s){if(e===!0&&s===!0)throw new fe(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qp(t){if(!de.isDocumentKey(t))throw new fe(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me()}function uo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hf(t);throw new fe(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new fe(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new fe(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new fe(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,s=e.experimentalLongPollingOptions,n.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,s}}class pf{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new fe(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gp(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new tI;switch(n.type){case"firstParty":return new rI(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new fe(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Hp.get(e);n&&(ie("ComponentProvider","Removing Datastore"),Hp.delete(e),n.terminate())}(this),Promise.resolve()}}function j2(t,e,n,s={}){var i;const r=(t=uo(t,pf))._getSettings(),o=`${e}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==o&&zi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},r),{host:o,ssl:!1})),s.mockUserToken){let a,l;if(typeof s.mockUserToken=="string")a=s.mockUserToken,l=Tt.MOCK_USER;else{a=wS(s.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=s.mockUserToken.sub||s.mockUserToken.user_id;if(!c)throw new fe(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Tt(c)}t._authCredentials=new nI(new Ly(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class gf{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new gf(this.firestore,e,this._query)}}class fo extends gf{constructor(e,n,s){super(e,n,Xd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new de(e))}withConverter(e){return new fo(this.firestore,e,this._path)}}function el(t,e,...n){if(t=Bt(t),arguments.length===1&&(e=Fy.A()),B2("doc","path",e),t instanceof pf){const s=Xe.fromString(e,...n);return qp(s),new an(t,null,new de(s))}{if(!(t instanceof an||t instanceof fo))throw new fe(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Xe.fromString(e,...n));return qp(s),new an(t.firestore,t instanceof fo?t.converter:null,new de(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new y0(this,"async_queue_retry"),this.Xc=()=>{const n=Mc();n&&ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Mc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Mc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new As;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!$o(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{this.Wc=s,this.Hc=!1;const i=function(r){let o=r.message||"";return r.stack&&(o=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),o}(s);throw Jn("INTERNAL UNHANDLED ERROR: ",i),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(e,n,s){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=cf.createAndSchedule(this,e,n,s,r=>this.na(r));return this.zc.push(i),i}Zc(){this.Wc&&me()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class mf extends pf{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new z2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||L0(this),this._firestoreClient.terminate()}}function H2(t,e){const n=typeof t=="object"?t:Zm(),s=typeof t=="string"?t:"(default)",i=fd(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=vS("firestore");r&&j2(i,...r)}return i}function N0(t){return t._firestoreClient||L0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function L0(t){var e,n,s;const i=t._freezeSettings(),r=function(o,a,l,c){return new vI(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,D0(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new D2(t._authCredentials,t._appCheckCredentials,t._queue,r),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=i.cache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yi(Mt.fromBase64String(e))}catch(n){throw new fe(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yi(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=/^__.*__$/;class G2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new hi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vo(e,this.data,n,this.fieldTransforms)}}function F0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class bf{constructor(e,n,s,i,r,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.ua(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new bf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:s,la:!1});return i.fa(e),i}da(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:s,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return tl(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(F0(this.ca)&&q2.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class W2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Yl(e)}ya(e,n,s,i=!1){return new bf({ca:e,methodName:n,ga:s,path:It.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function K2(t){const e=t._freezeSettings(),n=Yl(t._databaseId);return new W2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Y2(t,e,n,s,i,r={}){const o=t.ya(r.merge||r.mergeFields?2:0,e,n,i);U0("Data must be an object, but it was:",o,s);const a=V0(s,o);let l,c;if(r.merge)l=new un(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const u=[];for(const d of r.mergeFields){const f=Q2(e,d,n);if(!o.contains(f))throw new fe(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);J2(u,f)||u.push(f)}l=new un(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new G2(new sn(a),l,c)}class Ef extends yf{_toFieldTransform(e){return new zI(e.path,new ao)}isEqual(e){return e instanceof Ef}}function $0(t,e){if(B0(t=Bt(t)))return U0("Unsupported field value:",e,t),V0(t,e);if(t instanceof yf)return function(n,s){if(!F0(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,s){const i=[];let r=0;for(const o of n){let a=$0(o,s.wa(r));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),r++}return{arrayValue:{values:i}}}(t,e)}return function(n,s){if((n=Bt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return BI(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=lt.fromDate(n);return{timestampValue:Ja(s.serializer,i)}}if(n instanceof lt){const i=new lt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ja(s.serializer,i)}}if(n instanceof wf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Yi)return{bytesValue:u0(s.serializer,n._byteString)};if(n instanceof an){const i=s.databaseId,r=n.firestore._databaseId;if(!r.isEqual(i))throw s._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:tf(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${hf(n)}`)}(t,e)}function V0(t,e){const n={};return $y(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rr(t,(s,i)=>{const r=$0(i,e.ha(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function B0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof wf||t instanceof Yi||t instanceof an||t instanceof yf)}function U0(t,e,n){if(!B0(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=hf(n);throw s==="an object"?e._a(t+" a custom object"):e._a(t+" "+s)}}function Q2(t,e,n){if((e=Bt(e))instanceof vf)return e._internalPath;if(typeof e=="string")return j0(t,e);throw tl("Field path arguments must be of type string or ",t,!1,void 0,n)}const X2=new RegExp("[~\\*/\\[\\]]");function j0(t,e,n){if(e.search(X2)>=0)throw tl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vf(...e.split("."))._internalPath}catch{throw tl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tl(t,e,n,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${s}`),o&&(l+=` in document ${i}`),l+=")"),new fe(B.INVALID_ARGUMENT,a+t+l)}function J2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n,s,i,r){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(H0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Z2 extends z0{data(){return super.data()}}function H0(t,e){return typeof e=="string"?j0(t,e):e instanceof vf?e._internalPath:e._delegate._internalPath}class ek{convertValue(e,n="none"){switch(li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return rr(e,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertGeoPoint(e){return new wf(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Wd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(io(e));default:return null}}convertTimestamp(e){const n=Ms(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Xe.fromString(e);Ge(g0(s));const i=new ro(s.get(1),s.get(3)),r=new de(s.popFirst(5));return i.isEqual(n)||Jn(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class q0 extends z0{constructor(e,n,s,i,r,o){super(e,n,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(H0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class sk extends q0{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t){t=uo(t,an);const e=uo(t.firestore,mf);return V2(N0(e),t._key).then(n=>ok(e,t,n))}class ik extends ek{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function W0(t,e,n){t=uo(t,an);const s=uo(t.firestore,mf),i=tk(t.converter,e,n);return rk(s,[Y2(K2(s),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Gn.none())])}function rk(t,e){return function(n,s){const i=new As;return n.asyncQueue.enqueueAndForget(async()=>_2(await F2(n),s,i)),i.promise}(N0(t),e)}function ok(t,e,n){const s=n.docs.get(e._key),i=new ik(t);return new q0(t,i,e._key,s,new nk(n.hasPendingWrites,n.fromCache),e.converter)}function K0(){return new Ef("serverTimestamp")}(function(t,e=!0){(function(n){ir=n})(Ji),Bi(new ni("firestore",(n,{instanceIdentifier:s,options:i})=>{const r=n.getProvider("app").getImmediate(),o=new mf(new sI(n.getProvider("auth-internal")),new aI(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new fe(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(a.options.projectId,l)}(r,s),r);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Is(pp,"3.13.0",t),Is(pp,"3.13.0","esm2017")})();const ak={apiKey:"AIzaSyBVqyqxok3_SfQgWq-BjsADKyCH9vHzl28",authDomain:"e-commerce-6e648.firebaseapp.com",projectId:"e-commerce-6e648",storageBucket:"e-commerce-6e648.appspot.com",messagingSenderId:"309285463565",appId:"1:309285463565:web:24434d35b284ffa4165744"},Y0=Jm(ak),Ds=Kx(Y0),nl=H2(Y0),ss=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},lk={class:"relative max-w-7xl mx-auto flex items-center justify-between px-6 py-3"},ck=["aria-expanded"],uk={class:"w-6 h-6",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24","stroke-linecap":"round","stroke-linejoin":"round"},dk={key:0,d:"M4 6h16M4 12h16M4 18h16"},fk={key:1,d:"M6 18L18 6M6 6l12 12"},hk={class:"absolute inset-x-0 flex justify-center pointer-events-none"},pk={class:"flex gap-8 items-center"},gk={class:"flex items-center gap-6"},mk={key:0,class:"md:hidden bg-white/95 border-t px-6 py-4 flex flex-col space-y-3 shadow-sm"},vk={__name:"NavBar",setup(t){const e=Vm(),n=he(()=>e.path==="/checkout"),s=J(!1),i=J(!1),r=()=>{i.value=window.scrollY>10},o=J(null);function a(){if(!o.value)return;const g=o.value.getBoundingClientRect(),v=Math.ceil(g.height||0);document.documentElement.style.setProperty("--nav-height",`${v}px`)}mn(()=>{window.addEventListener("scroll",r),window.addEventListener("resize",a),a()}),Eo(()=>{window.removeEventListener("scroll",r),window.removeEventListener("resize",a)}),Qt(()=>e.path,()=>{setTimeout(a,40)});const l=J(!1),c=ld(),u=he(()=>c.totalItems||0),d=J(Ds.currentUser),f=J(!1);Qt(u,(g,v)=>{g>v&&(f.value=!0,setTimeout(()=>f.value=!1,500))});function h(){FT(Ds).then(()=>{d.value=null}).catch(g=>{console.error("Logout error",g)})}return(g,v)=>{const k=Ni("router-link");return X(),te("header",{ref_key:"nav",ref:o,class:rt(["w-full fixed top-0 left-0 z-50 transition-all duration-300",{"bg-white/90 backdrop-blur-md shadow-sm border-b border-gray-200":s.value||i.value||n.value,"bg-transparent":!s.value&&!i.value&&!n.value}]),onMouseenter:v[5]||(v[5]=_=>s.value=!0),onMouseleave:v[6]||(v[6]=_=>s.value=!1)},[w("div",lk,[w("button",{class:rt(["md:hidden p-2 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",s.value||i.value||n.value?"text-gray-700 hover:bg-gray-100 focus:ring-purple-300":"text-white/90 hover:bg-white/10 focus:ring-white/25"]),onClick:v[0]||(v[0]=_=>l.value=!l.value),"aria-expanded":l.value,"aria-label":"Abrir men"},[(X(),te("svg",uk,[l.value?(X(),te("path",fk)):(X(),te("path",dk))]))],10,ck),w("div",hk,[we(k,{to:"/",class:rt(["pointer-events-auto inline-flex items-center gap-3 text-2xl font-extrabold tracking-wide uppercase transition-all duration-300 brand",s.value||i.value||n.value?"text-gray-900":"text-white drop-shadow-md"]),"aria-label":"Ir al inicio - Eclipse"},{default:Pe(()=>v[7]||(v[7]=[w("img",{src:Cm,alt:"Logo",class:"w-9 h-9 rounded-lg object-contain","aria-hidden":"true"},null,-1),w("span",{class:"leading-tight"},"Eclipse",-1)])),_:1,__:[7]},8,["class"])]),v[8]||(v[8]=w("div",{class:"w-6 h-6"},null,-1))]),w("nav",{class:rt(["hidden md:flex justify-between items-center max-w-7xl mx-auto px-6 py-2 text-sm transition-colors duration-300",s.value||i.value||n.value?"text-gray-700":"text-white/90 drop-shadow-md"]),"aria-label":"Navegacin principal"},[w("div",pk,[we(k,{to:"/",class:"nav-link","aria-current":"page"},{default:Pe(()=>v[9]||(v[9]=[Ke("Inicio")])),_:1,__:[9]}),we(k,{to:"/checkout",class:"nav-link"},{default:Pe(()=>v[10]||(v[10]=[Ke("Checkout")])),_:1,__:[10]}),we(k,{to:"/products",class:"nav-link"},{default:Pe(()=>v[11]||(v[11]=[Ke("Productos")])),_:1,__:[11]})]),w("div",gk,[d.value?Ve("",!0):(X(),ys(k,{key:0,to:"/login",class:"nav-link subtle"},{default:Pe(()=>v[12]||(v[12]=[Ke("Login")])),_:1,__:[12]})),d.value?Ve("",!0):(X(),ys(k,{key:1,to:"/register",class:"btn-outline"},{default:Pe(()=>v[13]||(v[13]=[Ke("Registro")])),_:1,__:[13]})),d.value?(X(),te("button",{key:2,onClick:h,class:"text-sm text-red-600 hover:underline focus:outline-none"},"Cerrar Sesin")):Ve("",!0),we(k,{to:"/checkout",class:rt(["relative flex items-center gap-3 p-2 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",s.value||i.value||n.value?"text-gray-800 hover:bg-gray-100 focus:ring-purple-300":"text-white/95 hover:bg-white/10 focus:ring-white/25"]),"aria-label":"Ver carrito de compras"},{default:Pe(()=>[v[14]||(v[14]=w("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true"},[w("path",{d:"M3 3h2l.4 2M7 13h10l3-8H6.4",stroke:"currentColor","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"}),w("circle",{cx:"10",cy:"20",r:"1.6",fill:"currentColor"}),w("circle",{cx:"18",cy:"20",r:"1.6",fill:"currentColor"})],-1)),u.value>0?(X(),te("span",{key:0,class:rt(["cart-badge",{"animate-bump":f.value}]),role:"status","aria-live":"polite"},We(u.value),3)):Ve("",!0)]),_:1,__:[14]},8,["class"])])],2),l.value?(X(),te("div",mk,[we(k,{to:"/",onClick:v[1]||(v[1]=_=>l.value=!1),class:"mobile-link"},{default:Pe(()=>v[15]||(v[15]=[Ke("Inicio")])),_:1,__:[15]}),we(k,{to:"/checkout",onClick:v[2]||(v[2]=_=>l.value=!1),class:"mobile-link"},{default:Pe(()=>v[16]||(v[16]=[Ke("Checkout")])),_:1,__:[16]}),d.value?Ve("",!0):(X(),ys(k,{key:0,to:"/login",onClick:v[3]||(v[3]=_=>l.value=!1),class:"mobile-link"},{default:Pe(()=>v[17]||(v[17]=[Ke("Login")])),_:1,__:[17]})),d.value?Ve("",!0):(X(),ys(k,{key:1,to:"/register",onClick:v[4]||(v[4]=_=>l.value=!1),class:"mobile-link"},{default:Pe(()=>v[18]||(v[18]=[Ke("Registro")])),_:1,__:[18]})),d.value?(X(),te("button",{key:2,onClick:h,class:"text-left text-red-600"},"Cerrar Sesin")):Ve("",!0)])):Ve("",!0)],34)}}},yk=ss(vk,[["__scopeId","data-v-b6cdb948"]]),wk={components:{NavBar:yk}},bk={id:"app"};function Ek(t,e,n,s,i,r){const o=Ni("NavBar"),a=Ni("router-view");return X(),te("div",bk,[t.$route.meta.hideHeader?Ve("",!0):(X(),ys(o,{key:0})),we(a)])}const Sk=ss(wk,[["render",Ek]]),_k="modulepreload",Tk=function(t){return"/Eclipse/"+t},Wp={},xk=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(n.map(c=>{if(c=Tk(c),c in Wp)return;Wp[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":_k,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})},Ck="/Eclipse/assets/banner1-DxGjW5ke.jpg",Ik="/Eclipse/assets/banner2-DSPrmgmI.jpg",Ak="/Eclipse/assets/banner3-Cs2ggBEK.jpg",kk={class:"relative w-full h-screen overflow-hidden"},Pk=["src"],Rk={__name:"BannerSlider",setup(t){const e=[Ck,Ik,Ak],n=J(0);let s=null;const i=()=>{n.value=(n.value+1)%e.length};return mn(()=>{s=setInterval(i,5e3)}),Eo(()=>{clearInterval(s)}),(r,o)=>(X(),te("div",kk,[we(F1,{name:"fade",tag:"div"},{default:Pe(()=>[(X(),te(et,null,qn(e,(a,l)=>tn(w("img",{key:l,src:a,alt:"Banner",class:"w-full h-full object-cover absolute top-0 left-0"},null,8,Pk),[[E1,l===n.value]])),64))]),_:1}),o[0]||(o[0]=w("div",{class:"absolute inset-0 bg-black/30 z-10"},null,-1))]))}},Mk=ss(Rk,[["__scopeId","data-v-1d1f70ac"]]);/**
 * Vue 3 Carousel 0.16.0
 * (c) 2025
 * @license MIT
 */const Q0=["viewport","carousel"],sl={"bottom-to-top":"btt","left-to-right":"ltr","right-to-left":"rtl","top-to-bottom":"ttb"},X0=["ltr","left-to-right","rtl","right-to-left","ttb","top-to-bottom","btt","bottom-to-top"],Ok={ariaGallery:"Gallery",ariaNavigateToPage:"Navigate to page {slideNumber}",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",iconArrowDown:"Arrow pointing downwards",iconArrowLeft:"Arrow pointing to the left",iconArrowRight:"Arrow pointing to the right",iconArrowUp:"Arrow pointing upwards",itemXofY:"Item {currentSlide} of {slidesCount}"},J0=["slide","fade"],Z0=["center","start","end","center-even","center-odd"],Kp=10,ra=.08,Ze={autoplay:0,breakpointMode:Q0[0],breakpoints:void 0,dir:X0[0],enabled:!0,gap:0,height:"auto",i18n:Ok,ignoreAnimations:!1,itemsToScroll:1,itemsToShow:1,modelValue:0,mouseDrag:!0,mouseWheel:!1,pauseAutoplayOnHover:!1,preventExcessiveDragging:!1,slideEffect:J0[0],snapAlign:Z0[0],touchDrag:!0,transition:300,wrapAround:!1},il=Symbol("carousel"),Dk=t=>{const e=Vr([]),n=s=>{s!==void 0?e.slice(s).forEach((i,r)=>{var o;(o=i.exposed)===null||o===void 0||o.setIndex(s+r)}):e.forEach((i,r)=>{var o;(o=i.exposed)===null||o===void 0||o.setIndex(r)})};return{cleanup:()=>{e.splice(0,e.length)},getSlides:()=>e,registerSlide:(s,i)=>{if(!s||s.props.isClone)return;const r=i??e.length;e.splice(r,0,s),n(r),t("slide-registered",{slide:s,index:r})},unregisterSlide:s=>{const i=e.indexOf(s);i!==-1&&(t("slide-unregistered",{slide:s,index:i}),e.splice(i,1),n(i))}}};function Nk(t){return t.length===0?0:t.reduce((n,s)=>n+s,0)/t.length}function Yp({slides:t,position:e,toShow:n}){const s=[],i=e==="before",r=i?-n:0,o=i?0:n;if(t.length<=0)return s;for(let a=r;a<o;a++){const c={index:i?a:a+t.length,isClone:!0,id:void 0,key:`clone-${e}-${a}`},u=t[(a%t.length+t.length)%t.length].vnode,d=Yn(u,c);d.el=null,s.push(d)}return s}const Lk='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function Qp(t){if(!t.el||!(t.el instanceof Element))return;const e=t.el.querySelectorAll(Lk);for(const n of e)n instanceof HTMLElement&&!n.hasAttribute("disabled")&&n.getAttribute("aria-hidden")!=="true"&&n.setAttribute("tabindex","-1")}function Fk(t,e){return Object.keys(t).filter(n=>!e.includes(n)).reduce((n,s)=>(n[s]=t[s],n),{})}function $k(t){const{isVertical:e,isReversed:n,dragged:s,effectiveSlideSize:i,threshold:r}=t,o=e?s.y:s.x;if(o===0)return 0;const a=o/i,l=Math.abs(a);if(l<r)return 0;const c=l<1?Math.sign(a):Math.round(a);return n?c:-c}function Nn({val:t,max:e,min:n}){return e<n?t:Math.min(Math.max(t,isNaN(n)?t:n),isNaN(e)?t:e)}function Vk(t){const{transform:e}=window.getComputedStyle(t);return e.split(/[(,)]/).slice(1,-1).map(n=>parseFloat(n))}function Bk(t){let e=1,n=1;return t.forEach(s=>{const i=Vk(s);i.length===6&&(e/=i[0],n/=i[3])}),{widthMultiplier:e,heightMultiplier:n}}function Uk(t,e){switch(t){case"start":return 0;case"center":case"center-odd":return(e-1)/2;case"center-even":return(e-2)/2;case"end":return e-1;default:return 0}}function jk(t,e,n){switch(t){case"start":return 0;case"center":case"center-odd":return(n-e)/2;case"center-even":return n/2-e;case"end":return n-e;default:return 0}}function Xp({slideSize:t,viewportSize:e,align:n,itemsToShow:s}){return s!==void 0?Uk(n,s):t!==void 0&&e!==void 0?jk(n,t,e):0}function zk(t="",e={}){return Object.entries(e).reduce((n,[s,i])=>n.replace(`{${s}}`,String(i)),t)}function Hk({val:t,max:e,min:n=0}){const s=e-n+1;return((t-n)%s+s)%s+n}function Nu(t,e=0){let n=!1,s=0,i=null;function r(...o){if(n)return;n=!0;const a=()=>{i=requestAnimationFrame(l=>{l-s>e?(s=l,t(...o),n=!1):a()})};a()}return r.cancel=()=>{i&&(cancelAnimationFrame(i),i=null,n=!1)},r}function oa(t,e="px"){if(!(t==null||t===""))return typeof t=="number"||parseFloat(t).toString()===t?`${t}${e}`:t}const qk=wo({name:"CarouselAria",setup(){const t=qt(il);return t?()=>Qe("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},zk(t.config.i18n.itemXofY,{currentSlide:t.currentSlide+1,slidesCount:t.slidesCount})):()=>""}});function Gk(t){let e=!1;const n={x:0,y:0},s=Hn({x:0,y:0}),i=J(!1),{isSliding:r}=t,o=he(()=>typeof r=="boolean"?r:r.value),a=u=>{var d;const f=u.target.tagName;if(["INPUT","TEXTAREA","SELECT"].includes(f)||o.value||(e=u.type==="touchstart",e&&u.touches.length>1))return;if(!e&&(u.preventDefault(),u.button!==0))return;n.x=e?u.touches[0].clientX:u.clientX,n.y=e?u.touches[0].clientY:u.clientY;const h=e?"touchmove":"mousemove",g=e?"touchend":"mouseup";document.addEventListener(h,l,{passive:!1}),document.addEventListener(g,c,{passive:!0}),(d=t.onDragStart)===null||d===void 0||d.call(t)},l=Nu(u=>{var d;if(e&&u.touches.length>1)return;i.value=!0;const f=e?u.touches[0].clientX:u.clientX,h=e?u.touches[0].clientY:u.clientY;s.x=f-n.x,s.y=h-n.y,(d=t.onDrag)===null||d===void 0||d.call(t,{deltaX:s.x,deltaY:s.y,isTouch:e})}),c=()=>{var u;l.cancel();const d=Math.abs(s.x)+Math.abs(s.y);!e&&d>10&&window.addEventListener("click",g=>{g.preventDefault(),g.stopPropagation()},{once:!0,capture:!0}),(u=t.onDragEnd)===null||u===void 0||u.call(t),s.x=0,s.y=0,i.value=!1;const f=e?"touchmove":"mousemove",h=e?"touchend":"mouseup";document.removeEventListener(f,l),document.removeEventListener(h,c)};return{dragged:s,isDragging:i,handleDragStart:a}}function Wk(){const t=J(!1);return{isHover:t,handleMouseEnter:()=>{t.value=!0},handleMouseLeave:()=>{t.value=!1}}}function Kk(t){const{isVertical:e,isSliding:n,config:s}=t,i=he(()=>typeof e=="boolean"?e:e.value),r=he(()=>typeof n=="boolean"?n:n.value);return{handleScroll:a=>{var l,c;if(a.preventDefault(),!s.mouseWheel||r.value)return;const u=typeof s.mouseWheel=="object"&&(l=s.mouseWheel.threshold)!==null&&l!==void 0?l:Kp,d=Math.abs(a.deltaY)>u?a.deltaY:0,f=Math.abs(a.deltaX)>u?a.deltaX:0;if(d===0&&f===0)return;const h=i.value?d:f,v=(h!==0?h:i.value?f:d)>0;(c=t.onWheel)===null||c===void 0||c.call(t,{deltaX:f,deltaY:d,isScrollingForward:v})}}}const Yk={autoplay:{default:Ze.autoplay,type:Number},breakpoints:{default:Ze.breakpoints,type:Object},breakpointMode:{default:Ze.breakpointMode,validator(t){return Q0.includes(t)}},clamp:{type:Boolean},dir:{type:String,default:Ze.dir,validator(t,e){if(!X0.includes(t))return!1;const n=t in sl?sl[t]:t;return["ttb","btt"].includes(n)&&(!e.height||e.height==="auto")&&console.warn(`[vue3-carousel]: The dir "${t}" is not supported with height "auto".`),!0}},enabled:{default:Ze.enabled,type:Boolean},gap:{default:Ze.gap,type:Number},height:{default:Ze.height,type:[Number,String]},i18n:{default:Ze.i18n,type:Object},ignoreAnimations:{default:!1,type:[Array,Boolean,String]},itemsToScroll:{default:Ze.itemsToScroll,type:Number},itemsToShow:{default:Ze.itemsToShow,type:[Number,String]},modelValue:{default:void 0,type:Number},mouseDrag:{default:Ze.mouseDrag,type:[Boolean,Object]},mouseWheel:{default:Ze.mouseWheel,type:[Boolean,Object]},mouseScrollThreshold:{default:Ze.mouseScrollThreshold,type:Number},pauseAutoplayOnHover:{default:Ze.pauseAutoplayOnHover,type:Boolean},preventExcessiveDragging:{default:!1,type:Boolean,validator(t,e){return t&&e.wrapAround&&console.warn('[vue3-carousel]: "preventExcessiveDragging" cannot be used with wrapAround. The setting will be ignored.'),!0}},slideEffect:{type:String,default:Ze.slideEffect,validator(t){return J0.includes(t)}},snapAlign:{default:Ze.snapAlign,validator(t){return Z0.includes(t)}},touchDrag:{default:Ze.touchDrag,type:[Boolean,Object]},transition:{default:Ze.transition,type:Number},wrapAround:{default:Ze.wrapAround,type:Boolean}},Qk=wo({name:"VueCarousel",props:Yk,emits:["before-init","drag","init","loop","slide-end","slide-registered","slide-start","slide-unregistered","update:modelValue","wheel"],setup(t,{slots:e,emit:n,expose:s}){var i;const r=Dk(n),o=r.getSlides(),a=he(()=>o.length),l=J(null),c=J(null),u=J(0),d=he(()=>Object.assign(Object.assign(Object.assign({},Ze),Fk(t,["breakpoints","modelValue"])),{i18n:Object.assign(Object.assign({},Ze.i18n),t.i18n)})),f=Vr(Object.assign({},d.value)),h=J((i=t.modelValue)!==null&&i!==void 0?i:0),g=J(h.value);Qt(h,Q=>g.value=Q);const v=J(0),k=he(()=>Math.ceil((a.value-1)/2)),_=he(()=>a.value-1),m=he(()=>0);let p=null,b=null,E=null;const C=he(()=>u.value+f.gap),x=he(()=>{const Q=f.dir||"ltr";return Q in sl?sl[Q]:Q}),P=he(()=>["rtl","btt"].includes(x.value)),T=he(()=>["ttb","btt"].includes(x.value)),I=he(()=>f.itemsToShow==="auto"),M=he(()=>T.value?"height":"width");function D(){var Q;if(!zt.value)return;const ue=(d.value.breakpointMode==="carousel"?(Q=l.value)===null||Q===void 0?void 0:Q.getBoundingClientRect().width:typeof window<"u"?window.innerWidth:0)||0,Se=Object.keys(t.breakpoints||{}).map(ke=>Number(ke)).sort((ke,dt)=>+dt-+ke),Oe={};Se.some(ke=>ue>=ke?(Object.assign(Oe,t.breakpoints[ke]),Oe.i18n&&Object.assign(Oe.i18n,d.value.i18n,t.breakpoints[ke].i18n),!0):!1),Object.assign(f,d.value,Oe),I.value||(f.itemsToShow=Nn({val:Number(f.itemsToShow),max:t.clamp?a.value:1/0,min:1}))}const z=Nu(()=>{D(),ve(),Z()}),oe=Vr(new Set),re=J([]);function W({widthMultiplier:Q,heightMultiplier:ue}){re.value=o.map(Se=>{var Oe;const ke=(Oe=Se.exposed)===null||Oe===void 0?void 0:Oe.getBoundingRect();return{width:ke.width*Q,height:ke.height*ue}})}const R=J({width:0,height:0});function O({widthMultiplier:Q,heightMultiplier:ue}){var Se;const Oe=((Se=c.value)===null||Se===void 0?void 0:Se.getBoundingClientRect())||{width:0,height:0};R.value={width:Oe.width*Q,height:Oe.height*ue}}function Z(){if(!c.value)return;const Q=Bk(oe);if(O(Q),W(Q),I.value)u.value=Nk(re.value.map(ue=>ue[M.value]));else{const ue=Number(f.itemsToShow),Se=(ue-1)*f.gap;u.value=(R.value[M.value]-Se)/ue}}function ve(){!f.wrapAround&&a.value>0&&(h.value=Nn({val:h.value,max:_.value,min:m.value}))}const Le=he(()=>typeof t.ignoreAnimations=="string"?t.ignoreAnimations.split(","):Array.isArray(t.ignoreAnimations)?t.ignoreAnimations:t.ignoreAnimations?!1:[]);oc(()=>ve()),oc(()=>{Z()});let Ae;const jt=Q=>{const ue=Q.target;if(!(!(ue!=null&&ue.contains(l.value))||Array.isArray(Le.value)&&Le.value.includes(Q.animationName))&&(oe.add(ue),!Ae)){const Se=()=>{Ae=requestAnimationFrame(()=>{Z(),Se()})};Se()}},vn=Q=>{const ue=Q.target;ue&&oe.delete(ue),Ae&&oe.size===0&&(cancelAnimationFrame(Ae),Z())},zt=J(!1);typeof document<"u"&&oc(()=>{zt.value&&Le.value!==!1?(document.addEventListener("animationstart",jt),document.addEventListener("animationend",vn)):(document.removeEventListener("animationstart",jt),document.removeEventListener("animationend",vn))}),mn(()=>{zt.value=!0,D(),y(),l.value&&(E=new ResizeObserver(z),E.observe(l.value)),n("init")}),ui(()=>{zt.value=!1,r.cleanup(),b&&clearTimeout(b),Ae&&cancelAnimationFrame(Ae),p&&clearInterval(p),E&&(E.disconnect(),E=null),typeof document<"u"&&se(),l.value&&(l.value.removeEventListener("transitionend",Z),l.value.removeEventListener("animationiteration",Z))});const{isHover:mt,handleMouseEnter:L,handleMouseLeave:ee}=Wk(),K=Nu(Q=>{if(!Q.ctrlKey)switch(Q.key){case"ArrowLeft":case"ArrowUp":T.value===Q.key.endsWith("Up")&&(P.value?q(!0):ne(!0));break;case"ArrowRight":case"ArrowDown":T.value===Q.key.endsWith("Down")&&(P.value?ne(!0):q(!0));break}},200),se=()=>{document.removeEventListener("keydown",K)},Fe=()=>{document.addEventListener("keydown",K)};function y(){!f.autoplay||f.autoplay<=0||(p=setInterval(()=>{f.pauseAutoplayOnHover&&mt.value||q()},f.autoplay))}function S(){A(),y()}function A(){p&&(clearInterval(p),p=null)}const N=J(!1),$=({deltaX:Q,deltaY:ue,isTouch:Se})=>{var Oe,ke,dt,Dt;n("drag",{deltaX:Q,deltaY:ue});const Wt=Se?typeof f.touchDrag=="object"&&(ke=(Oe=f.touchDrag)===null||Oe===void 0?void 0:Oe.threshold)!==null&&ke!==void 0?ke:ra:typeof f.mouseDrag=="object"&&(Dt=(dt=f.mouseDrag)===null||dt===void 0?void 0:dt.threshold)!==null&&Dt!==void 0?Dt:ra,lr=$k({isVertical:T.value,isReversed:P.value,dragged:{x:Q,y:ue},effectiveSlideSize:C.value,threshold:Wt});lr!==0&&(g.value=f.wrapAround?h.value+lr:Nn({val:h.value+lr,max:_.value,min:m.value}))},F=()=>ce(g.value),{dragged:G,isDragging:H,handleDragStart:j}=Gk({isSliding:N,onDrag:$,onDragEnd:F}),V=({deltaX:Q,deltaY:ue,isScrollingForward:Se})=>{n("wheel",{deltaX:Q,deltaY:ue}),Se?P.value?ne():q():P.value?q():ne()},{handleScroll:le}=Kk({isVertical:T,isSliding:N,config:f,onWheel:V});function q(Q=!1){ce(h.value+f.itemsToScroll,Q)}function ne(Q=!1){ce(h.value-f.itemsToScroll,Q)}function ce(Q,ue=!1){if(!ue&&N.value)return;const Se=(f.wrapAround?Hk:Nn)({val:Q,max:_.value,min:m.value});if(h.value===Se)return;v.value=h.value,n("slide-start",{slidingToIndex:Q,currentSlideIndex:h.value,prevSlideIndex:v.value,slidesCount:a.value}),A(),N.value=!0,h.value=Q,Se!==Q&&$e.pause(),n("update:modelValue",Se),b=setTimeout(()=>{f.wrapAround&&Se!==Q&&($e.resume(),h.value=Se,n("loop",{currentSlideIndex:h.value,slidingToIndex:Q})),n("slide-end",{currentSlideIndex:h.value,prevSlideIndex:v.value,slidesCount:a.value}),N.value=!1,S()},f.transition)}function _e(){D(),ve(),Z(),S()}Qt(()=>[d.value,t.breakpoints],()=>D(),{deep:!0}),Qt(()=>t.autoplay,()=>S());const $e=Qt(()=>t.modelValue,Q=>{Q!==h.value&&ce(Number(Q),!0)});n("before-init");const xe=he(()=>{if(!f.wrapAround)return{before:0,after:0};if(I.value)return{before:o.length,after:o.length};const Q=Number(f.itemsToShow),ue=Math.ceil(Q+(f.itemsToScroll-1)),Se=ue-g.value,Oe=ue-(a.value-(g.value+1));return{before:Math.max(0,Se),after:Math.max(0,Oe)}}),vt=he(()=>xe.value.before?I.value?re.value.slice(-1*xe.value.before).reduce((Q,ue)=>Q+ue[M.value]+f.gap,0)*-1:xe.value.before*C.value*-1:0),ut=he(()=>{var Q;if(I.value){const ue=(h.value%o.length+o.length)%o.length;return Xp({slideSize:(Q=re.value[ue])===null||Q===void 0?void 0:Q[M.value],viewportSize:R.value[M.value],align:f.snapAlign})}return Xp({align:f.snapAlign,itemsToShow:+f.itemsToShow})}),Ot=he(()=>{let Q=0;if(I.value){if(h.value<0?Q=re.value.slice(h.value).reduce((ue,Se)=>ue+Se[M.value]+f.gap,0)*-1:Q=re.value.slice(0,h.value).reduce((ue,Se)=>ue+Se[M.value]+f.gap,0),Q-=ut.value,!f.wrapAround){const ue=re.value.reduce((Se,Oe)=>Se+Oe[M.value]+f.gap,0)-R.value[M.value]-f.gap;Q=Nn({val:Q,max:ue,min:0})}}else{let ue=h.value-ut.value;f.wrapAround||(ue=Nn({val:ue,max:a.value-+f.itemsToShow,min:0})),Q=ue*C.value}return Q*(P.value?1:-1)}),Zt=he(()=>{var Q,ue;if(!I.value){const ke=h.value-ut.value;return f.wrapAround?{min:Math.floor(ke),max:Math.ceil(ke+Number(f.itemsToShow)-1)}:{min:Math.floor(Nn({val:ke,max:a.value-Number(f.itemsToShow),min:0})),max:Math.ceil(Nn({val:ke+Number(f.itemsToShow)-1,max:a.value-1,min:0}))}}let Se=0;{let ke=0,dt=0-xe.value.before;const Dt=Math.abs(Ot.value+vt.value);for(;ke<=Dt;){const Wt=(dt%o.length+o.length)%o.length;ke+=((Q=re.value[Wt])===null||Q===void 0?void 0:Q[M.value])+f.gap,dt++}Se=dt-1}let Oe=0;{let ke=Se,dt=0;for(ke<0?dt=re.value.slice(0,ke).reduce((Dt,Wt)=>Dt+Wt[M.value]+f.gap,0)-Math.abs(Ot.value+vt.value):dt=re.value.slice(0,ke).reduce((Dt,Wt)=>Dt+Wt[M.value]+f.gap,0)-Math.abs(Ot.value);dt<R.value[M.value];){const Dt=(ke%o.length+o.length)%o.length;dt+=((ue=re.value[Dt])===null||ue===void 0?void 0:ue[M.value])+f.gap,ke++}Oe=ke-1}return{min:Math.floor(Se),max:Math.ceil(Oe)}}),$s=he(()=>{if(f.slideEffect==="fade")return;const Q=T.value?"Y":"X",ue=T.value?G.y:G.x;let Se=Ot.value+ue;if(!f.wrapAround&&f.preventExcessiveDragging){let Oe=0;I.value?Oe=re.value.reduce((Dt,Wt)=>Dt+Wt[M.value],0):Oe=(a.value-Number(f.itemsToShow))*C.value;const ke=P.value?0:-1*Oe,dt=P.value?Oe:0;Se=Nn({val:Se,min:ke,max:dt})}return`translate${Q}(${Se}px)`}),zo=he(()=>({"--vc-carousel-height":oa(f.height),"--vc-cloned-offset":oa(vt.value),"--vc-slide-gap":oa(f.gap),"--vc-transition-duration":N.value?oa(f.transition,"ms"):void 0})),Gt=Hn({activeSlide:g,config:f,currentSlide:h,isSliding:N,isVertical:T,maxSlide:_,minSlide:m,nav:{slideTo:ce,next:q,prev:ne},normalizedDir:x,slideRegistry:r,slideSize:u,slides:o,slidesCount:a,viewport:c,visibleRange:Zt});_s(il,Gt);const gi=Hn({config:f,currentSlide:h,maxSlide:_,middleSlide:k,minSlide:m,slideSize:u,slidesCount:a});return s(Hn(Object.assign({data:gi,next:q,prev:ne,restartCarousel:_e,slideTo:ce,updateBreakpointsConfig:D,updateSlideSize:Z,updateSlidesData:ve},Og(Gt)))),()=>{var Q;const ue=e.default||e.slides,Se=(ue==null?void 0:ue(gi))||[],{before:Oe,after:ke}=xe.value,dt=Yp({slides:o,position:"before",toShow:Oe}),Dt=Yp({slides:o,position:"after",toShow:ke}),Wt=[...dt,...Se,...Dt];if(!f.enabled||!Wt.length)return Qe("section",{ref:l,class:["carousel","is-disabled"]},Wt);const lr=((Q=e.addons)===null||Q===void 0?void 0:Q.call(e,gi))||[],vw=Qe("ol",{class:"carousel__track",onMousedownCapture:f.mouseDrag?j:null,onTouchstartPassiveCapture:f.touchDrag?j:null,onWheel:f.mouseWheel?le:null,style:{transform:$s.value}},Wt),yw=Qe("div",{class:"carousel__viewport",ref:c},vw);return Qe("section",{ref:l,class:["carousel",`is-${x.value}`,`is-effect-${f.slideEffect}`,{"is-dragging":H.value,"is-hover":mt.value,"is-sliding":N.value,"is-vertical":T.value}],dir:x.value,style:zo.value,"aria-label":f.i18n.ariaGallery,tabindex:"0",onBlur:se,onFocus:Fe,onMouseenter:L,onMouseleave:ee},[yw,lr,Qe(qk)])}}});var Jp;(function(t){t.arrowDown="arrowDown",t.arrowLeft="arrowLeft",t.arrowRight="arrowRight",t.arrowUp="arrowUp"})(Jp||(Jp={}));const Xk=wo({name:"CarouselSlide",props:{id:{type:String,default:t=>t.isClone?void 0:hb()},index:{type:Number,default:void 0},isClone:{type:Boolean,default:!1}},setup(t,{attrs:e,slots:n,expose:s}){const i=qt(il);if(_s(il,void 0),!i)return()=>"";const r=J(t.index),o=g=>{r.value=g},a=vl(),l=()=>{const g=a.vnode.el;return g?g.getBoundingClientRect():{width:0,height:0}};s({id:t.id,setIndex:o,getBoundingRect:l});const c=he(()=>r.value===i.activeSlide),u=he(()=>r.value===i.activeSlide-1),d=he(()=>r.value===i.activeSlide+1),f=he(()=>r.value>=i.visibleRange.min&&r.value<=i.visibleRange.max),h=he(()=>{if(i.config.itemsToShow==="auto")return;const g=i.config.itemsToShow,v=i.config.gap>0&&g>1?`calc(${100/g}% - ${i.config.gap*(g-1)/g}px)`:`${100/g}%`;return i.isVertical?{height:v}:{width:v}});return i.slideRegistry.registerSlide(a,t.index),Eo(()=>{i.slideRegistry.unregisterSlide(a)}),t.isClone&&(mn(()=>{Qp(a.vnode)}),bo(()=>{Qp(a.vnode)})),()=>{var g,v;return i.config.enabled?Qe("li",{style:[e.style,Object.assign({},h.value)],class:{carousel__slide:!0,"carousel__slide--clone":t.isClone,"carousel__slide--visible":f.value,"carousel__slide--active":c.value,"carousel__slide--prev":u.value,"carousel__slide--next":d.value,"carousel__slide--sliding":i.isSliding},onFocusin:()=>{i.viewport&&(i.viewport.scrollLeft=0),i.nav.slideTo(r.value)},id:t.isClone?void 0:t.id,"aria-hidden":t.isClone||void 0},(v=n.default)===null||v===void 0?void 0:v.call(n,{currentIndex:r.value,isActive:c.value,isClone:t.isClone,isPrev:u.value,isNext:d.value,isSliding:i.isSliding,isVisible:f.value})):(g=n.default)===null||g===void 0?void 0:g.call(n)}}}),Qi=[{id:1,name:"Camiseta Deportiva",price:19.99,category:"Ropa",image:"products/camisaDeportiva.jpg",description:"Camiseta transpirable ideal para hacer ejercicio."},{id:2,name:"Pantalones Formales",price:39.99,category:"Ropa",image:"products/pantalonesFormales.jpg",description:"Vaqueros clsicos, cmodos y resistentes."},{id:3,name:"Zapatos Running",price:59.99,category:"Calzado",image:"products/zapatosRunning.jpg",description:"Zapatillas con amortiguacin para correr largas distancias."},{id:4,name:"Bolso de Mano",price:29.99,category:"Accesorios",image:"products/bolsaDeMano.jpg",description:"Bolso elegante y ligero, ideal para la ciudad."},{id:5,name:"Sudadera con Capucha",price:24.99,category:"Ropa",image:"products/sudaderaConCapucha.jpg",description:"Sudadera confortable para das fros."},{id:6,name:"Sandalias de Playa",price:14.99,category:"Calzado",image:"products/sandaliaDePlaya.jpg",description:"Sandalias cmodas y resistentes al agua."},{id:7,name:"Zapatos Converse",price:120,category:"Calzado",image:"products/product1.jpg",description:"Diseo clsico con comodidad duradera y una Versatilidad pura."},{id:8,name:"Ropa Formal",price:95.5,category:"Ropa",image:"products/product2.jpg",description:"Conjunto compuesto por chaqueta con solapas de seda, pantaln de corte impecable, camisa de vestir inmaculada y una corbata de seda que aporta un toque de sobriedad y distincin. Ideal para eventos de mxima etiqueta."},{id:9,name:"Vestido de Dama",price:150,category:"Ropa",image:"products/product3.jpg",description:"Este vestido largo captura todas las miradas con su cada fluida y elegante. Confeccionado en una tela suntuosa, ofrece un tacto suave y una apariencia rica y sofisticada."},{id:10,name:"Camisa Formal Limitada",price:200,category:"Calzado",image:"products/product4.jpg",description:"Descubre la sofisticacin en cada trama. Estas camisas de corte impecable presentan un sutil y distinguido patrn de cuadros micro-vichy, ofreciendo una textura visual que se desmarca de lo convencional. Con cuellos firmes y detalles cuidados como las costuras contrastantes en los ojales y botones de diseo, encarnan una fusin de tradicin y vanguardia. Su presentacin en un estuche premium refuerza su estatus de pieza curada y limitada, reflejando un valor que trasciende lo ordinario."}],Jk={class:"bg-white rounded-2xl shadow overflow-hidden group focus-within:ring-2 focus-within:ring-purple-300",tabindex:"0"},Zk={class:"relative"},eP=["src","alt"],tP={class:"p-4 text-center"},nP=["title"],sP={key:0,class:"text-sm text-gray-500 mb-1"},iP={key:1,class:"flex items-center justify-center space-x-2 mb-1"},rP={class:"flex -space-x-1"},oP={class:"text-xs text-gray-500"},aP=["innerHTML"],lP={__name:"ProductItem",props:{product:{type:Object,required:!0}},emits:["add-to-cart"],setup(t,{emit:e}){var a,l;const n=t;let s="";try{s=new URL("../assets/placeholder-product.png",import.meta.url).href}catch{s="https://placehold.co/400x400/cccccc/ffffff?text=Producto"}const i=J(((a=n.product)==null?void 0:a.image)??((l=n.product)==null?void 0:l.img)??s);function r(){i.value=s}const o=he(()=>{var d,f,h,g;const c=((d=n.product)==null?void 0:d.price)??((f=n.product)==null?void 0:f.unitPrice)??((h=n.product)==null?void 0:h.amount)??(((g=n.product)==null?void 0:g.product)&&n.product.product.price)??0,u=parseFloat(String(c).replace(",","."))||0;try{return new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(u)}catch{return`S/. ${u.toFixed(2)}`}});return(c,u)=>(X(),te("div",Jk,[w("div",Zk,[w("img",{src:i.value,alt:t.product.name||"Producto",loading:"lazy",onError:r,class:"w-full h-48 object-cover transition-transform duration-500 ease-out group-hover:scale-105"},null,40,eP)]),w("div",tP,[w("h3",{class:"text-lg font-semibold text-gray-800 mb-1 truncate",title:t.product.name},We(t.product.name),9,nP),t.product.category?(X(),te("p",sP,We(t.product.category),1)):Ve("",!0),t.product.rating?(X(),te("div",iP,[w("div",rP,[(X(),te(et,null,qn(5,d=>w("svg",{key:d,class:rt(["w-4 h-4",d<=Math.round(t.product.rating)?"text-yellow-400":"text-gray-200"]),viewBox:"0 0 24 24",fill:"currentColor"},u[0]||(u[0]=[w("path",{d:"M12 .587l3.668 7.431L23.6 9.75l-5.8 5.65L19.5 24 12 19.897 4.5 24l1.7-8.6L0.4 9.75l7.932-1.732z"},null,-1)]),2)),64))]),w("span",oP,"("+We(t.product.reviews??0)+")",1)])):Ve("",!0),w("p",{class:"text-base font-bold text-green-600",innerHTML:o.value},null,8,aP)])]))}},cP={class:"py-16 px-4 max-w-7xl mx-auto"},uP={class:"mb-10 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},dP={class:"flex items-center gap-3"},fP=["value"],hP={class:"relative group"},pP={class:"h-full min-h-[14rem] sm:min-h-[16rem] md:min-h-[18rem] flex items-stretch"},gP=["onClick","onKeydown"],mP={key:0,class:"text-center mt-20 text-gray-500 text-lg"},vP=4,yP={__name:"ProductList",setup(t){const e=J(Array.isArray(Qi)?Qi:[]),n=J(""),s=ld(),i=_o(),r=he(()=>{const _=new Set(e.value.map(m=>m.category).filter(Boolean));return Array.from(_).sort()}),o=he(()=>n.value?e.value.filter(_=>_.category===n.value):e.value),a=J(null),l=J(!1);function c(){l.value=!0,setTimeout(()=>l.value=!1,300)}function u(){var _;l.value||(_=a.value)!=null&&_.prev&&(a.value.prev(),c())}function d(){var _;l.value||(_=a.value)!=null&&_.next&&(a.value.next(),c())}function f(_){if(!_||!_.id)return;const m=Number(_.qty??_.quantity??1),p=typeof s.parsePrice=="function"?s.parsePrice(_.price??_.unitPrice??_.amount??0):Number(_.price)||0,b={..._,qty:m,price:p};s.addToCart(b)}function h(_){return(_==null?void 0:_.id)??(_==null?void 0:_.productId)??(_==null?void 0:_._id)??(_==null?void 0:_.sku)??null}function g(_){const m=typeof _=="string"||typeof _=="number"?String(_):h(_);m&&i.push({name:"product",params:{id:m}}).catch(()=>{})}const v=J(typeof window<"u"?window.innerWidth>=380:!1);function k(){v.value=window.innerWidth>=380}return mn(()=>{window.addEventListener("resize",k),k()}),ui(()=>{window.removeEventListener("resize",k)}),(_,m)=>(X(),te("section",cP,[w("div",uP,[m[3]||(m[3]=w("h2",{class:"text-2xl font-semibold text-gray-800"},"Explora nuestros productos",-1)),w("div",dP,[m[2]||(m[2]=w("label",{for:"category",class:"text-gray-700 font-medium"},"Categora:",-1)),tn(w("select",{id:"category","onUpdate:modelValue":m[0]||(m[0]=p=>n.value=p),class:"border border-gray-300 rounded-md px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"},[m[1]||(m[1]=w("option",{value:""},"Todas",-1)),(X(!0),te(et,null,qn(r.value,p=>(X(),te("option",{key:p,value:p},We(p),9,fP))),128))],512),[[Sm,n.value]])])]),w("div",hP,[we(ot(Qk),{ref_key:"carouselRef",ref:a,itemsToShow:vP,wrapAround:!0,autoplay:!1,class:"relative cursor-pointer",breakpoints:{380:{itemsToShow:1},640:{itemsToShow:1},768:{itemsToShow:2},1024:{itemsToShow:3}},"aria-label":"Carrusel de productos","mouse-drag":v.value,"touch-drag":v.value},{addons:Pe(()=>[w("button",{onClick:u,class:"absolute left-3 top-1/2 transform -translate-y-1/2 bg-white/95 hover:bg-white rounded-full shadow opacity-100 md:opacity-0 md:group-hover:opacity-100 md:pointer-events-none md:group-hover:pointer-events-auto z-40 transition-all duration-200 flex items-center justify-center w-10 h-10 md:w-12 md:h-12 active:scale-90","aria-label":"Anterior",tabindex:"0"},m[4]||(m[4]=[w("svg",{class:"w-5 h-5 md:w-6 md:h-6 transition-transform duration-150",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true"},[w("path",{d:"M15 6l-6 6 6 6",stroke:"currentColor","stroke-width":"2.2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),w("button",{onClick:d,class:"absolute right-3 top-1/2 transform -translate-y-1/2 bg-white/95 hover:bg-white rounded-full shadow opacity-100 md:opacity-0 md:group-hover:opacity-100 md:pointer-events-none md:group-hover:pointer-events-auto z-40 transition-all duration-200 flex items-center justify-center w-10 h-10 md:w-12 md:h-12 active:scale-90","aria-label":"Siguiente",tabindex:"0"},m[5]||(m[5]=[w("svg",{class:"w-5 h-5 md:w-6 md:h-6 transition-transform duration-150",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true"},[w("path",{d:"M9 6l6 6-6 6",stroke:"currentColor","stroke-width":"2.2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))]),default:Pe(()=>[(X(!0),te(et,null,qn(o.value,p=>(X(),ys(ot(Xk),{key:p.id??p._id??p.productId??p.sku,class:"px-2"},{default:Pe(()=>[w("div",pP,[w("div",{class:"w-full h-full flex items-stretch min-w-[220px] sm:min-w-[260px]",role:"button",tabindex:"0",onClick:b=>g(h(p)),onKeydown:xm(Xs(b=>g(h(p)),["prevent"]),["enter"])},[we(lP,{product:p,class:"w-full h-full flex-1",onAddToCart:f,onViewProduct:g},null,8,["product"])],40,gP)])]),_:2},1024))),128))]),_:1},8,["mouse-drag","touch-drag"])]),o.value.length===0?(X(),te("div",mP," No hay productos en esta categora. ")):Ve("",!0)]))}},ew=ss(yP,[["__scopeId","data-v-a898ded5"]]),wP={class:"bg-white border-t border-gray-100 text-gray-700"},bP={class:"max-w-7xl mx-auto px-4 py-16"},EP={class:"grid grid-cols-1 md:grid-cols-12 gap-8 items-start"},SP={class:"md:col-span-3"},_P={class:"mt-10 border-t border-gray-100 pt-6 flex flex-col md:flex-row items-center justify-between gap-4"},TP={class:"text-sm text-gray-500"},xP={__name:"Footer",setup(t){const e=J(""),n=J(""),s=J("");function i(o){return/\S+@\S+\.\S+/.test(o)}function r(){if(!i(e.value)){s.value="error",n.value="Ingresa un correo vlido.";return}console.log("Suscribir:",e.value),s.value="ok",n.value="Gracias! Te hemos suscrito.",e.value="",setTimeout(()=>{n.value=""},4e3)}return(o,a)=>(X(),te("footer",wP,[w("div",bP,[w("div",EP,[a[6]||(a[6]=Yc('<div class="md:col-span-4" data-v-b3838958><div class="flex items-center gap-3" data-v-b3838958><img src="'+Cm+'" alt="Logo" class="w-9 h-9 rounded-lg object-contain" aria-hidden="true" data-v-b3838958><div data-v-b3838958><div class="text-lg font-extrabold text-gray-900" data-v-b3838958>Eclipse</div><div class="text-sm text-gray-500" data-v-b3838958>La vestimenta ideal a un solo click.</div></div></div><p class="mt-4 text-sm text-gray-600" data-v-b3838958>Enviamos a todo el pas. Atencin al cliente 24/7 y garanta de satisfaccin. Sguenos en redes para ofertas exclusivas.</p><div class="mt-6 flex items-center gap-3" data-v-b3838958><a href="#" class="social-btn" aria-label="Instagram" data-v-b3838958><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true" data-v-b3838958><path d="M7 2h10a5 5 0 015 5v10a5 5 0 01-5 5H7a5 5 0 01-5-5V7a5 5 0 015-5z" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" data-v-b3838958></path></svg></a><a href="#" class="social-btn" aria-label="Facebook" data-v-b3838958><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true" data-v-b3838958><path d="M18 2h-3a4 4 0 00-4 4v3H8v4h3v8h4v-8h3l1-4h-4V6a1 1 0 011-1h3V2z" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" data-v-b3838958></path></svg></a><a href="#" class="social-btn" aria-label="Tiktok" data-v-b3838958><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true" data-v-b3838958><path d="M16 8a4 4 0 01-4-4v10a4 4 0 11-4-4" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" data-v-b3838958></path></svg></a></div></div><nav class="md:col-span-5 grid grid-cols-2 gap-6 sm:grid-cols-3" aria-label="Footer Navigation" data-v-b3838958><div data-v-b3838958><h4 class="text-sm font-semibold text-gray-900" data-v-b3838958>Tienda</h4><ul class="mt-3 space-y-2 text-sm text-gray-600" data-v-b3838958><li data-v-b3838958><a href="#" class="link" data-v-b3838958>Productos</a></li><li data-v-b3838958><a href="#" class="link" data-v-b3838958>Ofertas</a></li><li data-v-b3838958><a href="#" class="link" data-v-b3838958>Nuevos</a></li><li data-v-b3838958><a href="#" class="link" data-v-b3838958>Categorias</a></li></ul></div><div data-v-b3838958><h4 class="text-sm font-semibold text-gray-900" data-v-b3838958>Compaa</h4><ul class="mt-3 space-y-2 text-sm text-gray-600" data-v-b3838958><li data-v-b3838958><a href="#" class="link" data-v-b3838958>Nosotros</a></li><li data-v-b3838958><a href="#" class="link" data-v-b3838958>Trabaja con nosotros</a></li><li data-v-b3838958><a href="#" class="link" data-v-b3838958>Blog</a></li><li data-v-b3838958><a href="#" class="link" data-v-b3838958>Prensa</a></li></ul></div><div data-v-b3838958><h4 class="text-sm font-semibold text-gray-900" data-v-b3838958>Soporte</h4><ul class="mt-3 space-y-2 text-sm text-gray-600" data-v-b3838958><li data-v-b3838958><a href="#" class="link" data-v-b3838958>Ayuda</a></li><li data-v-b3838958><a href="#" class="link" data-v-b3838958>Envios</a></li><li data-v-b3838958><a href="#" class="link" data-v-b3838958>Devoluciones</a></li><li data-v-b3838958><a href="#" class="link" data-v-b3838958>Contacto</a></li></ul></div></nav>',2)),w("div",SP,[a[3]||(a[3]=w("h4",{class:"text-sm font-semibold text-gray-900"},"Suscrbete y recibe ofertas",-1)),a[4]||(a[4]=w("p",{class:"mt-2 text-sm text-gray-600"},"Promociones exclusivas y novedades. Cancela cuando quieras.",-1)),w("form",{onSubmit:Xs(r,["prevent"]),class:"mt-4 flex gap-2 items-center"},[a[1]||(a[1]=w("label",{for:"footer-email",class:"sr-only"},"Correo electrnico",-1)),tn(w("input",{id:"footer-email","onUpdate:modelValue":a[0]||(a[0]=l=>e.value=l),type:"email",placeholder:"tu@correo.com",required:"",class:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-purple-400"},null,512),[[Ts,e.value]]),a[2]||(a[2]=w("button",{class:"btn-subscribe",type:"submit","aria-label":"Suscribirse"},"Suscribir",-1))],32),n.value?(X(),te("p",{key:0,class:rt(["mt-3 text-sm",s.value==="ok"?"text-green-600":"text-red-600"])},We(n.value),3)):Ve("",!0),a[5]||(a[5]=w("div",{class:"mt-6 text-sm text-gray-500"},[w("div",null,[Ke("Atencin: "),w("a",{href:"tel:+511234567",class:"link"},"+51 123 4567")]),w("div",{class:"mt-1"},[Ke("Correo: "),w("a",{href:"mailto:contacto@sweetdelights.com",class:"link"},"yoshiyosnichi@hotmail.com")])],-1))])]),w("div",_P,[w("div",TP," "+We(new Date().getFullYear())+" Sweet Delights. Todos los derechos reservados.",1),a[7]||(a[7]=Yc('<div class="flex items-center gap-4" data-v-b3838958><div class="flex items-center gap-2" data-v-b3838958><svg width="40" height="24" viewBox="0 0 40 24" aria-hidden="true" data-v-b3838958><rect width="40" height="24" rx="4" fill="#111827" data-v-b3838958></rect></svg><svg width="40" height="24" viewBox="0 0 40 24" aria-hidden="true" data-v-b3838958><rect width="40" height="24" rx="4" fill="#111827" data-v-b3838958></rect></svg></div></div>',1))])])]))}},CP=ss(xP,[["__scopeId","data-v-b3838958"]]);function Zp(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Sf(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:Zp(e[s])&&Zp(t[s])&&Object.keys(e[s]).length>0&&Sf(t[s],e[s])})}const tw={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ln(){const t=typeof document<"u"?document:{};return Sf(t,tw),t}const IP={document:tw,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Ut(){const t=typeof window<"u"?window:{};return Sf(t,IP),t}function AP(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function kP(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function nw(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function rl(){return Date.now()}function PP(t){const e=Ut();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function RP(t,e){e===void 0&&(e="x");const n=Ut();let s,i,r;const o=PP(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),r=new n.WebKitCSSMatrix(i==="none"?"":i)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=r.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=r.m41:s.length===16?i=parseFloat(s[12]):i=parseFloat(s[4])),e==="y"&&(n.WebKitCSSMatrix?i=r.m42:s.length===16?i=parseFloat(s[13]):i=parseFloat(s[5])),i||0}function aa(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function MP(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Yt(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const s=n<0||arguments.length<=n?void 0:arguments[n];if(s!=null&&!MP(s)){const i=Object.keys(Object(s)).filter(r=>e.indexOf(r)<0);for(let r=0,o=i.length;r<o;r+=1){const a=i[r],l=Object.getOwnPropertyDescriptor(s,a);l!==void 0&&l.enumerable&&(aa(t[a])&&aa(s[a])?s[a].__swiper__?t[a]=s[a]:Yt(t[a],s[a]):!aa(t[a])&&aa(s[a])?(t[a]={},s[a].__swiper__?t[a]=s[a]:Yt(t[a],s[a])):t[a]=s[a])}}}return t}function la(t,e,n){t.style.setProperty(e,n)}function sw(t){let{swiper:e,targetPosition:n,side:s}=t;const i=Ut(),r=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const c=n>r?"next":"prev",u=(f,h)=>c==="next"&&f>=h||c==="prev"&&f<=h,d=()=>{a=new Date().getTime(),o===null&&(o=a);const f=Math.max(Math.min((a-o)/l,1),0),h=.5-Math.cos(f*Math.PI)/2;let g=r+h*(n-r);if(u(g,n)&&(g=n),e.wrapperEl.scrollTo({[s]:g}),u(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:g})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(d)};d()}function iw(t){return t.querySelector(".swiper-slide-transform")||t.shadowRoot&&t.shadowRoot.querySelector(".swiper-slide-transform")||t}function xn(t,e){e===void 0&&(e="");const n=Ut(),s=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&s.push(...t.assignedElements()),e?s.filter(i=>i.matches(e)):s}function OP(t,e){const n=[e];for(;n.length>0;){const s=n.shift();if(t===s)return!0;n.push(...s.children,...s.shadowRoot?s.shadowRoot.children:[],...s.assignedElements?s.assignedElements():[])}}function DP(t,e){const n=Ut();let s=e.contains(t);return!s&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(s=[...e.assignedElements()].includes(t),s||(s=OP(t,e))),s}function ol(t){try{console.warn(t);return}catch{}}function ho(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:AP(e)),n}function NP(t,e){const n=[];for(;t.previousElementSibling;){const s=t.previousElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function LP(t,e){const n=[];for(;t.nextElementSibling;){const s=t.nextElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function bs(t,e){return Ut().getComputedStyle(t,null).getPropertyValue(e)}function po(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function rw(t,e){const n=[];let s=t.parentElement;for(;s;)e?s.matches(e)&&n.push(s):n.push(s),s=s.parentElement;return n}function FP(t,e){function n(s){s.target===t&&(e.call(t,s),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function Lu(t,e,n){const s=Ut();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Ue(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function go(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let Dc;function $P(){const t=Ut(),e=ln();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function ow(){return Dc||(Dc=$P()),Dc}let Nc;function VP(t){let{userAgent:e}=t===void 0?{}:t;const n=ow(),s=Ut(),i=s.navigator.platform,r=e||s.navigator.userAgent,o={ios:!1,android:!1},a=s.screen.width,l=s.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let u=r.match(/(iPad).*OS\s([\d_]+)/);const d=r.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=i==="Win32";let g=i==="MacIntel";const v=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&n.touch&&v.indexOf(`${a}x${l}`)>=0&&(u=r.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),c&&!h&&(o.os="android",o.android=!0),(u||f||d)&&(o.os="ios",o.ios=!0),o}function aw(t){return t===void 0&&(t={}),Nc||(Nc=VP(t)),Nc}let Lc;function BP(){const t=Ut(),e=aw();let n=!1;function s(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(s()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=l<16||l===16&&c<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),r=s(),o=r||i&&e.ios;return{isSafari:n||r,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function lw(){return Lc||(Lc=BP()),Lc}function UP(t){let{swiper:e,on:n,emit:s}=t;const i=Ut();let r=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(d=>{o=i.requestAnimationFrame(()=>{const{width:f,height:h}=e;let g=f,v=h;d.forEach(k=>{let{contentBoxSize:_,contentRect:m,target:p}=k;p&&p!==e.el||(g=m?m.width:(_[0]||_).inlineSize,v=m?m.height:(_[0]||_).blockSize)}),(g!==f||v!==h)&&a()})}),r.observe(e.el))},c=()=>{o&&i.cancelAnimationFrame(o),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},u=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",u)})}function jP(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r=[],o=Ut(),a=function(u,d){d===void 0&&(d={});const f=o.MutationObserver||o.WebkitMutationObserver,h=new f(g=>{if(e.__preventObserver__)return;if(g.length===1){i("observerUpdate",g[0]);return}const v=function(){i("observerUpdate",g[0])};o.requestAnimationFrame?o.requestAnimationFrame(v):o.setTimeout(v,0)});h.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:e.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),r.push(h)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=rw(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{r.forEach(u=>{u.disconnect()}),r.splice(0,r.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",l),s("destroy",c)}var zP={on(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const i=n?"unshift":"push";return t.split(" ").forEach(r=>{s.eventsListeners[r]||(s.eventsListeners[r]=[]),s.eventsListeners[r][i](e)}),s},once(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function i(){s.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];e.apply(s,o)}return i.__emitterProxy=e,s.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const s=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[s](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(s=>{typeof e>"u"?n.eventsListeners[s]=[]:n.eventsListeners[s]&&n.eventsListeners[s].forEach((i,r)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[s].splice(r,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,s;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],n=r.slice(1,r.length),s=t):(e=r[0].events,n=r[0].data,s=r[0].context||t),n.unshift(s),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(s,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(s,n)})}),t}};function HP(){const t=this;let e,n;const s=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=s.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=s.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(bs(s,"padding-left")||0,10)-parseInt(bs(s,"padding-right")||0,10),n=n-parseInt(bs(s,"padding-top")||0,10)-parseInt(bs(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function qP(){const t=this;function e(I,M){return parseFloat(I.getPropertyValue(t.getDirectionLabel(M))||0)}const n=t.params,{wrapperEl:s,slidesEl:i,size:r,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=xn(i,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:u.length;let f=[];const h=[],g=[];let v=n.slidesOffsetBefore;typeof v=="function"&&(v=n.slidesOffsetBefore.call(t));let k=n.slidesOffsetAfter;typeof k=="function"&&(k=n.slidesOffsetAfter.call(t));const _=t.snapGrid.length,m=t.slidesGrid.length;let p=n.spaceBetween,b=-v,E=0,C=0;if(typeof r>"u")return;typeof p=="string"&&p.indexOf("%")>=0?p=parseFloat(p.replace("%",""))/100*r:typeof p=="string"&&(p=parseFloat(p)),t.virtualSize=-p,u.forEach(I=>{o?I.style.marginLeft="":I.style.marginRight="",I.style.marginBottom="",I.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(la(s,"--swiper-centered-offset-before",""),la(s,"--swiper-centered-offset-after",""));const x=n.grid&&n.grid.rows>1&&t.grid;x?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let P;const T=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(I=>typeof n.breakpoints[I].slidesPerView<"u").length>0;for(let I=0;I<d;I+=1){P=0;let M;if(u[I]&&(M=u[I]),x&&t.grid.updateSlide(I,M,u),!(u[I]&&bs(M,"display")==="none")){if(n.slidesPerView==="auto"){T&&(u[I].style[t.getDirectionLabel("width")]="");const D=getComputedStyle(M),z=M.style.transform,oe=M.style.webkitTransform;if(z&&(M.style.transform="none"),oe&&(M.style.webkitTransform="none"),n.roundLengths)P=t.isHorizontal()?Lu(M,"width"):Lu(M,"height");else{const re=e(D,"width"),W=e(D,"padding-left"),R=e(D,"padding-right"),O=e(D,"margin-left"),Z=e(D,"margin-right"),ve=D.getPropertyValue("box-sizing");if(ve&&ve==="border-box")P=re+O+Z;else{const{clientWidth:Le,offsetWidth:Ae}=M;P=re+W+R+O+Z+(Ae-Le)}}z&&(M.style.transform=z),oe&&(M.style.webkitTransform=oe),n.roundLengths&&(P=Math.floor(P))}else P=(r-(n.slidesPerView-1)*p)/n.slidesPerView,n.roundLengths&&(P=Math.floor(P)),u[I]&&(u[I].style[t.getDirectionLabel("width")]=`${P}px`);u[I]&&(u[I].swiperSlideSize=P),g.push(P),n.centeredSlides?(b=b+P/2+E/2+p,E===0&&I!==0&&(b=b-r/2-p),I===0&&(b=b-r/2-p),Math.abs(b)<1/1e3&&(b=0),n.roundLengths&&(b=Math.floor(b)),C%n.slidesPerGroup===0&&f.push(b),h.push(b)):(n.roundLengths&&(b=Math.floor(b)),(C-Math.min(t.params.slidesPerGroupSkip,C))%t.params.slidesPerGroup===0&&f.push(b),h.push(b),b=b+P+p),t.virtualSize+=P+p,E=P,C+=1}}if(t.virtualSize=Math.max(t.virtualSize,r)+k,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(s.style.width=`${t.virtualSize+p}px`),n.setWrapperSize&&(s.style[t.getDirectionLabel("width")]=`${t.virtualSize+p}px`),x&&t.grid.updateWrapperSize(P,f),!n.centeredSlides){const I=[];for(let M=0;M<f.length;M+=1){let D=f[M];n.roundLengths&&(D=Math.floor(D)),f[M]<=t.virtualSize-r&&I.push(D)}f=I,Math.floor(t.virtualSize-r)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-r)}if(l&&n.loop){const I=g[0]+p;if(n.slidesPerGroup>1){const M=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),D=I*n.slidesPerGroup;for(let z=0;z<M;z+=1)f.push(f[f.length-1]+D)}for(let M=0;M<t.virtual.slidesBefore+t.virtual.slidesAfter;M+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+I),h.push(h[h.length-1]+I),t.virtualSize+=I}if(f.length===0&&(f=[0]),p!==0){const I=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((M,D)=>!n.cssMode||n.loop?!0:D!==u.length-1).forEach(M=>{M.style[I]=`${p}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let I=0;g.forEach(D=>{I+=D+(p||0)}),I-=p;const M=I>r?I-r:0;f=f.map(D=>D<=0?-v:D>M?M+k:D)}if(n.centerInsufficientSlides){let I=0;g.forEach(D=>{I+=D+(p||0)}),I-=p;const M=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(I+M<r){const D=(r-I-M)/2;f.forEach((z,oe)=>{f[oe]=z-D}),h.forEach((z,oe)=>{h[oe]=z+D})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:h,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){la(s,"--swiper-centered-offset-before",`${-f[0]}px`),la(s,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const I=-t.snapGrid[0],M=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(D=>D+I),t.slidesGrid=t.slidesGrid.map(D=>D+M)}if(d!==c&&t.emit("slidesLengthChange"),f.length!==_&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),h.length!==m&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const I=`${n.containerModifierClass}backface-hidden`,M=t.el.classList.contains(I);d<=n.maxBackfaceHiddenSlides?M||t.el.classList.add(I):M&&t.el.classList.remove(I)}}function GP(t){const e=this,n=[],s=e.virtual&&e.params.virtual.enabled;let i=0,r;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>s?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const a=e.activeIndex+r;if(a>e.slides.length&&!s)break;n.push(o(a))}else n.push(o(e.activeIndex));for(r=0;r<n.length;r+=1)if(typeof n[r]<"u"){const a=n[r].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function WP(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(t.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-n-t.cssOverflowAdjustment()}const eg=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function KP(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:s,rtlTranslate:i,snapGrid:r}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<s.length;l+=1){const c=s[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=s[0].swiperSlideOffset);const d=(o+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),f=(o-r[0]+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=-(o-u),g=h+e.slidesSizesGrid[l],v=h>=0&&h<=e.size-e.slidesSizesGrid[l],k=h>=0&&h<e.size-1||g>1&&g<=e.size||h<=0&&g>=e.size;k&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),eg(c,k,n.slideVisibleClass),eg(c,v,n.slideFullyVisibleClass),c.progress=i?-d:d,c.originalProgress=i?-f:f}}function YP(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:r,isEnd:o,progressLoop:a}=e;const l=r,c=o;if(s===0)i=0,r=!0,o=!0;else{i=(t-e.minTranslate())/s;const u=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;r=u||i<=0,o=d||i>=1,u&&(i=0),d&&(i=1)}if(n.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],h=e.slidesGrid[d],g=e.slidesGrid[e.slidesGrid.length-1],v=Math.abs(t);v>=f?a=(v-f)/g:a=(v+g-h)/g,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:r,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),r&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!r||c&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const Fc=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function QP(){const t=this,{slides:e,params:n,slidesEl:s,activeIndex:i}=t,r=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=d=>xn(s,`.${n.slideClass}${d}, swiper-slide${d}`)[0];let l,c,u;if(r)if(n.loop){let d=i-t.virtual.slidesBefore;d<0&&(d=t.virtual.slides.length+d),d>=t.virtual.slides.length&&(d-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.find(d=>d.column===i),u=e.find(d=>d.column===i+1),c=e.find(d=>d.column===i-1)):l=e[i];l&&(o||(u=LP(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),c=NP(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(d=>{Fc(d,d===l,n.slideActiveClass),Fc(d,d===u,n.slideNextClass),Fc(d,d===c,n.slidePrevClass)}),t.emitSlidesClasses()}const ba=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,s=e.closest(n());if(s){let i=s.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(s.shadowRoot?i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},$c=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Fu=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const s=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+s+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&$c(t,c)});return}const r=i+s-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=r+e;o+=1){const a=(o%n+n)%n;(a<i||a>r)&&$c(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(r+e,n-1);o+=1)o!==i&&(o>r||o<i)&&$c(t,o)};function XP(t){const{slidesGrid:e,params:n}=t,s=t.rtlTranslate?t.translate:-t.translate;let i;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?s>=e[r]&&s<e[r+1]-(e[r+1]-e[r])/2?i=r:s>=e[r]&&s<e[r+1]&&(i=r+1):s>=e[r]&&(i=r);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function JP(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:i,activeIndex:r,realIndex:o,snapIndex:a}=e;let l=t,c;const u=h=>{let g=h-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof l>"u"&&(l=XP(e)),s.indexOf(n)>=0)c=s.indexOf(n);else{const h=Math.min(i.slidesPerGroupSkip,l);c=h+Math.floor((l-h)/i.slidesPerGroup)}if(c>=s.length&&(c=s.length-1),l===r&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const d=e.grid&&i.grid&&i.grid.rows>1;let f;if(e.virtual&&i.virtual.enabled&&i.loop)f=u(l);else if(d){const h=e.slides.find(v=>v.column===l);let g=parseInt(h.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(h),0)),f=Math.floor(g/i.grid.rows)}else if(e.slides[l]){const h=e.slides[l].getAttribute("data-swiper-slide-index");h?f=parseInt(h,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:f,previousIndex:r,activeIndex:l}),e.initialized&&Fu(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function ZP(t,e){const n=this,s=n.params;let i=t.closest(`.${s.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${s.slideClass}, swiper-slide`)&&(i=a)});let r=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){r=!0,o=a;break}}if(i&&r)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}s.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var eR={updateSize:HP,updateSlides:qP,updateAutoHeight:GP,updateSlidesOffset:WP,updateSlidesProgress:KP,updateProgress:YP,updateSlidesClasses:QP,updateActiveIndex:JP,updateClickedSlide:ZP};function tR(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:s,translate:i,wrapperEl:r}=e;if(n.virtualTranslate)return s?-i:i;if(n.cssMode)return i;let o=RP(r,t);return o+=e.cssOverflowAdjustment(),s&&(o=-o),o||0}function nR(t,e){const n=this,{rtlTranslate:s,params:i,wrapperEl:r,progress:o}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=s?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?r[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),r.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(t-n.minTranslate())/d,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function sR(){return-this.snapGrid[0]}function iR(){return-this.snapGrid[this.snapGrid.length-1]}function rR(t,e,n,s,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),s===void 0&&(s=!0);const r=this,{params:o,wrapperEl:a}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let u;if(s&&t>l?u=l:s&&t<c?u=c:u=t,r.updateProgress(u),o.cssMode){const d=r.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!r.support.smoothScroll)return sw({swiper:r,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(f){!r||r.destroyed||f.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,n&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var oR={getTranslate:tR,setTranslate:nR,minTranslate:sR,maxTranslate:iR,translateTo:rR};function aR(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function cw(t){let{swiper:e,runCallbacks:n,direction:s,step:i}=t;const{activeIndex:r,previousIndex:o}=e;let a=s;a||(r>o?a="next":r<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&a==="reset"?e.emit(`slideResetTransition${i}`):n&&r!==o&&(e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`))}function lR(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;s.cssMode||(s.autoHeight&&n.updateAutoHeight(),cw({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function cR(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;n.animating=!1,!s.cssMode&&(n.setTransition(0),cw({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var uR={setTransition:aR,transitionStart:lR,transitionEnd:cR};function dR(t,e,n,s,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:h,enabled:g}=r;if(!g&&!s&&!i||r.destroyed||r.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=r.params.speed);const v=Math.min(r.params.slidesPerGroupSkip,o);let k=v+Math.floor((o-v)/r.params.slidesPerGroup);k>=l.length&&(k=l.length-1);const _=-l[k];if(a.normalizeSlideIndex)for(let x=0;x<c.length;x+=1){const P=-Math.floor(_*100),T=Math.floor(c[x]*100),I=Math.floor(c[x+1]*100);typeof c[x+1]<"u"?P>=T&&P<I-(I-T)/2?o=x:P>=T&&P<I&&(o=x+1):P>=T&&(o=x)}if(r.initialized&&o!==d&&(!r.allowSlideNext&&(f?_>r.translate&&_>r.minTranslate():_<r.translate&&_<r.minTranslate())||!r.allowSlidePrev&&_>r.translate&&_>r.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&n&&r.emit("beforeSlideChangeStart"),r.updateProgress(_);let m;o>d?m="next":o<d?m="prev":m="reset";const p=r.virtual&&r.params.virtual.enabled;if(!(p&&i)&&(f&&-_===r.translate||!f&&_===r.translate))return r.updateActiveIndex(o),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),a.effect!=="slide"&&r.setTranslate(_),m!=="reset"&&(r.transitionStart(n,m),r.transitionEnd(n,m)),!1;if(a.cssMode){const x=r.isHorizontal(),P=f?_:-_;if(e===0)p&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),p&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[x?"scrollLeft":"scrollTop"]=P})):h[x?"scrollLeft":"scrollTop"]=P,p&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return sw({swiper:r,targetPosition:P,side:x?"left":"top"}),!0;h.scrollTo({[x?"left":"top"]:P,behavior:"smooth"})}return!0}const C=lw().isSafari;return p&&!i&&C&&r.isElement&&r.virtual.update(!1,!1,o),r.setTransition(e),r.setTranslate(_),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,s),r.transitionStart(n,m),e===0?r.transitionEnd(n,m):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(P){!r||r.destroyed||P.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,m))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function fR(t,e,n,s){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const r=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(r){const f=o*i.params.grid.rows;a=i.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else a=i.getSlideIndexByData(o);const l=r?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:c}=i.params;let u=i.params.slidesPerView;u==="auto"?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),s&&c&&i.params.slidesPerView!=="auto"&&!r&&(d=!1),d){const f=c?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?a+1:a-l+1,slideRealIndex:f==="next"?i.realIndex:void 0})}if(r){const f=o*i.params.grid.rows;o=i.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===f).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,s)}),i}function hR(t,e,n){e===void 0&&(e=!0);const s=this,{enabled:i,params:r,animating:o}=s;if(!i||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);let a=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(a=Math.max(s.slidesPerViewDynamic("current",!0),1));const l=s.activeIndex<r.slidesPerGroupSkip?1:a,c=s.virtual&&r.virtual.enabled;if(r.loop){if(o&&!c&&r.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+l,t,e,n)}),!0}return r.rewind&&s.isEnd?s.slideTo(0,t,e,n):s.slideTo(s.activeIndex+l,t,e,n)}function pR(t,e,n){e===void 0&&(e=!0);const s=this,{params:i,snapGrid:r,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=s;if(!l||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);const u=s.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const d=a?s.translate:-s.translate;function f(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const h=f(d),g=r.map(m=>f(m)),v=i.freeMode&&i.freeMode.enabled;let k=r[g.indexOf(h)-1];if(typeof k>"u"&&(i.cssMode||v)){let m;r.forEach((p,b)=>{h>=p&&(m=b)}),typeof m<"u"&&(k=v?r[m]:r[m>0?m-1:m])}let _=0;if(typeof k<"u"&&(_=o.indexOf(k),_<0&&(_=s.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(_=_-s.slidesPerViewDynamic("previous",!0)+1,_=Math.max(_,0))),i.rewind&&s.isBeginning){const m=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(m,t,e,n)}else if(i.loop&&s.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{s.slideTo(_,t,e,n)}),!0;return s.slideTo(_,t,e,n)}function gR(t,e,n){e===void 0&&(e=!0);const s=this;if(!s.destroyed)return typeof t>"u"&&(t=s.params.speed),s.slideTo(s.activeIndex,t,e,n)}function mR(t,e,n,s){e===void 0&&(e=!0),s===void 0&&(s=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let r=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,r),a=o+Math.floor((r-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const c=i.snapGrid[a],u=i.snapGrid[a+1];l-c>(u-c)*s&&(r+=i.params.slidesPerGroup)}else{const c=i.snapGrid[a-1],u=i.snapGrid[a];l-c<=(u-c)*s&&(r-=i.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,t,e,n)}function vR(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,s=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.getSlideIndexWhenGrid(t.clickedIndex),r;const o=t.isElement?"swiper-slide":`.${e.slideClass}`,a=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;r=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(r):i>(a?(t.slides.length-s)/2-(t.params.grid.rows-1):t.slides.length-s)?(t.loopFix(),i=t.getSlideIndex(xn(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),nw(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var yR={slideTo:dR,slideToLoop:fR,slideNext:hR,slidePrev:pR,slideReset:gR,slideToClosest:mR,slideToClickedSlide:vR};function wR(t,e){const n=this,{params:s,slidesEl:i}=n;if(!s.loop||n.virtual&&n.params.virtual.enabled)return;const r=()=>{xn(i,`.${s.slideClass}, swiper-slide`).forEach((h,g)=>{h.setAttribute("data-swiper-slide-index",g)})},o=()=>{const f=xn(i,`.${s.slideBlankClass}`);f.forEach(h=>{h.remove()}),f.length>0&&(n.recalcSlides(),n.updateSlides())},a=n.grid&&s.grid&&s.grid.rows>1;s.loopAddBlankSlides&&(s.slidesPerGroup>1||a)&&o();const l=s.slidesPerGroup*(a?s.grid.rows:1),c=n.slides.length%l!==0,u=a&&n.slides.length%s.grid.rows!==0,d=f=>{for(let h=0;h<f;h+=1){const g=n.isElement?ho("swiper-slide",[s.slideBlankClass]):ho("div",[s.slideClass,s.slideBlankClass]);n.slidesEl.append(g)}};if(c){if(s.loopAddBlankSlides){const f=l-n.slides.length%l;d(f),n.recalcSlides(),n.updateSlides()}else ol("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(u){if(s.loopAddBlankSlides){const f=s.grid.rows-n.slides.length%s.grid.rows;d(f),n.recalcSlides(),n.updateSlides()}else ol("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();n.loopFix({slideRealIndex:t,direction:s.centeredSlides?void 0:"next",initial:e})}function bR(t){let{slideRealIndex:e,slideTo:n=!0,direction:s,setTranslate:i,activeSlideIndex:r,initial:o,byController:a,byMousewheel:l}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:f,slidesEl:h,params:g}=c,{centeredSlides:v,initialSlide:k}=g;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&g.virtual.enabled){n&&(!g.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):g.centeredSlides&&c.snapIndex<g.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=d,c.allowSlideNext=f,c.emit("loopFix");return}let _=g.slidesPerView;_==="auto"?_=c.slidesPerViewDynamic():(_=Math.ceil(parseFloat(g.slidesPerView,10)),v&&_%2===0&&(_=_+1));const m=g.slidesPerGroupAuto?_:g.slidesPerGroup;let p=v?Math.max(m,Math.ceil(_/2)):m;p%m!==0&&(p+=m-p%m),p+=g.loopAdditionalSlides,c.loopedSlides=p;const b=c.grid&&g.grid&&g.grid.rows>1;u.length<_+p||c.params.effect==="cards"&&u.length<_+p*2?ol("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):b&&g.grid.fill==="row"&&ol("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const E=[],C=[],x=b?Math.ceil(u.length/g.grid.rows):u.length,P=o&&x-k<_&&!v;let T=P?k:c.activeIndex;typeof r>"u"?r=c.getSlideIndex(u.find(W=>W.classList.contains(g.slideActiveClass))):T=r;const I=s==="next"||!s,M=s==="prev"||!s;let D=0,z=0;const re=(b?u[r].column:r)+(v&&typeof i>"u"?-_/2+.5:0);if(re<p){D=Math.max(p-re,m);for(let W=0;W<p-re;W+=1){const R=W-Math.floor(W/x)*x;if(b){const O=x-R-1;for(let Z=u.length-1;Z>=0;Z-=1)u[Z].column===O&&E.push(Z)}else E.push(x-R-1)}}else if(re+_>x-p){z=Math.max(re-(x-p*2),m),P&&(z=Math.max(z,_-x+k+1));for(let W=0;W<z;W+=1){const R=W-Math.floor(W/x)*x;b?u.forEach((O,Z)=>{O.column===R&&C.push(Z)}):C.push(R)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&u.length<_+p*2&&(C.includes(r)&&C.splice(C.indexOf(r),1),E.includes(r)&&E.splice(E.indexOf(r),1)),M&&E.forEach(W=>{u[W].swiperLoopMoveDOM=!0,h.prepend(u[W]),u[W].swiperLoopMoveDOM=!1}),I&&C.forEach(W=>{u[W].swiperLoopMoveDOM=!0,h.append(u[W]),u[W].swiperLoopMoveDOM=!1}),c.recalcSlides(),g.slidesPerView==="auto"?c.updateSlides():b&&(E.length>0&&M||C.length>0&&I)&&c.slides.forEach((W,R)=>{c.grid.updateSlide(R,W,c.slides)}),g.watchSlidesProgress&&c.updateSlidesOffset(),n){if(E.length>0&&M){if(typeof e>"u"){const W=c.slidesGrid[T],O=c.slidesGrid[T+D]-W;l?c.setTranslate(c.translate-O):(c.slideTo(T+Math.ceil(D),0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-O,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-O))}else if(i){const W=b?E.length/g.grid.rows:E.length;c.slideTo(c.activeIndex+W,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(C.length>0&&I)if(typeof e>"u"){const W=c.slidesGrid[T],O=c.slidesGrid[T-z]-W;l?c.setTranslate(c.translate-O):(c.slideTo(T-z,0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-O,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-O))}else{const W=b?C.length/g.grid.rows:C.length;c.slideTo(c.activeIndex-W,0,!1,!0)}}if(c.allowSlidePrev=d,c.allowSlideNext=f,c.controller&&c.controller.control&&!a){const W={slideRealIndex:e,direction:s,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(R=>{!R.destroyed&&R.params.loop&&R.loopFix({...W,slideTo:R.params.slidesPerView===g.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...W,slideTo:c.controller.control.params.slidesPerView===g.slidesPerView?n:!1})}c.emit("loopFix")}function ER(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const s=[];t.slides.forEach(i=>{const r=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;s[r]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),s.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var SR={loopCreate:wR,loopFix:bR,loopDestroy:ER};function _R(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function TR(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var xR={setGrabCursor:_R,unsetGrabCursor:TR};function CR(t,e){e===void 0&&(e=this);function n(s){if(!s||s===ln()||s===Ut())return null;s.assignedSlot&&(s=s.assignedSlot);const i=s.closest(t);return!i&&!s.getRootNode?null:i||n(s.getRootNode().host)}return n(e)}function tg(t,e,n){const s=Ut(),{params:i}=t,r=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return r&&(n<=o||n>=s.innerWidth-o)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function IR(t){const e=this,n=ln();let s=t;s.originalEvent&&(s=s.originalEvent);const i=e.touchEventsData;if(s.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==s.pointerId)return;i.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(i.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){tg(e,s,s.targetTouches[0].pageX);return}const{params:r,touches:o,enabled:a}=e;if(!a||!r.simulateTouch&&s.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let l=s.target;if(r.touchEventsTarget==="wrapper"&&!DP(l,e.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||i.isTouched&&i.isMoved)return;const c=!!r.noSwipingClass&&r.noSwipingClass!=="",u=s.composedPath?s.composedPath():s.path;c&&s.target&&s.target.shadowRoot&&u&&(l=u[0]);const d=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,f=!!(s.target&&s.target.shadowRoot);if(r.noSwiping&&(f?CR(d,l):l.closest(d))){e.allowClick=!0;return}if(r.swipeHandler&&!l.closest(r.swipeHandler))return;o.currentX=s.pageX,o.currentY=s.pageY;const h=o.currentX,g=o.currentY;if(!tg(e,s,h))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=h,o.startY=g,i.touchStartTime=rl(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(i.allowThresholdMove=!1);let v=!0;l.matches(i.focusableElements)&&(v=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&n.activeElement.blur();const k=v&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||k)&&!l.isContentEditable&&s.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function AR(t){const e=ln(),n=this,s=n.touchEventsData,{params:i,touches:r,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(s.touchId!==null||l.pointerId!==s.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(E=>E.identifier===s.touchId),!c||c.identifier!==s.touchId)return}else c=l;if(!s.isTouched){s.startMoving&&s.isScrolling&&n.emit("touchMoveOpposite",l);return}const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper){r.startX=u,r.startY=d;return}if(!n.allowTouchMove){l.target.matches(s.focusableElements)||(n.allowClick=!1),s.isTouched&&(Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d}),s.touchStartTime=rl());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(d<r.startY&&n.translate<=n.maxTranslate()||d>r.startY&&n.translate>=n.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else{if(o&&(u>r.startX&&-n.translate<=n.maxTranslate()||u<r.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(u<r.startX&&n.translate<=n.maxTranslate()||u>r.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(s.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(s.focusableElements)){s.isMoved=!0,n.allowClick=!1;return}s.allowTouchCallbacks&&n.emit("touchMove",l),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=u,r.currentY=d;const f=r.currentX-r.startX,h=r.currentY-r.startY;if(n.params.threshold&&Math.sqrt(f**2+h**2)<n.params.threshold)return;if(typeof s.isScrolling>"u"){let E;n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?s.isScrolling=!1:f*f+h*h>=25&&(E=Math.atan2(Math.abs(h),Math.abs(f))*180/Math.PI,s.isScrolling=n.isHorizontal()?E>i.touchAngle:90-E>i.touchAngle)}if(s.isScrolling&&n.emit("touchMoveOpposite",l),typeof s.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(s.startMoving=!0),s.isScrolling||l.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let g=n.isHorizontal()?f:h,v=n.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;i.oneWayMovement&&(g=Math.abs(g)*(o?1:-1),v=Math.abs(v)*(o?1:-1)),r.diff=g,g*=i.touchRatio,o&&(g=-g,v=-v);const k=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=v>0?"prev":"next";const _=n.params.loop&&!i.cssMode,m=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!s.isMoved){if(_&&m&&n.loopFix({direction:n.swipeDirection}),s.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(E)}s.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),i._loopSwapReset!==!1&&s.isMoved&&s.allowThresholdMove&&k!==n.touchesDirection&&_&&m&&Math.abs(g)>=1){Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}n.emit("sliderMove",l),s.isMoved=!0,s.currentTranslate=g+s.startTranslate;let p=!0,b=i.resistanceRatio;if(i.touchReleaseOnEdges&&(b=0),g>0?(_&&m&&s.allowThresholdMove&&s.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>n.minTranslate()&&(p=!1,i.resistance&&(s.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+s.startTranslate+g)**b))):g<0&&(_&&m&&s.allowThresholdMove&&s.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),s.currentTranslate<n.maxTranslate()&&(p=!1,i.resistance&&(s.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-s.startTranslate-g)**b))),p&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(s.currentTranslate=s.startTranslate),i.threshold>0)if(Math.abs(g)>i.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,s.currentTranslate=s.startTranslate,r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{s.currentTranslate=s.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(s.currentTranslate),n.setTranslate(s.currentTranslate))}function kR(t){const e=this,n=e.touchEventsData;let s=t;s.originalEvent&&(s=s.originalEvent);let i;if(s.type==="touchend"||s.type==="touchcancel"){if(i=[...s.changedTouches].find(E=>E.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||s.pointerId!==n.pointerId)return;i=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!o.simulateTouch&&s.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=rl(),f=d-n.touchStartTime;if(e.allowClick){const E=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(E&&E[0]||s.target,E),e.emit("tap click",s),f<300&&d-n.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(n.lastClickTime=rl(),nw(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(o.followFinger?h=l?e.translate:-e.translate:h=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}const g=h>=-e.maxTranslate()&&!e.params.loop;let v=0,k=e.slidesSizesGrid[0];for(let E=0;E<c.length;E+=E<o.slidesPerGroupSkip?1:o.slidesPerGroup){const C=E<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[E+C]<"u"?(g||h>=c[E]&&h<c[E+C])&&(v=E,k=c[E+C]-c[E]):(g||h>=c[E])&&(v=E,k=c[c.length-1]-c[c.length-2])}let _=null,m=null;o.rewind&&(e.isBeginning?m=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(_=0));const p=(h-c[v])/k,b=v<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(p>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?_:v+b):e.slideTo(v)),e.swipeDirection==="prev"&&(p>1-o.longSwipesRatio?e.slideTo(v+b):m!==null&&p<0&&Math.abs(p)>o.longSwipesRatio?e.slideTo(m):e.slideTo(v))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(v+b):e.slideTo(v):(e.swipeDirection==="next"&&e.slideTo(_!==null?_:v+b),e.swipeDirection==="prev"&&e.slideTo(m!==null?m:v))}}function ng(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:i,snapGrid:r}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=s,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}function PR(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function RR(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:s}=t;if(!s)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const r=t.maxTranslate()-t.minTranslate();r===0?i=0:i=(t.translate-t.minTranslate())/r,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function MR(t){const e=this;ba(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function OR(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const uw=(t,e)=>{const n=ln(),{params:s,el:i,wrapperEl:r,device:o}=t,a=!!s.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!i||typeof i=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&i[l]("click",t.onClick,!0),s.cssMode&&r[l]("scroll",t.onScroll),s.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",ng,!0):t[c]("observerUpdate",ng,!0),i[l]("load",t.onLoad,{capture:!0}))};function DR(){const t=this,{params:e}=t;t.onTouchStart=IR.bind(t),t.onTouchMove=AR.bind(t),t.onTouchEnd=kR.bind(t),t.onDocumentTouchStart=OR.bind(t),e.cssMode&&(t.onScroll=RR.bind(t)),t.onClick=PR.bind(t),t.onLoad=MR.bind(t),uw(t,"on")}function NR(){uw(this,"off")}var LR={attachEvents:DR,detachEvents:NR};const sg=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function FR(){const t=this,{realIndex:e,initialized:n,params:s,el:i}=t,r=s.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const o=ln(),a=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",l=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?t.el:o.querySelector(s.breakpointsBase),c=t.getBreakpoint(r,a,l);if(!c||t.currentBreakpoint===c)return;const d=(c in r?r[c]:void 0)||t.originalParams,f=sg(t,s),h=sg(t,d),g=t.params.grabCursor,v=d.grabCursor,k=s.enabled;f&&!h?(i.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!f&&h&&(i.classList.add(`${s.containerModifierClass}grid`),(d.grid.fill&&d.grid.fill==="column"||!d.grid.fill&&s.grid.fill==="column")&&i.classList.add(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),g&&!v?t.unsetGrabCursor():!g&&v&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(C=>{if(typeof d[C]>"u")return;const x=s[C]&&s[C].enabled,P=d[C]&&d[C].enabled;x&&!P&&t[C].disable(),!x&&P&&t[C].enable()});const _=d.direction&&d.direction!==s.direction,m=s.loop&&(d.slidesPerView!==s.slidesPerView||_),p=s.loop;_&&n&&t.changeDirection(),Yt(t.params,d);const b=t.params.enabled,E=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),k&&!b?t.disable():!k&&b&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",d),n&&(m?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!p&&E?(t.loopCreate(e),t.updateSlides()):p&&!E&&t.loopDestroy()),t.emit("breakpoint",d)}function $R(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let s=!1;const i=Ut(),r=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:r*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(s=l):c<=n.clientWidth&&(s=l)}return s||"max"}var VR={setBreakpoint:FR,getBreakpoint:$R};function BR(t,e){const n=[];return t.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(i=>{s[i]&&n.push(e+i)}):typeof s=="string"&&n.push(e+s)}),n}function UR(){const t=this,{classNames:e,params:n,rtl:s,el:i,device:r}=t,o=BR(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:s},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function jR(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var zR={addClasses:UR,removeClasses:jR};function HR(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:s}=n;if(s){const i=t.slides.length-1,r=t.slidesGrid[i]+t.slidesSizesGrid[i]+s*2;t.isLocked=t.size>r}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var qR={checkOverflow:HR},$u={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function GR(t,e){return function(s){s===void 0&&(s={});const i=Object.keys(s)[0],r=s[i];if(typeof r!="object"||r===null){Yt(e,s);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in r)){Yt(e,s);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Yt(e,s)}}const Vc={eventsEmitter:zP,update:eR,translate:oR,transition:uR,slide:yR,loop:SR,grabCursor:xR,events:LR,breakpoints:VR,checkOverflow:qR,classes:zR},Bc={};let _f=class Ln{constructor(){let e,n;for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=Yt({},n),e&&!n.el&&(n.el=e);const o=ln();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(d=>{const f=Yt({},n,{el:d});u.push(new Ln(f))}),u}const a=this;a.__swiper__=!0,a.support=ow(),a.device=aw({userAgent:n.userAgent}),a.browser=lw(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(u=>{u({params:n,swiper:a,extendParams:GR(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Yt({},$u,l);return a.params=Yt({},c,Bc,n),a.originalParams=Yt({},a.params),a.passedParams=Yt({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:s}=this,i=xn(n,`.${s.slideClass}, swiper-slide`),r=po(i[0]);return po(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:s}=e;e.slides=xn(n,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const s=this;e=Math.min(Math.max(e,0),1);const i=s.minTranslate(),o=(s.maxTranslate()-i)*e+i;s.translateTo(o,typeof n>"u"?0:n),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(s=>{const i=e.getSlideClasses(s);n.push({slideEl:s,classNames:i}),e.emit("_slideClass",s,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const s=this,{params:i,slides:r,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=s;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let d=r[c]?Math.ceil(r[c].swiperSlideSize):0,f;for(let h=c+1;h<r.length;h+=1)r[h]&&!f&&(d+=Math.ceil(r[h].swiperSlideSize),u+=1,d>l&&(f=!0));for(let h=c-1;h>=0;h-=1)r[h]&&!f&&(d+=r[h].swiperSlideSize,u+=1,d>l&&(f=!0))}else if(e==="current")for(let d=c+1;d<r.length;d+=1)(n?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&ba(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)i(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const o=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(o.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||i()}s.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const s=this,i=s.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${i}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),s.emit("changeDirection"),n&&s.update()),s}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let s=e||n.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=n,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(i()):xn(s,i())[0];return!o&&n.params.createElements&&(o=ho("div",n.params.wrapperClass),s.append(o),xn(s,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:s,wrapperEl:o,slidesEl:n.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:o,hostEl:n.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||bs(s,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||bs(s,"direction")==="rtl"),wrongRTL:bs(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(r=>{r.complete?ba(n,r):r.addEventListener("load",o=>{ba(n,o.target)})}),Fu(n),n.initialized=!0,Fu(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const s=this,{params:i,el:r,wrapperEl:o,slides:a}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),i.loop&&s.loopDestroy(),n&&(s.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(l=>{s.off(l)}),e!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),kP(s)),s.destroyed=!0),null}static extendDefaults(e){Yt(Bc,e)}static get extendedDefaults(){return Bc}static get defaults(){return $u}static installModule(e){Ln.prototype.__modules__||(Ln.prototype.__modules__=[]);const n=Ln.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Ln.installModule(n)),Ln):(Ln.installModule(e),Ln)}};Object.keys(Vc).forEach(t=>{Object.keys(Vc[t]).forEach(e=>{_f.prototype[e]=Vc[t][e]})});_f.use([UP,jP]);const dw=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ci(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Di(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:ci(e[s])&&ci(t[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?t[s]=e[s]:Di(t[s],e[s]):t[s]=e[s]})}function fw(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function hw(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function pw(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function gw(t){t===void 0&&(t="");const e=t.split(" ").map(s=>s.trim()).filter(s=>!!s),n=[];return e.forEach(s=>{n.indexOf(s)<0&&n.push(s)}),n.join(" ")}function WR(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function KR(t){let{swiper:e,slides:n,passedParams:s,changedParams:i,nextEl:r,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const c=i.filter(T=>T!=="children"&&T!=="direction"&&T!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:h,virtual:g,thumbs:v}=e;let k,_,m,p,b,E,C,x;i.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&!s.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(k=!0),i.includes("controller")&&s.controller&&s.controller.control&&u.controller&&!u.controller.control&&(_=!0),i.includes("pagination")&&s.pagination&&(s.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(m=!0),i.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&h&&!h.el&&(p=!0),i.includes("navigation")&&s.navigation&&(s.navigation.prevEl||o)&&(s.navigation.nextEl||r)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(b=!0);const P=T=>{e[T]&&(e[T].destroy(),T==="navigation"?(e.isElement&&(e[T].prevEl.remove(),e[T].nextEl.remove()),u[T].prevEl=void 0,u[T].nextEl=void 0,e[T].prevEl=void 0,e[T].nextEl=void 0):(e.isElement&&e[T].el.remove(),u[T].el=void 0,e[T].el=void 0))};i.includes("loop")&&e.isElement&&(u.loop&&!s.loop?E=!0:!u.loop&&s.loop?C=!0:x=!0),c.forEach(T=>{if(ci(u[T])&&ci(s[T]))Object.assign(u[T],s[T]),(T==="navigation"||T==="pagination"||T==="scrollbar")&&"enabled"in s[T]&&!s[T].enabled&&P(T);else{const I=s[T];(I===!0||I===!1)&&(T==="navigation"||T==="pagination"||T==="scrollbar")?I===!1&&P(T):u[T]=s[T]}}),c.includes("controller")&&!_&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),i.includes("children")&&n&&g&&u.virtual.enabled?(g.slides=n,g.update(!0)):i.includes("virtual")&&g&&u.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),i.includes("children")&&n&&u.loop&&(x=!0),k&&v.init()&&v.update(!0),_&&(e.controller.control=u.controller.control),m&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),p&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),h.init(),h.updateSize(),h.setTranslate()),b&&(e.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),go(r,e.hostEl.constructor.nextButtonSvg),r.part.add("button-next"),e.el.appendChild(r)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),go(o,e.hostEl.constructor.prevButtonSvg),o.part.add("button-prev"),e.el.appendChild(o))),r&&(u.navigation.nextEl=r),o&&(u.navigation.prevEl=o),f.init(),f.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),i.includes("direction")&&e.changeDirection(s.direction,!1),(E||x)&&e.loopDestroy(),(C||x)&&e.loopCreate(),e.update()}function ig(t,e){t===void 0&&(t={});const n={on:{}},s={},i={};Di(n,$u),n._emitClasses=!0,n.init=!1;const r={},o=dw.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?ci(t[l])?(n[l]={},i[l]={},Di(n[l],t[l]),Di(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:r[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:r,events:s}}function YR(t,e){let{el:n,nextEl:s,prevEl:i,paginationEl:r,scrollbarEl:o,swiper:a}=t;fw(e)&&s&&i&&(a.params.navigation.nextEl=s,a.originalParams.navigation.nextEl=s,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),hw(e)&&r&&(a.params.pagination.el=r,a.originalParams.pagination.el=r),pw(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function QR(t,e,n,s,i){const r=[];if(!e)return r;const o=l=>{r.indexOf(l)<0&&r.push(l)};if(n&&s){const l=s.map(i),c=n.map(i);l.join("")!==c.join("")&&o("children"),s.length!==n.length&&o("children")}return dw.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(ci(t[l])&&ci(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}),u.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}))}else t[l]!==e[l]&&o(l)}),r}const XR=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Uc(t,e,n){t===void 0&&(t={});const s=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},r=(o,a)=>{Array.isArray(o)&&o.forEach(l=>{const c=typeof l.type=="symbol";a==="default"&&(a="container-end"),c&&l.children?r(l.children,a):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")||l.componentOptions&&l.componentOptions.tag==="SwiperSlide"?s.push(l):i[a]&&i[a].push(l)})};return Object.keys(t).forEach(o=>{if(typeof t[o]!="function")return;const a=t[o]();r(a,o)}),n.value=e.value,e.value=s,{slides:s,slots:i}}function JR(t,e,n){if(!n)return null;const s=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},i=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:r,to:o}=n,a=t.value.params.loop?-e.length:0,l=t.value.params.loop?e.length*2:e.length,c=[];for(let u=a;u<l;u+=1)u>=r&&u<=o&&c.length<e.length&&c.push(e[s(u)]);return c.map(u=>{if(u.props||(u.props={}),u.props.style||(u.props.style={}),u.props.swiperRef=t,u.props.style=i,u.type)return Qe(u.type,{...u.props},u.children);if(u.componentOptions)return Qe(u.componentOptions.Ctor,{...u.props},u.componentOptions.children)})}const ZR={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},loopAdditionalSlides:{type:Number,default:void 0},loopAddBlankSlides:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","_virtualUpdated","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:n,emit:s}=e;const{tag:i,wrapperTag:r}=t,o=J("swiper"),a=J(null),l=J(!1),c=J(!1),u=J(null),d=J(null),f=J(null),h={value:[]},g={value:[]},v=J(null),k=J(null),_=J(null),m=J(null),{params:p,passedParams:b}=ig(t);Uc(n,h,g),f.value=b,g.value=h.value;const E=()=>{Uc(n,h,g),l.value=!0};p.onAny=function(P){for(var T=arguments.length,I=new Array(T>1?T-1:0),M=1;M<T;M++)I[M-1]=arguments[M];s(P,...I)},Object.assign(p.on,{_beforeBreakpoint:E,_containerClasses(P,T){o.value=T}});const C={...p};if(delete C.wrapperClass,d.value=new _f(C),d.value.virtual&&d.value.params.virtual.enabled){d.value.virtual.slides=h.value;const P={cache:!1,slides:h.value,renderExternal:T=>{a.value=T},renderExternalUpdate:!1};Di(d.value.params.virtual,P),Di(d.value.originalParams.virtual,P)}bo(()=>{!c.value&&d.value&&(d.value.emitSlidesClasses(),c.value=!0);const{passedParams:P}=ig(t),T=QR(P,f.value,h.value,g.value,I=>I.props&&I.props.key);f.value=P,(T.length||l.value)&&d.value&&!d.value.destroyed&&KR({swiper:d.value,slides:h.value,passedParams:P,changedParams:T,nextEl:v.value,prevEl:k.value,scrollbarEl:m.value,paginationEl:_.value}),l.value=!1}),_s("swiper",d),Qt(a,()=>{yo(()=>{XR(d.value)})}),mn(()=>{u.value&&(YR({el:u.value,nextEl:v.value,prevEl:k.value,paginationEl:_.value,scrollbarEl:m.value,swiper:d.value},p),s("swiper",d.value))}),ui(()=>{d.value&&!d.value.destroyed&&d.value.destroy(!0,!1)});function x(P){return p.virtual?JR(d,P,a.value):(P.forEach((T,I)=>{T.props||(T.props={}),T.props.swiperRef=d,T.props.swiperSlideIndex=I}),P)}return()=>{const{slides:P,slots:T}=Uc(n,h,g);return Qe(i,{ref:u,class:gw(o.value)},[T["container-start"],Qe(r,{class:WR(p.wrapperClass)},[T["wrapper-start"],x(P),T["wrapper-end"]]),fw(t)&&[Qe("div",{ref:k,class:"swiper-button-prev"}),Qe("div",{ref:v,class:"swiper-button-next"})],pw(t)&&Qe("div",{ref:m,class:"swiper-scrollbar"}),hw(t)&&Qe("div",{ref:_,class:"swiper-pagination"}),T["container-end"]])}}},eM={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:n}=e,s=!1;const{swiperRef:i}=t,r=J(null),o=J("swiper-slide"),a=J(!1);function l(d,f,h){f===r.value&&(o.value=h)}mn(()=>{!i||!i.value||(i.value.on("_slideClass",l),s=!0)}),Wg(()=>{s||!i||!i.value||(i.value.on("_slideClass",l),s=!0)}),bo(()=>{!r.value||!i||!i.value||(typeof t.swiperSlideIndex<"u"&&(r.value.swiperSlideIndex=t.swiperSlideIndex),i.value.destroyed&&o.value!=="swiper-slide"&&(o.value="swiper-slide"))}),ui(()=>{!i||!i.value||i.value.off("_slideClass",l)});const c=he(()=>({isActive:o.value.indexOf("swiper-slide-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0}));_s("swiperSlide",c);const u=()=>{a.value=!0};return()=>Qe(t.tag,{class:gw(`${o.value}`),ref:r,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&i&&i.value&&i.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:u},t.zoom?Qe("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[n.default&&n.default(c.value),t.lazy&&!a.value&&Qe("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(c.value),t.lazy&&!a.value&&Qe("div",{class:"swiper-lazy-preloader"})])}};function tM(t,e,n,s){return t.params.createElements&&Object.keys(s).forEach(i=>{if(!n[i]&&n.auto===!0){let r=xn(t.el,`.${s[i]}`)[0];r||(r=ho("div",s[i]),r.className=s[i],t.el.append(r)),n[i]=r,e[i]=r}}),n}function vs(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function nM(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:m=>m,formatFractionTotal:m=>m,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(m,p){const{bulletActiveClass:b}=e.params.pagination;m&&(m=m[`${p==="prev"?"previous":"next"}ElementSibling`],m&&(m.classList.add(`${b}-${p}`),m=m[`${p==="prev"?"previous":"next"}ElementSibling`],m&&m.classList.add(`${b}-${p}-${p}`)))}function u(m,p,b){if(m=m%b,p=p%b,p===m+1)return"next";if(p===m-1)return"previous"}function d(m){const p=m.target.closest(vs(e.params.pagination.bulletClass));if(!p)return;m.preventDefault();const b=po(p)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===b)return;const E=u(e.realIndex,b,e.slides.length);E==="next"?e.slideNext():E==="previous"?e.slidePrev():e.slideToLoop(b)}else e.slideTo(b)}function f(){const m=e.rtl,p=e.params.pagination;if(l())return;let b=e.pagination.el;b=Ue(b);let E,C;const x=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,P=e.params.loop?Math.ceil(x/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(C=e.previousRealIndex||0,E=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(E=e.snapIndex,C=e.previousSnapIndex):(C=e.previousIndex||0,E=e.activeIndex||0),p.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const T=e.pagination.bullets;let I,M,D;if(p.dynamicBullets&&(o=Lu(T[0],e.isHorizontal()?"width":"height"),b.forEach(z=>{z.style[e.isHorizontal()?"width":"height"]=`${o*(p.dynamicMainBullets+4)}px`}),p.dynamicMainBullets>1&&C!==void 0&&(a+=E-(C||0),a>p.dynamicMainBullets-1?a=p.dynamicMainBullets-1:a<0&&(a=0)),I=Math.max(E-a,0),M=I+(Math.min(T.length,p.dynamicMainBullets)-1),D=(M+I)/2),T.forEach(z=>{const oe=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(re=>`${p.bulletActiveClass}${re}`)].map(re=>typeof re=="string"&&re.includes(" ")?re.split(" "):re).flat();z.classList.remove(...oe)}),b.length>1)T.forEach(z=>{const oe=po(z);oe===E?z.classList.add(...p.bulletActiveClass.split(" ")):e.isElement&&z.setAttribute("part","bullet"),p.dynamicBullets&&(oe>=I&&oe<=M&&z.classList.add(...`${p.bulletActiveClass}-main`.split(" ")),oe===I&&c(z,"prev"),oe===M&&c(z,"next"))});else{const z=T[E];if(z&&z.classList.add(...p.bulletActiveClass.split(" ")),e.isElement&&T.forEach((oe,re)=>{oe.setAttribute("part",re===E?"bullet-active":"bullet")}),p.dynamicBullets){const oe=T[I],re=T[M];for(let W=I;W<=M;W+=1)T[W]&&T[W].classList.add(...`${p.bulletActiveClass}-main`.split(" "));c(oe,"prev"),c(re,"next")}}if(p.dynamicBullets){const z=Math.min(T.length,p.dynamicMainBullets+4),oe=(o*z-o)/2-D*o,re=m?"right":"left";T.forEach(W=>{W.style[e.isHorizontal()?re:"top"]=`${oe}px`})}}b.forEach((T,I)=>{if(p.type==="fraction"&&(T.querySelectorAll(vs(p.currentClass)).forEach(M=>{M.textContent=p.formatFractionCurrent(E+1)}),T.querySelectorAll(vs(p.totalClass)).forEach(M=>{M.textContent=p.formatFractionTotal(P)})),p.type==="progressbar"){let M;p.progressbarOpposite?M=e.isHorizontal()?"vertical":"horizontal":M=e.isHorizontal()?"horizontal":"vertical";const D=(E+1)/P;let z=1,oe=1;M==="horizontal"?z=D:oe=D,T.querySelectorAll(vs(p.progressbarFillClass)).forEach(re=>{re.style.transform=`translate3d(0,0,0) scaleX(${z}) scaleY(${oe})`,re.style.transitionDuration=`${e.params.speed}ms`})}p.type==="custom"&&p.renderCustom?(go(T,p.renderCustom(e,E+1,P)),I===0&&i("paginationRender",T)):(I===0&&i("paginationRender",T),i("paginationUpdate",T)),e.params.watchOverflow&&e.enabled&&T.classList[e.isLocked?"add":"remove"](p.lockClass)})}function h(){const m=e.params.pagination;if(l())return;const p=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let b=e.pagination.el;b=Ue(b);let E="";if(m.type==="bullets"){let C=e.params.loop?Math.ceil(p/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&C>p&&(C=p);for(let x=0;x<C;x+=1)m.renderBullet?E+=m.renderBullet.call(e,x,m.bulletClass):E+=`<${m.bulletElement} ${e.isElement?'part="bullet"':""} class="${m.bulletClass}"></${m.bulletElement}>`}m.type==="fraction"&&(m.renderFraction?E=m.renderFraction.call(e,m.currentClass,m.totalClass):E=`<span class="${m.currentClass}"></span> / <span class="${m.totalClass}"></span>`),m.type==="progressbar"&&(m.renderProgressbar?E=m.renderProgressbar.call(e,m.progressbarFillClass):E=`<span class="${m.progressbarFillClass}"></span>`),e.pagination.bullets=[],b.forEach(C=>{m.type!=="custom"&&go(C,E||""),m.type==="bullets"&&e.pagination.bullets.push(...C.querySelectorAll(vs(m.bulletClass)))}),m.type!=="custom"&&i("paginationRender",b[0])}function g(){e.params.pagination=tM(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const m=e.params.pagination;if(!m.el)return;let p;typeof m.el=="string"&&e.isElement&&(p=e.el.querySelector(m.el)),!p&&typeof m.el=="string"&&(p=[...document.querySelectorAll(m.el)]),p||(p=m.el),!(!p||p.length===0)&&(e.params.uniqueNavElements&&typeof m.el=="string"&&Array.isArray(p)&&p.length>1&&(p=[...e.el.querySelectorAll(m.el)],p.length>1&&(p=p.find(b=>rw(b,".swiper")[0]===e.el))),Array.isArray(p)&&p.length===1&&(p=p[0]),Object.assign(e.pagination,{el:p}),p=Ue(p),p.forEach(b=>{m.type==="bullets"&&m.clickable&&b.classList.add(...(m.clickableClass||"").split(" ")),b.classList.add(m.modifierClass+m.type),b.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.type==="bullets"&&m.dynamicBullets&&(b.classList.add(`${m.modifierClass}${m.type}-dynamic`),a=0,m.dynamicMainBullets<1&&(m.dynamicMainBullets=1)),m.type==="progressbar"&&m.progressbarOpposite&&b.classList.add(m.progressbarOppositeClass),m.clickable&&b.addEventListener("click",d),e.enabled||b.classList.add(m.lockClass)}))}function v(){const m=e.params.pagination;if(l())return;let p=e.pagination.el;p&&(p=Ue(p),p.forEach(b=>{b.classList.remove(m.hiddenClass),b.classList.remove(m.modifierClass+m.type),b.classList.remove(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.clickable&&(b.classList.remove(...(m.clickableClass||"").split(" ")),b.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(b=>b.classList.remove(...m.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const m=e.params.pagination;let{el:p}=e.pagination;p=Ue(p),p.forEach(b=>{b.classList.remove(m.horizontalClass,m.verticalClass),b.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass)})}),s("init",()=>{e.params.pagination.enabled===!1?_():(g(),h(),f())}),s("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),s("snapIndexChange",()=>{f()}),s("snapGridLengthChange",()=>{h(),f()}),s("destroy",()=>{v()}),s("enable disable",()=>{let{el:m}=e.pagination;m&&(m=Ue(m),m.forEach(p=>p.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),s("lock unlock",()=>{f()}),s("click",(m,p)=>{const b=p.target,E=Ue(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&E&&E.length>0&&!b.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&b===e.navigation.nextEl||e.navigation.prevEl&&b===e.navigation.prevEl))return;const C=E[0].classList.contains(e.params.pagination.hiddenClass);i(C===!0?"paginationShow":"paginationHide"),E.forEach(x=>x.classList.toggle(e.params.pagination.hiddenClass))}});const k=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=Ue(m),m.forEach(p=>p.classList.remove(e.params.pagination.paginationDisabledClass))),g(),h(),f()},_=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=Ue(m),m.forEach(p=>p.classList.add(e.params.pagination.paginationDisabledClass))),v()};Object.assign(e.pagination,{enable:k,disable:_,render:h,update:f,init:g,destroy:v})}function sM(t){let{swiper:e,extendParams:n,on:s}=t;n({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),e.a11y={clicked:!1};let i=null,r,o,a=new Date().getTime();function l(R){const O=i;O.length!==0&&go(O,R)}function c(R){const O=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(R).replace(/x/g,O)}function u(R){R=Ue(R),R.forEach(O=>{O.setAttribute("tabIndex","0")})}function d(R){R=Ue(R),R.forEach(O=>{O.setAttribute("tabIndex","-1")})}function f(R,O){R=Ue(R),R.forEach(Z=>{Z.setAttribute("role",O)})}function h(R,O){R=Ue(R),R.forEach(Z=>{Z.setAttribute("aria-roledescription",O)})}function g(R,O){R=Ue(R),R.forEach(Z=>{Z.setAttribute("aria-controls",O)})}function v(R,O){R=Ue(R),R.forEach(Z=>{Z.setAttribute("aria-label",O)})}function k(R,O){R=Ue(R),R.forEach(Z=>{Z.setAttribute("id",O)})}function _(R,O){R=Ue(R),R.forEach(Z=>{Z.setAttribute("aria-live",O)})}function m(R){R=Ue(R),R.forEach(O=>{O.setAttribute("aria-disabled",!0)})}function p(R){R=Ue(R),R.forEach(O=>{O.setAttribute("aria-disabled",!1)})}function b(R){if(R.keyCode!==13&&R.keyCode!==32)return;const O=e.params.a11y,Z=R.target;if(!(e.pagination&&e.pagination.el&&(Z===e.pagination.el||e.pagination.el.contains(R.target))&&!R.target.matches(vs(e.params.pagination.bulletClass)))){if(e.navigation&&e.navigation.prevEl&&e.navigation.nextEl){const ve=Ue(e.navigation.prevEl);Ue(e.navigation.nextEl).includes(Z)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?l(O.lastSlideMessage):l(O.nextSlideMessage)),ve.includes(Z)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?l(O.firstSlideMessage):l(O.prevSlideMessage))}e.pagination&&Z.matches(vs(e.params.pagination.bulletClass))&&Z.click()}}function E(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:R,prevEl:O}=e.navigation;O&&(e.isBeginning?(m(O),d(O)):(p(O),u(O))),R&&(e.isEnd?(m(R),d(R)):(p(R),u(R)))}function C(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function x(){return C()&&e.params.pagination.clickable}function P(){const R=e.params.a11y;C()&&e.pagination.bullets.forEach(O=>{e.params.pagination.clickable&&(u(O),e.params.pagination.renderBullet||(f(O,"button"),v(O,R.paginationBulletMessage.replace(/\{\{index\}\}/,po(O)+1)))),O.matches(vs(e.params.pagination.bulletActiveClass))?O.setAttribute("aria-current","true"):O.removeAttribute("aria-current")})}const T=(R,O,Z)=>{u(R),R.tagName!=="BUTTON"&&(f(R,"button"),R.addEventListener("keydown",b)),v(R,Z),g(R,O)},I=R=>{o&&o!==R.target&&!o.contains(R.target)&&(r=!0),e.a11y.clicked=!0},M=()=>{r=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},D=R=>{a=new Date().getTime()},z=R=>{if(e.a11y.clicked||!e.params.a11y.scrollOnFocus||new Date().getTime()-a<100)return;const O=R.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!O||!e.slides.includes(O))return;o=O;const Z=e.slides.indexOf(O)===e.activeIndex,ve=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(O);Z||ve||R.sourceCapabilities&&R.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,requestAnimationFrame(()=>{r||(e.params.loop?e.slideToLoop(e.getSlideIndexWhenGrid(parseInt(O.getAttribute("data-swiper-slide-index"))),0):e.slideTo(e.getSlideIndexWhenGrid(e.slides.indexOf(O)),0),r=!1)}))},oe=()=>{const R=e.params.a11y;R.itemRoleDescriptionMessage&&h(e.slides,R.itemRoleDescriptionMessage),R.slideRole&&f(e.slides,R.slideRole);const O=e.slides.length;R.slideLabelMessage&&e.slides.forEach((Z,ve)=>{const Le=e.params.loop?parseInt(Z.getAttribute("data-swiper-slide-index"),10):ve,Ae=R.slideLabelMessage.replace(/\{\{index\}\}/,Le+1).replace(/\{\{slidesLength\}\}/,O);v(Z,Ae)})},re=()=>{const R=e.params.a11y;e.el.append(i);const O=e.el;R.containerRoleDescriptionMessage&&h(O,R.containerRoleDescriptionMessage),R.containerMessage&&v(O,R.containerMessage),R.containerRole&&f(O,R.containerRole);const Z=e.wrapperEl,ve=R.id||Z.getAttribute("id")||`swiper-wrapper-${c(16)}`,Le=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";k(Z,ve),_(Z,Le),oe();let{nextEl:Ae,prevEl:jt}=e.navigation?e.navigation:{};Ae=Ue(Ae),jt=Ue(jt),Ae&&Ae.forEach(zt=>T(zt,ve,R.nextSlideMessage)),jt&&jt.forEach(zt=>T(zt,ve,R.prevSlideMessage)),x()&&Ue(e.pagination.el).forEach(mt=>{mt.addEventListener("keydown",b)}),ln().addEventListener("visibilitychange",D),e.el.addEventListener("focus",z,!0),e.el.addEventListener("focus",z,!0),e.el.addEventListener("pointerdown",I,!0),e.el.addEventListener("pointerup",M,!0)};function W(){i&&i.remove();let{nextEl:R,prevEl:O}=e.navigation?e.navigation:{};R=Ue(R),O=Ue(O),R&&R.forEach(ve=>ve.removeEventListener("keydown",b)),O&&O.forEach(ve=>ve.removeEventListener("keydown",b)),x()&&Ue(e.pagination.el).forEach(Le=>{Le.removeEventListener("keydown",b)}),ln().removeEventListener("visibilitychange",D),e.el&&typeof e.el!="string"&&(e.el.removeEventListener("focus",z,!0),e.el.removeEventListener("pointerdown",I,!0),e.el.removeEventListener("pointerup",M,!0))}s("beforeInit",()=>{i=ho("span",e.params.a11y.notificationClass),i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true")}),s("afterInit",()=>{e.params.a11y.enabled&&re()}),s("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&oe()}),s("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&E()}),s("paginationUpdate",()=>{e.params.a11y.enabled&&P()}),s("destroy",()=>{e.params.a11y.enabled&&W()})}function iM(t){let{swiper:e,extendParams:n,on:s,emit:i,params:r}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,l=r&&r.autoplay?r.autoplay.delay:3e3,c=r&&r.autoplay?r.autoplay.delay:3e3,u,d=new Date().getTime(),f,h,g,v,k,_,m;function p(O){!e||e.destroyed||!e.wrapperEl||O.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",p),!(m||O.detail&&O.detail.bySwiperTouchMove)&&I())}const b=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(c=u,f=!1);const O=e.autoplay.paused?u:d+c-new Date().getTime();e.autoplay.timeLeft=O,i("autoplayTimeLeft",O,O/l),a=requestAnimationFrame(()=>{b()})},E=()=>{let O;return e.virtual&&e.params.virtual.enabled?O=e.slides.find(ve=>ve.classList.contains("swiper-slide-active")):O=e.slides[e.activeIndex],O?parseInt(O.getAttribute("data-swiper-autoplay"),10):void 0},C=O=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),b();let Z=typeof O>"u"?e.params.autoplay.delay:O;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const ve=E();!Number.isNaN(ve)&&ve>0&&typeof O>"u"&&(Z=ve,l=ve,c=ve),u=Z;const Le=e.params.speed,Ae=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(Le,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,Le,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(Le,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,Le,!0,!0),i("autoplay")),e.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{C()})))};return Z>0?(clearTimeout(o),o=setTimeout(()=>{Ae()},Z)):requestAnimationFrame(()=>{Ae()}),Z},x=()=>{d=new Date().getTime(),e.autoplay.running=!0,C(),i("autoplayStart")},P=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),i("autoplayStop")},T=(O,Z)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),O||(_=!0);const ve=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",p):I()};if(e.autoplay.paused=!0,Z){k&&(u=e.params.autoplay.delay),k=!1,ve();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-d),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),ve())},I=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(d=new Date().getTime(),_?(_=!1,C(u)):C(),e.autoplay.paused=!1,i("autoplayResume"))},M=()=>{if(e.destroyed||!e.autoplay.running)return;const O=ln();O.visibilityState==="hidden"&&(_=!0,T(!0)),O.visibilityState==="visible"&&I()},D=O=>{O.pointerType==="mouse"&&(_=!0,m=!0,!(e.animating||e.autoplay.paused)&&T(!0))},z=O=>{O.pointerType==="mouse"&&(m=!1,e.autoplay.paused&&I())},oe=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",D),e.el.addEventListener("pointerleave",z))},re=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",D),e.el.removeEventListener("pointerleave",z))},W=()=>{ln().addEventListener("visibilitychange",M)},R=()=>{ln().removeEventListener("visibilitychange",M)};s("init",()=>{e.params.autoplay.enabled&&(oe(),W(),x())}),s("destroy",()=>{re(),R(),e.autoplay.running&&P()}),s("_freeModeStaticRelease",()=>{(g||_)&&I()}),s("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?P():T(!0,!0)}),s("beforeTransitionStart",(O,Z,ve)=>{e.destroyed||!e.autoplay.running||(ve||!e.params.autoplay.disableOnInteraction?T(!0,!0):P())}),s("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){P();return}h=!0,g=!1,_=!1,v=setTimeout(()=>{_=!0,g=!0,T(!0)},200)}}),s("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!h)){if(clearTimeout(v),clearTimeout(o),e.params.autoplay.disableOnInteraction){g=!1,h=!1;return}g&&e.params.cssMode&&I(),g=!1,h=!1}}),s("slideChange",()=>{e.destroyed||!e.autoplay.running||(k=!0)}),Object.assign(e.autoplay,{start:x,stop:P,pause:T,resume:I})}function rM(t){const{effect:e,swiper:n,on:s,setTranslate:i,setTransition:r,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=t;s("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),a&&a()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const d=o?o():{};Object.assign(n.params,d),Object.assign(n.originalParams,d)}),s("setTranslate _virtualUpdated",()=>{n.params.effect===e&&i()}),s("setTransition",(d,f)=>{n.params.effect===e&&r(f)}),s("transitionEnd",()=>{if(n.params.effect===e&&l){if(!c||!c().slideShadows)return;n.slides.forEach(d=>{d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>f.remove())}),l()}});let u;s("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(u=!0),requestAnimationFrame(()=>{u&&n.slides&&n.slides.length&&(i(),u=!1)}))})}function oM(t,e){const n=iw(e);return n!==e&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function aM(t){let{swiper:e,duration:n,transformElements:s}=t;const{activeIndex:i}=e;if(e.params.virtualTranslate&&n!==0){let r=!1,o;o=s,o.forEach(a=>{FP(a,()=>{if(r||!e||e.destroyed)return;r=!0,e.animating=!1;const l=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(l)})})}}function lM(t){let{swiper:e,extendParams:n,on:s}=t;n({fadeEffect:{crossFade:!1}}),rM({effect:"fade",swiper:e,on:s,setTranslate:()=>{const{slides:o}=e,a=e.params.fadeEffect;for(let l=0;l<o.length;l+=1){const c=e.slides[l];let d=-c.swiperSlideOffset;e.params.virtualTranslate||(d-=e.translate);let f=0;e.isHorizontal()||(f=d,d=0);const h=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),g=oM(a,c);g.style.opacity=h,g.style.transform=`translate3d(${d}px, ${f}px, 0px)`}},setTransition:o=>{const a=e.slides.map(l=>iw(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`}),aM({swiper:e,duration:o,transformElements:a})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}const cM={class:"pt-28 bg-gray-50"},uM={class:"max-w-7xl mx-auto px-4 py-16"},dM={class:"best-products-grid grid grid-cols-1 md:grid-cols-3 items-center gap-6"},fM={class:"px-2 md:px-0"},hM={key:0,class:"text-left space-y-4"},pM={class:"mt-4 flex items-center gap-3"},gM={class:"stars","aria-hidden":"true"},mM={class:"hidden md:flex items-center justify-center pointer-events-none"},vM={key:0,class:"divider-vertical","aria-hidden":"true"},yM={class:"px-2 md:px-0"},wM=["onClick","onKeydown","aria-label"],bM={class:"w-full h-64 sm:h-80 md:h-[420px] rounded-lg overflow-hidden shadow-lg relative"},EM=["src","alt"],SM={class:"absolute inset-0 overlay flex items-end p-3 sm:p-5"},_M={class:"overlay-content w-full flex items-end justify-between gap-3"},TM={class:"text-left"},xM={class:"text-white font-semibold text-base sm:text-lg leading-tight"},CM={class:"text-sm text-gray-100/90 mt-1"},IM={class:"actions flex items-center gap-2"},AM=["onClick","aria-label"],kM=["onClick","aria-label"],rg="cart_v1",PM={__name:"HomeView",setup(t){const e=_o(),n=["7","8","9","10"],s=Array.isArray(Qi)?n.map(E=>{const C=Qi.find(P=>String(P.id)===String(E));if(!C)return null;const x=String(C.image??"").split("/").pop()||`${C.id}.jpg`;return{...C,id:String(C.id),image:`products/${x}`}}).filter(Boolean):[],i=J(!1),r=J(null);let o=null;const a=J([]);function l(){try{const E=localStorage.getItem(rg);a.value=E?JSON.parse(E)||[]:[]}catch(E){console.error("Error cargando carrito local:",E),a.value=[]}}function c(){try{localStorage.setItem(rg,JSON.stringify(a.value))}catch(E){console.error("Error guardando carrito local:",E)}}function u(E=[],C=[]){const x=new Map;for(const P of C)x.set(P.id,{...P});for(const P of E)x.has(P.id)?x.get(P.id).qty=(Number(x.get(P.id).qty)||0)+(Number(P.qty)||1):x.set(P.id,{...P});return Array.from(x.values())}async function d(E){try{const C=el(nl,"carts",E),x=await G0(C);if(!x.exists())return[];const P=x.data();return Array.isArray(P.items)?P.items:[]}catch(C){return console.error("Error leyendo carrito servidor:",C),[]}}async function f(E,C){try{const x=el(nl,"carts",E);await W0(x,{items:C,updatedAt:K0()},{merge:!0})}catch(x){console.error("Error guardando carrito en servidor:",x)}}let h=null;async function g(E){if(!E||!E.uid)return;const C=E.uid,x=await d(C),P=u(a.value,x);await f(C,P),a.value=P,c(),console.info("Carrito sincronizado: local -> server (merged).")}async function v(){const E=Ds.currentUser;!E||!E.uid||await f(E.uid,a.value)}mn(()=>{r.value?(o=new IntersectionObserver(([E])=>{E.isIntersecting&&(i.value=!0,o&&o.disconnect())},{threshold:.35}),o.observe(r.value)):i.value=!0,l(),h=LT(Ds,async E=>{E?await g(E):console.info("Usuario no autenticado, usando carrito local.")})}),ui(()=>{o&&o.disconnect(),h&&h()});function k(E){try{if(!E||!E.id){console.warn("Producto invlido al intentar agregar al carrito:",E);return}const C=a.value.findIndex(x=>x.id===E.id);C>=0?a.value[C].qty=(Number(a.value[C].qty)||0)+1:a.value.push({id:E.id,name:E.name,price:Number(E.price)||0,qty:1,image:E.image||null}),c(),v().catch(x=>{console.warn("No se pudo guardar carrito en servidorADC:",x)}),console.log("Aadido al carrito:",E.name,"Carrito ahora:",a.value)}catch(C){console.error("Error en addToCart:",C)}}function _(){e.push({name:"products"})}function m(){console.log("Contactar ventas")}function p(E){return(E==null?void 0:E.id)??(E==null?void 0:E.productId)??(E==null?void 0:E._id)??(E==null?void 0:E.sku)??null}function b(E){const C=typeof E=="string"||typeof E=="number"?String(E).trim():p(E)??"";if(!C){console.warn("goToProduct: id invlido",E);return}e.push(`/product/${encodeURIComponent(C)}`).catch(()=>{})}return(E,C)=>(X(),te(et,null,[we(Mk),w("main",cM,[w("section",uM,[C[0]||(C[0]=w("h1",{class:"text-3xl font-bold text-center mb-10 text-gray-800"}," Catlogo de Productos ",-1)),we(ew)]),w("section",{id:"recommended-products",ref_key:"revealSection",ref:r,class:"max-w-7xl mx-auto px-4 py-16 animated-border-section"},[C[9]||(C[9]=w("span",{class:"border-side side-top","aria-hidden":"true"},null,-1)),C[10]||(C[10]=w("span",{class:"border-side side-right","aria-hidden":"true"},null,-1)),C[11]||(C[11]=w("span",{class:"border-side side-bottom","aria-hidden":"true"},null,-1)),C[12]||(C[12]=w("span",{class:"border-side side-left","aria-hidden":"true"},null,-1)),w("div",dM,[w("div",fM,[we(Qs,{name:"fade-slide-left"},{default:Pe(()=>[i.value?(X(),te("div",hM,[C[3]||(C[3]=w("div",{class:"inline-flex items-center gap-3"},[w("span",{class:"badge"},"Top picks"),w("div",{class:"text-xs text-gray-500"},"Curados para ti")],-1)),C[4]||(C[4]=w("h2",{class:"text-3xl sm:text-4xl font-extrabold text-gray-800 leading-tight"}," Los mejores productos a un solo click ",-1)),C[5]||(C[5]=w("div",{class:"mt-3 text-gray-600"}," Seleccionados cuidadosamente para darte calidad y estilo al instante. ",-1)),C[6]||(C[6]=w("ul",{class:"mt-4 space-y-2 text-sm text-gray-600"},[w("li",null," Envo rpido 2448h"),w("li",null," Garanta de devolucin 14 das"),w("li",null," Pagos seguros")],-1)),w("div",{class:"mt-4 flex flex-wrap items-center gap-3"},[w("button",{class:"btn-primary",onClick:_,"aria-label":"Ver catlogo"}," Ver coleccin "),w("button",{class:"btn-ghost",onClick:m,"aria-label":"Contactar ventas"}," Hablar con ventas ")]),w("div",pM,[w("div",gM,[(X(),te(et,null,qn(5,x=>w("svg",{key:x,class:"star",viewBox:"0 0 24 24",width:"16",height:"16"},C[1]||(C[1]=[w("path",{d:"M12 .587l3.668 7.431L23.6 9.75l-5.8 5.65L19.5 24 12 19.897 4.5 24l1.7-8.6L0.4 9.75l7.932-1.732z"},null,-1)]))),64))]),C[2]||(C[2]=w("div",{class:"text-sm text-gray-500"},"4.8  1,245 reseas",-1))])])):Ve("",!0)]),_:1})]),w("div",mM,[we(Qs,{name:"fade"},{default:Pe(()=>[i.value?(X(),te("div",vM,C[7]||(C[7]=[w("div",{class:"line"},[w("span",{class:"dot dot-top","aria-hidden":"true"}),w("span",{class:"dot dot-middle","aria-hidden":"true"}),w("span",{class:"dot dot-bottom","aria-hidden":"true"})],-1)]))):Ve("",!0)]),_:1})]),w("div",yM,[we(ot(ZR),{modules:[ot(iM),ot(lM),ot(nM),ot(sM)],effect:"fade",fadeEffect:{crossFade:!0},autoplay:{delay:4500,disableOnInteraction:!1,pauseOnMouseEnter:!0},pagination:{clickable:!0},loop:!0,class:"w-full"},{default:Pe(()=>[(X(!0),te(et,null,qn(ot(s),x=>(X(),ys(ot(eM),{key:x.id,class:"relative rounded-lg overflow-hidden product-card"},{default:Pe(()=>[w("div",{class:"w-full h-full cursor-pointer",role:"link",tabindex:"0",onClick:P=>b(p(x)),onKeydown:xm(Xs(P=>b(p(x)),["prevent"]),["enter"]),"aria-label":`Ver detalles de ${x.name}`},[w("div",bM,[w("img",{src:x.image,alt:x.name,loading:"lazy",class:"w-full h-full object-cover object-center product-image"},null,8,EM),w("div",SM,[w("div",_M,[w("div",TM,[w("div",xM,We(x.name),1),w("div",CM,"S/. "+We(x.price),1)]),w("div",IM,[w("button",{class:"icon-btn",onClick:Xs(P=>b(p(x)),["stop"]),"aria-label":`Vista rpida ${x.name}`},C[8]||(C[8]=[w("svg",{width:"18",height:"18",viewBox:"0 0 24 24"},[w("path",{fill:"currentColor",d:"M12 5C7 5 2.7 8.11 1 12c1.7 3.89 6 7 11 7s9.3-3.11 11-7c-1.7-3.89-6-7-11-7zm0 12a5 5 0 110-10 5 5 0 010 10z"})],-1)]),8,AM),w("button",{class:"btn-small",onClick:Xs(P=>k(x),["stop"]),"aria-label":`Aadir ${x.name} al carrito`}," Comprar ",8,kM)])])])])],40,wM)]),_:2},1024))),128))]),_:1},8,["modules"])])])],512)]),we(CP,{class:"mt-30"})],64))}},RM=ss(PM,[["__scopeId","data-v-9365af10"]]),MM={class:"max-w-7xl mx-auto px-4 py-10"},OM={class:"text-sm text-gray-500 mb-4","aria-label":"Breadcrumb"},DM={key:0,class:"mx-2"},NM={key:1,class:"text-gray-700 font-medium"},LM={key:0,class:"py-24 text-center"},FM={key:1,class:"py-12 text-center"},$M={class:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg inline-flex items-center gap-3 shadow-md"},VM={key:0,class:"grid gap-8 lg:gap-12 md:grid-cols-2 items-start"},BM={class:"animated-component"},UM={class:"relative rounded-2xl overflow-hidden shadow-2xl"},jM=["src","alt"],zM={key:1,class:"w-full h-[450px] bg-gray-100 flex items-center justify-center text-gray-400"},HM={class:"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3"},qM=["onClick"],GM=["src"],WM={class:"space-y-6 animated-component",style:{"animation-delay":"150ms"}},KM={class:"flex items-start justify-between gap-4"},YM={class:"text-3xl md:text-4xl font-extrabold text-gray-900 leading-tight tracking-tight"},QM={key:0,class:"mt-2 text-md text-gray-500"},XM={class:"text-right flex-shrink-0"},JM={class:"text-3xl font-bold text-purple-600"},ZM={class:"flex gap-3 items-center flex-wrap"},eO={key:0,class:"text-xs bg-purple-100 text-purple-700 px-3 py-1 rounded-full font-semibold shadow-sm"},tO={key:1,class:"text-sm text-gray-600 flex items-center gap-1.5"},nO={class:"font-bold text-gray-800"},sO={class:"text-gray-400 hover:text-gray-600 cursor-pointer"},iO={class:"prose max-w-none text-gray-700 border-t pt-4"},rO=["innerHTML"],oO={key:0,class:"space-y-4"},aO={class:"text-sm font-semibold w-24 text-gray-700 capitalize"},lO={class:"flex gap-2 flex-wrap"},cO=["onClick"],uO={class:"flex items-center gap-4 pt-4 border-t"},dO={class:"w-full sm:w-auto"},fO={class:"flex flex-col sm:flex-row items-stretch sm:items-center border rounded-lg overflow-hidden shadow-sm"},hO=["disabled"],pO=["max"],gO=["disabled"],mO=["disabled"],vO={key:0,class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true"},yO={key:1,class:"w-5 h-5 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},wO={class:"mt-6 border-t pt-6"},bO={__name:"ProductView",setup(t){const e=Vm(),n=_o(),s=e.params.id,i=J(!0),r=J(""),o=J(null),a=J(""),l=J(1),c=J(!1),u=J(""),d=J("ok"),f=ld();function h(C){const x=parseFloat(String(C??0).replace(",","."));return Number.isFinite(x)?x:0}async function g(C){i.value=!0,r.value="",o.value=null;try{const x=String(C),P=el(nl,"products",x),T=await G0(P);if(T.exists()){const M=T.data();o.value={id:T.id,title:M.title??M.name??"Sin ttulo",subtitle:M.subtitle??"",price:h(M.price??M.unitPrice??M.amount),currency:M.currency??"PEN",images:Array.isArray(M.images)?M.images:M.image?[M.image]:[],imagesPreview:Array.isArray(M.images)?M.images:M.image?[M.image]:[],descriptionHtml:M.description??M.descHtml??"",stock:typeof M.stock<"u"?Number(M.stock):void 0,rating:M.rating??null,reviewsCount:M.reviewsCount??null,badge:M.badge??null,attributes:M.attributes??{},raw:M},a.value=o.value.images[0]??"",document.title=`${o.value.title}  Mi E-Commerce`;return}const I=Array.isArray(Qi)?Qi.find(M=>String(M.id)===x||String(M._id)===x||String(M.productId)===x):null;if(I){o.value={id:I.id??I._id??I.productId??x,title:I.title??I.name??"Sin ttulo",subtitle:I.subtitle??"",price:h(I.price??I.unitPrice??I.amount),currency:I.currency??"PEN",images:Array.isArray(I.images)?I.images:I.image?[I.image]:[],imagesPreview:Array.isArray(I.images)?I.images:I.image?[I.image]:[],descriptionHtml:I.description??I.descHtml??"",stock:typeof I.stock<"u"?Number(I.stock):void 0,rating:I.rating??null,reviewsCount:I.reviewsCount??null,badge:I.badge??null,attributes:I.attributes??{},raw:I},a.value=o.value.images[0]??"",document.title=`${o.value.title}  Mi E-Commerce (local)`;return}r.value="Producto no encontrado.",setTimeout(()=>n.replace({name:"home"}),1400)}catch(x){console.error("fetchProduct error",x),(x==null?void 0:x.code)==="permission-denied"||x!=null&&x.message&&x.message.includes("insufficient permissions")?r.value="No tienes permiso para ver este producto. Inicia sesin o revisa las reglas de Firestore.":r.value="Error cargando el producto."}finally{i.value=!1}}const v=he(()=>o.value?Number(o.value.price||0):0),k=he(()=>v.value.toFixed(2));function _(){c.value||(o.value&&typeof o.value.stock<"u"?l.value<o.value.stock?l.value++:(d.value="error",u.value="No hay ms unidades en stock.",setTimeout(()=>u.value="",2e3)):l.value++)}function m(){c.value||(l.value=Math.max(1,l.value-1))}const p=J({});function b(C,x){p.value={...p.value,[C]:x}}async function E(){if(o.value){if(o.value.stock===0){d.value="error",u.value="Producto agotado.";return}c.value=!0,u.value="";try{const C={id:o.value.id,title:o.value.title,price:v.value,qty:l.value,image:a.value||o.value.images[0]||"",attributes:p.value};if(typeof f.addToCart=="function")await f.addToCart(C);else if(Array.isArray(f.items)){const x=f.items.findIndex(P=>(P.id??P.productId)===C.id);if(x!==-1){const P=f.items[x];P.qty=Number(P.qty||P.quantity||0)+Number(C.qty||1)}else f.items.push(C);typeof f.save=="function"&&await f.save()}else console.warn("No se encontr mtodo addToCart ni array items en el store.");d.value="ok",u.value="Aadido al carrito!",setTimeout(()=>u.value="",2e3)}catch(C){console.error("addToCart error",C),d.value="error",u.value="No se pudo aadir al carrito. Intenta de nuevo."}finally{setTimeout(()=>{c.value=!1},400)}}}return Qt(()=>e.params.id,C=>{C&&g(C)}),mn(()=>{const C=e.params.id??s;if(!C){r.value="Id de producto invlido.";return}g(C)}),(C,x)=>{const P=Ni("router-link");return X(),te("div",MM,[w("nav",OM,[we(P,{to:"/",class:"hover:underline hover:text-purple-600 transition-colors"},{default:Pe(()=>x[1]||(x[1]=[Ke("Inicio")])),_:1,__:[1]}),x[3]||(x[3]=w("span",{class:"mx-2"},"/",-1)),we(P,{to:"/products",class:"hover:underline hover:text-purple-600 transition-colors"},{default:Pe(()=>x[2]||(x[2]=[Ke("Productos")])),_:1,__:[2]}),o.value?(X(),te("span",DM,"/")):Ve("",!0),o.value?(X(),te("span",NM,We(o.value.title),1)):Ve("",!0)]),i.value?(X(),te("div",LM,x[4]||(x[4]=[Yc('<div class="inline-flex items-center gap-3" data-v-47f71491><svg class="w-8 h-8 animate-spin text-purple-600" viewBox="0 0 24 24" fill="none" aria-hidden="true" data-v-47f71491><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" data-v-47f71491></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" data-v-47f71491></path></svg><span class="text-lg text-gray-600 font-medium" data-v-47f71491>Cargando producto</span></div>',1)]))):r.value?(X(),te("div",FM,[w("div",$M,[x[5]||(x[5]=w("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),w("span",null,We(r.value),1)])])):Ve("",!0),we(Qs,{name:"fade",appear:""},{default:Pe(()=>[o.value?(X(),te("section",VM,[w("div",BM,[w("div",UM,[we(Qs,{name:"fade-image",mode:"out-in"},{default:Pe(()=>[a.value?(X(),te("img",{key:a.value,src:a.value,alt:o.value.title,class:"w-full h-[450px] object-cover"},null,8,jM)):(X(),te("div",zM," Sin imagen "))]),_:1})]),w("div",HM,[(X(!0),te(et,null,qn(o.value.imagesPreview,(T,I)=>(X(),te("button",{key:I,class:rt(["rounded-lg overflow-hidden border-2 transition-all duration-200 ease-in-out transform hover:scale-105 focus:outline-none",a.value===T?"border-purple-500 ring-2 ring-purple-300 shadow-lg":"border-transparent"]),onClick:M=>a.value=T,"aria-label":"Ver imagen"},[w("img",{src:T,class:"w-full h-28 sm:h-24 object-cover",loading:"lazy"},null,8,GM)],10,qM))),128))])]),w("div",WM,[w("div",KM,[w("div",null,[w("h1",YM,We(o.value.title),1),o.value.subtitle?(X(),te("p",QM,We(o.value.subtitle),1)):Ve("",!0)]),w("div",XM,[w("div",JM,"S/. "+We(k.value),1),o.value.stock!==void 0?(X(),te("div",{key:0,class:rt(["text-sm mt-1 font-semibold",o.value.stock>0?"text-green-600":"text-red-500"])},We(o.value.stock>0?`En stock: ${o.value.stock}`:"Agotado"),3)):Ve("",!0)])]),w("div",ZM,[o.value.badge?(X(),te("span",eO,We(o.value.badge),1)):Ve("",!0),o.value.rating?(X(),te("div",tO,[x[6]||(x[6]=w("svg",{class:"w-5 h-5 text-yellow-400",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[w("path",{d:"M12 .587l3.668 7.431L23.6 9.75l-5.8 5.65L19.5 24 12 19.897 4.5 24l1.7-8.6L0.4 9.75l7.932-1.732z"})],-1)),w("span",nO,We(o.value.rating),1),x[7]||(x[7]=w("span",{class:"text-gray-400"},"",-1)),w("span",sO,We(o.value.reviewsCount??0)+" reseas",1)])):Ve("",!0)]),w("div",iO,[w("div",{innerHTML:o.value.descriptionHtml},null,8,rO)]),o.value.attributes&&Object.keys(o.value.attributes).length?(X(),te("div",oO,[(X(!0),te(et,null,qn(o.value.attributes,(T,I)=>(X(),te("div",{key:I,class:"flex items-center gap-4"},[w("div",aO,We(I),1),w("div",lO,[(X(!0),te(et,null,qn(T,M=>(X(),te("button",{key:M,onClick:D=>b(I,M),class:rt([p.value[I]===M?"ring-2 ring-purple-500 bg-purple-50 text-purple-700":"border bg-white hover:bg-gray-50","px-4 py-2 rounded-lg text-sm font-medium shadow-sm transition-all duration-200"]),"aria-pressed":"false"},We(M),11,cO))),128))])]))),128))])):Ve("",!0),w("div",uO,[x[13]||(x[13]=Ke(" <")),w("div",dO,[w("div",fO,[w("button",{onClick:m,class:"flex-none px-3 py-2 sm:px-4 sm:py-2 text-gray-600 hover:bg-gray-100 transition disabled:opacity-50",disabled:l.value<=1||c.value,"aria-label":"Disminuir cantidad"},x[8]||(x[8]=[w("span",{class:"text-lg sm:text-xl font-light"},"",-1)]),8,hO),tn(w("input",{"onUpdate:modelValue":x[0]||(x[0]=T=>l.value=T),type:"number",min:"1",max:o.value.stock||999,class:"w-full sm:w-16 text-center font-semibold text-lg text-gray-800 border-y sm:border-x appearance-none focus:outline-none px-3 py-2","aria-label":"Cantidad"},null,8,pO),[[Ts,l.value,void 0,{number:!0}]]),w("button",{onClick:_,class:"flex-none px-3 py-2 sm:px-4 sm:py-2 text-gray-600 hover:bg-gray-100 transition disabled:opacity-50",disabled:o.value.stock!==void 0&&l.value>=o.value.stock||c.value,"aria-label":"Aumentar cantidad"},x[9]||(x[9]=[w("span",{class:"text-lg sm:text-xl font-light"},"+",-1)]),8,gO)])]),w("button",{onClick:E,disabled:o.value.stock===0||c.value,class:"flex-grow inline-flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-br from-purple-600 to-indigo-600 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-purple-300 disabled:opacity-60 disabled:cursor-not-allowed"},[c.value?(X(),te("svg",yO,x[11]||(x[11]=[w("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),w("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(X(),te("svg",vO,x[10]||(x[10]=[w("path",{d:"M3 3h2l.4 2M7 13h10l3-8H6.4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))),x[12]||(x[12]=w("span",null,"Aadir al carrito",-1))],8,mO)]),we(Qs,{name:"slide-fade"},{default:Pe(()=>[u.value?(X(),te("div",{key:0,class:rt(["mt-3 text-sm font-semibold",d.value==="ok"?"text-green-600":"text-red-600"])},We(u.value),3)):Ve("",!0)]),_:1}),x[15]||(x[15]=w("div",{class:"mt-6 text-xs text-gray-500 flex items-center gap-4 border-t pt-4"},[w("span",null," Envo en 2448h"),w("span",null," Devoluciones en 14 das"),w("span",null," Pago seguro")],-1)),w("div",wO,[we(P,{to:{path:"/",hash:"#recommended-products"},class:"inline-flex items-center gap-2 text-sm font-medium text-purple-600 hover:text-purple-800 transition-colors group"},{default:Pe(()=>x[14]||(x[14]=[w("svg",{class:"w-4 h-4 transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})],-1)])),_:1,__:[14]})])])])):Ve("",!0)]),_:1})])}}},EO=ss(bO,[["__scopeId","data-v-47f71491"]]),SO={class:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4"},_O={class:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8 transform transition-all duration-400",role:"region","aria-labelledby":"login-title"},TO={class:"mb-6 text-center"},xO=["src"],CO={class:"space-y-4"},IO={class:"relative mt-1"},AO=["type"],kO=["aria-pressed","aria-label"],PO={key:0,xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},RO={key:1,xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},MO={class:"flex items-center justify-between"},OO={class:"inline-flex items-center text-sm"},DO={key:0,class:"rounded-md bg-red-50 p-3 text-sm text-red-700",role:"alert","aria-live":"polite"},NO=["disabled"],LO={key:0,class:"inline-flex items-center gap-2"},FO={key:1},$O={class:"text-center text-sm text-gray-500 mt-2"},VO={__name:"LoginView",setup(t){const e=J({email:"",password:"",remember:!1}),n=J(!1),s=J(!1),i=J(""),r=J({field:null}),o=_o();let a=null;try{a=new URL("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='2500'%20height='2500'%20viewBox='0%200%20192.756%20192.756'%3e%3cg%20fill-rule='evenodd'%20clip-rule='evenodd'%3e%3cpath%20fill='%23fff'%20d='M0%200h192.756v192.756H0V0z'/%3e%3cpath%20d='M19.551%20114.27v-3.028H6.316V97.779h11.512v-3.026H6.316V81.514h13.235v-3.03H2.834v35.786h16.717zM80.744%20114.27v-3.028H67.675V78.484h-3.477v35.786h16.546zM94.127%20114.27h3.482V78.484h-3.482v35.786zM189.922%20114.27v-3.028h-13.244V97.779h11.527v-3.026h-11.527V81.514h13.244v-3.03h-16.719v35.786h16.719zM113.637%20114.27h3.473v-12.193l4.471.008c7.584%200%2011.951-5.951%2011.951-11.929%200-5.985-4.367-11.671-11.951-11.671h-7.943v35.785h-.001z'/%3e%3cpath%20d='M117.109%2098.863v-17.16h4.426c5.42%200%208.533%203.266%208.533%208.448%200%205.179-3.125%208.712-8.541%208.712h-4.418z'%20fill='%23fff'/%3e%3cpath%20d='M142.301%20112.422c1.459%201.178%204.092%202.355%207.455%202.355%205.781%200%209.537-3.482%209.537-9.367%200-5.104-2.92-8.248-8.021-11.781-3.535-2.467-5.164-4.876-5.164-7.516%200-2.747%201.852-5.164%205.387-5.164%202.129%200%204.262.954%205.273%201.852l.617-3.03c-1.125-.837-3.311-1.792-6.004-1.792-5.715%200-8.693%203.873-8.693%208.357%200%204.099%202.303%207.292%207.352%2010.66%204.035%202.693%205.717%205.217%205.717%208.697%200%203.811-2.58%206-6.061%206-2.588%200-4.861-.928-6.785-2.295l-.61%203.024zM42.5%20110.172c2.443-.023%204.057-.479%205.289-1.213l-.402-2.137c-1.284.67-2.894%201.041-4.777%201.041-5.936%200-9.69-4.545-9.69-11.488%200-6.937%203.796-11.523%209.69-11.523%202.189%200%204.167.757%205.304%201.599l.421-2.315c-1.307-.86-3.255-1.522-5.834-1.557%200%200%20.069%200%200%200-7.319%200-12.236%205.345-12.236%2013.797%200%208.416%204.985%2013.805%2012.236%2013.805.067-.001-.001-.009-.001-.009z'/%3e%3c/g%3e%3c/svg%3e",import.meta.url).href}catch{a=null}function l(){n.value=!n.value}function c(d,f){return d?d==="auth/user-not-found"?"No existe una cuenta con ese correo.":d==="auth/wrong-password"?"Contrasea incorrecta.":d==="auth/invalid-email"?"Correo invlido.":d==="auth/too-many-requests"?"Demasiados intentos. Intenta ms tarde.":f||"Error al iniciar sesin.":"Error al iniciar sesin."}async function u(){if(i.value="",r.value.field=null,!e.value.email){r.value.field="email",i.value="Por favor ingresa tu correo.";return}if(!e.value.password){r.value.field="password",i.value="Por favor ingresa tu contrasea.";return}s.value=!0;try{const d=e.value.remember?Iv:bd;await OT(Ds,d),await PT(Ds,e.value.email,e.value.password),o.push({name:"home"})}catch(d){i.value=c(d.code,d.message)}finally{s.value=!1}}return(d,f)=>{const h=Ni("router-link");return X(),te("div",SO,[we(Qs,{name:"fade-slide",appear:""},{default:Pe(()=>[w("div",_O,[w("div",TO,[ot(a)?(X(),te("img",{key:0,src:ot(a),alt:"Mi E-Commerce",class:"mx-auto w-12 h-12 mb-3"},null,8,xO)):Ve("",!0),f[3]||(f[3]=w("h1",{id:"login-title",class:"text-2xl font-extrabold text-gray-900"},"Inicia sesin",-1)),f[4]||(f[4]=w("p",{class:"mt-2 text-sm text-gray-500"}," Accede a tu cuenta para ver tus pedidos, favoritos y ms. ",-1))]),w("form",{onSubmit:Xs(u,["prevent"]),novalidate:""},[w("div",CO,[w("div",null,[f[5]||(f[5]=w("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Correo electrnico",-1)),tn(w("input",{id:"email",type:"email","onUpdate:modelValue":f[0]||(f[0]=g=>e.value.email=g),required:"",autocomplete:"email",class:rt(["mt-1 block w-full px-4 py-3 rounded-lg border border-gray-200 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-purple-400 transition",{"ring-2 ring-red-300":r.value.field==="email"}]),"aria-invalid":"false"},null,2),[[Ts,e.value.email]])]),w("div",null,[f[8]||(f[8]=w("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Contrasea",-1)),w("div",IO,[tn(w("input",{type:n.value?"text":"password",id:"password","onUpdate:modelValue":f[1]||(f[1]=g=>e.value.password=g),required:"",autocomplete:"current-password",class:rt(["block w-full px-4 py-3 rounded-lg border border-gray-200 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-purple-400 transition pr-12",{"ring-2 ring-red-300":r.value.field==="password"}]),"aria-describedby":"password-help"},null,10,AO),[[Tm,e.value.password]]),w("button",{type:"button",onClick:l,class:"absolute right-2 top-1/2 -translate-y-1/2 inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-purple-300","aria-pressed":String(n.value),"aria-label":n.value?"Ocultar contrasea":"Mostrar contrasea"},[n.value?(X(),te("svg",RO,f[7]||(f[7]=[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.8",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.96 9.96 0 012.5-4.055M3 3l18 18"},null,-1)]))):(X(),te("svg",PO,f[6]||(f[6]=[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.8",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1),w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.8",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)])))],8,kO)]),f[9]||(f[9]=w("p",{id:"password-help",class:"mt-1 text-xs text-gray-400"},"Mnimo 6 caracteres.",-1))]),w("div",MO,[w("label",OO,[tn(w("input",{type:"checkbox","onUpdate:modelValue":f[2]||(f[2]=g=>e.value.remember=g),class:"h-4 w-4 text-purple-600 rounded focus:ring-purple-400 border-gray-300"},null,512),[[rd,e.value.remember]]),f[10]||(f[10]=w("span",{class:"ml-2 text-gray-700"},"Recurdame",-1))]),we(h,{to:"/forgot",class:"text-sm text-purple-600 hover:underline"},{default:Pe(()=>f[11]||(f[11]=[Ke("Olvidaste tu contrasea?")])),_:1,__:[11]})]),i.value?(X(),te("div",DO,We(i.value),1)):Ve("",!0),w("div",null,[w("button",{type:"submit",class:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-semibold bg-gradient-to-br from-purple-600 to-purple-500 text-white shadow-lg hover:brightness-105 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-purple-300 transform transition active:scale-95 disabled:opacity-60",disabled:s.value},[s.value?(X(),te("span",LO,f[12]||(f[12]=[w("svg",{class:"w-5 h-5 animate-spin",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true"},[w("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),w("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 100 16v-4l-3 3 3 3v-4a8 8 0 01-8-8z"})],-1),Ke(" Iniciando... ")]))):(X(),te("span",FO,"Entrar"))],8,NO)]),f[15]||(f[15]=w("div",{class:"flex items-center gap-3"},[w("div",{class:"h-px bg-gray-200 flex-1"}),w("div",{class:"text-xs text-gray-400"},"o"),w("div",{class:"h-px bg-gray-200 flex-1"})],-1)),f[16]||(f[16]=w("div",{class:"grid grid-cols-2 gap-3"},[w("button",{type:"button",class:"py-2 rounded-lg border border-gray-200 flex items-center justify-center gap-2 hover:shadow-sm transition"},[w("svg",{class:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor"},[w("path",{d:"M22 12a10 10 0 10-11.6 9.8v-6.9h-2.4V12h2.4V9.6c0-2.4 1.4-3.7 3.5-3.7 1 0 2 .08 2 .08v2.2h-1.1c-1.1 0-1.5.71-1.5 1.44V12h2.6l-.4 2.9h-2.2v6.9A10 10 0 0022 12z"})]),w("span",{class:"text-sm text-gray-700"},"Continuar con Facebook")]),w("button",{type:"button",class:"py-2 rounded-lg border border-gray-200 flex items-center justify-center gap-2 hover:shadow-sm transition"},[w("svg",{class:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor"},[w("path",{d:"M21.5 12.3c0-.8-.1-1.4-.3-2H12v3.4h5.6c-.2 1.3-.9 2.3-1.9 3v2h3.1c1.8-1.7 2.8-4.2 2.8-7.4z"})]),w("span",{class:"text-sm text-gray-700"},"Continuar con Google")])],-1)),w("p",$O,[f[14]||(f[14]=Ke(" No tienes cuenta? ")),we(h,{to:"/register",class:"text-purple-600 font-semibold hover:underline"},{default:Pe(()=>f[13]||(f[13]=[Ke(" Regstrate")])),_:1,__:[13]})])])],32)])]),_:1})])}}},BO=ss(VO,[["__scopeId","data-v-2b648dbb"]]),UO={class:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4"},jO={class:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8 transform transition-all duration-400",role:"region","aria-labelledby":"register-title"},zO={class:"mb-6 text-center"},HO=["src"],qO={class:"space-y-4"},GO={class:"relative mt-1"},WO=["type"],KO=["aria-pressed","aria-label"],YO={key:0,xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},QO={key:1,xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},XO={class:"flex items-center gap-2"},JO={for:"terms",class:"text-sm text-gray-700"},ZO={key:0,class:"rounded-md bg-red-50 p-3 text-sm text-red-700",role:"alert","aria-live":"polite"},eD=["disabled"],tD={key:0,class:"inline-flex items-center gap-2"},nD={key:1},sD={class:"text-center text-sm text-gray-500 mt-2"},iD={__name:"RegisterView",setup(t){const e=J({name:"",email:"",password:"",confirm:"",terms:!1}),n=J(!1),s=J(!1),i=J(""),r=J({field:null}),o=_o();let a=null;try{a=new URL("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='2500'%20height='2500'%20viewBox='0%200%20192.756%20192.756'%3e%3cg%20fill-rule='evenodd'%20clip-rule='evenodd'%3e%3cpath%20fill='%23fff'%20d='M0%200h192.756v192.756H0V0z'/%3e%3cpath%20d='M19.551%20114.27v-3.028H6.316V97.779h11.512v-3.026H6.316V81.514h13.235v-3.03H2.834v35.786h16.717zM80.744%20114.27v-3.028H67.675V78.484h-3.477v35.786h16.546zM94.127%20114.27h3.482V78.484h-3.482v35.786zM189.922%20114.27v-3.028h-13.244V97.779h11.527v-3.026h-11.527V81.514h13.244v-3.03h-16.719v35.786h16.719zM113.637%20114.27h3.473v-12.193l4.471.008c7.584%200%2011.951-5.951%2011.951-11.929%200-5.985-4.367-11.671-11.951-11.671h-7.943v35.785h-.001z'/%3e%3cpath%20d='M117.109%2098.863v-17.16h4.426c5.42%200%208.533%203.266%208.533%208.448%200%205.179-3.125%208.712-8.541%208.712h-4.418z'%20fill='%23fff'/%3e%3cpath%20d='M142.301%20112.422c1.459%201.178%204.092%202.355%207.455%202.355%205.781%200%209.537-3.482%209.537-9.367%200-5.104-2.92-8.248-8.021-11.781-3.535-2.467-5.164-4.876-5.164-7.516%200-2.747%201.852-5.164%205.387-5.164%202.129%200%204.262.954%205.273%201.852l.617-3.03c-1.125-.837-3.311-1.792-6.004-1.792-5.715%200-8.693%203.873-8.693%208.357%200%204.099%202.303%207.292%207.352%2010.66%204.035%202.693%205.717%205.217%205.717%208.697%200%203.811-2.58%206-6.061%206-2.588%200-4.861-.928-6.785-2.295l-.61%203.024zM42.5%20110.172c2.443-.023%204.057-.479%205.289-1.213l-.402-2.137c-1.284.67-2.894%201.041-4.777%201.041-5.936%200-9.69-4.545-9.69-11.488%200-6.937%203.796-11.523%209.69-11.523%202.189%200%204.167.757%205.304%201.599l.421-2.315c-1.307-.86-3.255-1.522-5.834-1.557%200%200%20.069%200%200%200-7.319%200-12.236%205.345-12.236%2013.797%200%208.416%204.985%2013.805%2012.236%2013.805.067-.001-.001-.009-.001-.009z'/%3e%3c/g%3e%3c/svg%3e",import.meta.url).href}catch{a=null}function l(){n.value=!n.value}function c(d,f){return d?d==="auth/email-already-in-use"?"El correo ya est en uso.":d==="auth/weak-password"?"La contrasea es muy dbil (mnimo 6 caracteres).":d==="auth/invalid-email"?"Correo invlido.":d==="auth/too-many-requests"?"Demasiados intentos. Intenta ms tarde.":f||"Error al crear la cuenta.":"Error al crear la cuenta."}async function u(){if(i.value="",r.value.field=null,!e.value.email){r.value.field="email",i.value="Por favor ingresa tu correo.";return}if(!e.value.password){r.value.field="password",i.value="Por favor ingresa tu contrasea.";return}if(e.value.password.length<6){r.value.field="password",i.value="La contrasea debe tener al menos 6 caracteres.";return}if(e.value.password!==e.value.confirm){r.value.field="confirm",i.value="Las contraseas no coinciden.";return}if(!e.value.terms){r.value.field=null,i.value="Debes aceptar los trminos y condiciones.";return}s.value=!0;try{const d=await kT(Ds,e.value.email,e.value.password);try{e.value.name&&d.user&&await MT(d.user,{displayName:e.value.name})}catch(f){console.warn("updateProfile error:",f)}try{if(d.user&&d.user.uid){const f=el(nl,"users",d.user.uid);await W0(f,{email:d.user.email,displayName:d.user.displayName||e.value.name||null,createdAt:K0(),preferences:{}},{merge:!0})}}catch(f){console.warn("No se pudo crear el documento de usuario en Firestore:",f)}o.push({name:"home"})}catch(d){i.value=c(d.code,d.message)}finally{s.value=!1}}return(d,f)=>{const h=Ni("router-link");return X(),te("div",UO,[we(Qs,{name:"fade-slide",appear:""},{default:Pe(()=>[w("div",jO,[w("div",zO,[ot(a)?(X(),te("img",{key:0,src:ot(a),alt:"Mi E-Commerce",class:"mx-auto w-12 h-12 mb-3"},null,8,HO)):Ve("",!0),f[5]||(f[5]=w("h1",{id:"register-title",class:"text-2xl font-extrabold text-gray-900"},"Crea tu cuenta",-1)),f[6]||(f[6]=w("p",{class:"mt-2 text-sm text-gray-500"}," Regstrate para comprar, guardar favoritos y ver tu historial. ",-1))]),w("form",{onSubmit:Xs(u,["prevent"]),novalidate:""},[w("div",qO,[w("div",null,[f[7]||(f[7]=w("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Nombre (opcional)",-1)),tn(w("input",{id:"name",type:"text","onUpdate:modelValue":f[0]||(f[0]=g=>e.value.name=g),autocomplete:"name",class:"mt-1 block w-full px-4 py-3 rounded-lg border border-gray-200 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-purple-400 transition"},null,512),[[Ts,e.value.name]])]),w("div",null,[f[8]||(f[8]=w("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Correo electrnico",-1)),tn(w("input",{id:"email",type:"email","onUpdate:modelValue":f[1]||(f[1]=g=>e.value.email=g),required:"",autocomplete:"email",class:rt(["mt-1 block w-full px-4 py-3 rounded-lg border border-gray-200 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-purple-400 transition",{"ring-2 ring-red-300":r.value.field==="email"}]),"aria-invalid":"false"},null,2),[[Ts,e.value.email]])]),w("div",null,[f[11]||(f[11]=w("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Contrasea",-1)),w("div",GO,[tn(w("input",{type:n.value?"text":"password",id:"password","onUpdate:modelValue":f[2]||(f[2]=g=>e.value.password=g),required:"",minlength:"6",autocomplete:"new-password",class:rt(["block w-full px-4 py-3 rounded-lg border border-gray-200 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-purple-400 transition pr-12",{"ring-2 ring-red-300":r.value.field==="password"}]),"aria-describedby":"password-help"},null,10,WO),[[Tm,e.value.password]]),w("button",{type:"button",onClick:l,class:"absolute right-2 top-1/2 -translate-y-1/2 inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-purple-300","aria-pressed":String(n.value),"aria-label":n.value?"Ocultar contrasea":"Mostrar contrasea"},[n.value?(X(),te("svg",QO,f[10]||(f[10]=[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.8",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.96 9.96 0 012.5-4.055M3 3l18 18"},null,-1)]))):(X(),te("svg",YO,f[9]||(f[9]=[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.8",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1),w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.8",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)])))],8,KO)]),f[12]||(f[12]=w("p",{id:"password-help",class:"mt-1 text-xs text-gray-400"},"Mnimo 6 caracteres.",-1))]),w("div",null,[f[13]||(f[13]=w("label",{for:"confirm",class:"block text-sm font-medium text-gray-700"},"Confirmar contrasea",-1)),tn(w("input",{id:"confirm",type:"password","onUpdate:modelValue":f[3]||(f[3]=g=>e.value.confirm=g),required:"",minlength:"6",autocomplete:"new-password",class:rt(["mt-1 block w-full px-4 py-3 rounded-lg border border-gray-200 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-purple-400 transition",{"ring-2 ring-red-300":r.value.field==="confirm"}])},null,2),[[Ts,e.value.confirm]])]),w("div",XO,[tn(w("input",{id:"terms",type:"checkbox","onUpdate:modelValue":f[4]||(f[4]=g=>e.value.terms=g),class:"h-4 w-4 text-purple-600 rounded focus:ring-purple-400 border-gray-300"},null,512),[[rd,e.value.terms]]),w("label",JO,[f[15]||(f[15]=Ke(" Acepto los ")),we(h,{to:"/terms",class:"text-purple-600 hover:underline"},{default:Pe(()=>f[14]||(f[14]=[Ke("trminos y condiciones")])),_:1,__:[14]})])]),i.value?(X(),te("div",ZO,We(i.value),1)):Ve("",!0),w("div",null,[w("button",{type:"submit",class:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-semibold bg-gradient-to-br from-purple-600 to-purple-500 text-white shadow-lg hover:brightness-105 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-purple-300 transform transition active:scale-95 disabled:opacity-60",disabled:s.value},[s.value?(X(),te("span",tD,f[16]||(f[16]=[w("svg",{class:"w-5 h-5 animate-spin",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true"},[w("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),w("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 100 16v-4l-3 3 3 3v-4a8 8 0 01-8-8z"})],-1),Ke(" Creando... ")]))):(X(),te("span",nD,"Crear cuenta"))],8,eD)]),f[19]||(f[19]=w("div",{class:"flex items-center gap-3"},[w("div",{class:"h-px bg-gray-200 flex-1"}),w("div",{class:"text-xs text-gray-400"},"o"),w("div",{class:"h-px bg-gray-200 flex-1"})],-1)),f[20]||(f[20]=w("div",{class:"grid grid-cols-2 gap-3"},[w("button",{type:"button",class:"py-2 rounded-lg border border-gray-200 flex items-center justify-center gap-2 hover:shadow-sm transition"},[w("svg",{class:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor"},[w("path",{d:"M22 12a10 10 0 10-11.6 9.8v-6.9h-2.4V12h2.4V9.6c0-2.4 1.4-3.7 3.5-3.7 1 0 2 .08 2 .08v2.2h-1.1c-1.1 0-1.5.71-1.5 1.44V12h2.6l-.4 2.9h-2.2v6.9A10 10 0 0022 12z"})]),w("span",{class:"text-sm text-gray-700"},"Continuar con Facebook")]),w("button",{type:"button",class:"py-2 rounded-lg border border-gray-200 flex items-center justify-center gap-2 hover:shadow-sm transition"},[w("svg",{class:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor"},[w("path",{d:"M21.5 12.3c0-.8-.1-1.4-.3-2H12v3.4h5.6c-.2 1.3-.9 2.3-1.9 3v2h3.1c1.8-1.7 2.8-4.2 2.8-7.4z"})]),w("span",{class:"text-sm text-gray-700"},"Continuar con Google")])],-1)),w("p",sD,[f[18]||(f[18]=Ke(" Ya tienes cuenta? ")),we(h,{to:"/login",class:"text-purple-600 font-semibold hover:underline"},{default:Pe(()=>f[17]||(f[17]=[Ke(" Inicia sesin")])),_:1,__:[17]})])])],32)])]),_:1})])}}},rD=ss(iD,[["__scopeId","data-v-e0454380"]]),oD=[{path:"/",name:"home",component:RM},{path:"/products",name:"products",component:ew},{path:"/product/:id",name:"product",component:EO,props:!0,meta:{hideHeader:!0}},{path:"/login",name:"login",component:BO,meta:{hideHeader:!0}},{path:"/register",name:"register",component:rD,meta:{hideHeader:!0}},{path:"/checkout",name:"checkout",component:()=>xk(()=>import("./Checkout-BeiNlsJb.js"),__vite__mapDeps([0,1])),meta:{requiresAuth:!0,hideHeader:!0}}],mw=tS({history:PE("/Eclipse/"),routes:oD});mw.beforeEach((t,e,n)=>{const s=t.matched.some(r=>r.meta.requiresAuth),i=Ds.currentUser;s&&!i?n({name:"login"}):n()});const aD=sS(),Tf=Q1(Sk);Tf.use(aD);Tf.use(mw);Tf.mount("#app");export{et as F,Qs as T,ss as _,_o as a,te as b,he as c,w as d,we as e,Ve as f,ot as g,ys as h,qn as i,F1 as j,Xs as k,Yc as l,tn as m,J as n,X as o,Ni as r,We as t,ld as u,Ts as v,Pe as w};
